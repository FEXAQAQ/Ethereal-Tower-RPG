(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))r(m);new MutationObserver(m=>{for(const v of m)if(v.type==="childList")for(const b of v.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&r(b)}).observe(document,{childList:!0,subtree:!0});function f(m){const v={};return m.integrity&&(v.integrity=m.integrity),m.referrerPolicy&&(v.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?v.credentials="include":m.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function r(m){if(m.ep)return;m.ep=!0;const v=f(m);fetch(m.href,v)}})();function U0(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Io={exports:{}},rs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function fh(){if(u0)return rs;u0=1;var c=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function f(r,m,v){var b=null;if(v!==void 0&&(b=""+v),m.key!==void 0&&(b=""+m.key),"key"in m){v={};for(var R in m)R!=="key"&&(v[R]=m[R])}else v=m;return m=v.ref,{$$typeof:c,type:r,key:b,ref:m!==void 0?m:null,props:v}}return rs.Fragment=u,rs.jsx=f,rs.jsxs=f,rs}var d0;function mh(){return d0||(d0=1,Io.exports=fh()),Io.exports}var s=mh(),Wo={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function xh(){if(f0)return Ae;f0=1;var c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),B=Symbol.iterator;function G(x){return x===null||typeof x!="object"?null:(x=B&&x[B]||x["@@iterator"],typeof x=="function"?x:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,le={};function se(x,k,K){this.props=x,this.context=k,this.refs=le,this.updater=K||ee}se.prototype.isReactComponent={},se.prototype.setState=function(x,k){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,k,"setState")},se.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function W(){}W.prototype=se.prototype;function Q(x,k,K){this.props=x,this.context=k,this.refs=le,this.updater=K||ee}var te=Q.prototype=new W;te.constructor=Q,Y(te,se.prototype),te.isPureReactComponent=!0;var ue=Array.isArray;function de(){}var A={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function D(x,k,K){var F=K.ref;return{$$typeof:c,type:x,key:k,ref:F!==void 0?F:null,props:K}}function J(x,k){return D(x.type,k,x.props)}function V(x){return typeof x=="object"&&x!==null&&x.$$typeof===c}function ie(x){var k={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(K){return k[K]})}var ce=/\/+/g;function I(x,k){return typeof x=="object"&&x!==null&&x.key!=null?ie(""+x.key):k.toString(36)}function ae(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(de,de):(x.status="pending",x.then(function(k){x.status==="pending"&&(x.status="fulfilled",x.value=k)},function(k){x.status==="pending"&&(x.status="rejected",x.reason=k)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function h(x,k,K,F,fe){var Z=typeof x;(Z==="undefined"||Z==="boolean")&&(x=null);var me=!1;if(x===null)me=!0;else switch(Z){case"bigint":case"string":case"number":me=!0;break;case"object":switch(x.$$typeof){case c:case u:me=!0;break;case j:return me=x._init,h(me(x._payload),k,K,F,fe)}}if(me)return fe=fe(x),me=F===""?"."+I(x,0):F,ue(fe)?(K="",me!=null&&(K=me.replace(ce,"$&/")+"/"),h(fe,k,K,"",function(Ce){return Ce})):fe!=null&&(V(fe)&&(fe=J(fe,K+(fe.key==null||x&&x.key===fe.key?"":(""+fe.key).replace(ce,"$&/")+"/")+me)),k.push(fe)),1;me=0;var ve=F===""?".":F+":";if(ue(x))for(var je=0;je<x.length;je++)F=x[je],Z=ve+I(F,je),me+=h(F,k,K,Z,fe);else if(je=G(x),typeof je=="function")for(x=je.call(x),je=0;!(F=x.next()).done;)F=F.value,Z=ve+I(F,je++),me+=h(F,k,K,Z,fe);else if(Z==="object"){if(typeof x.then=="function")return h(ae(x),k,K,F,fe);throw k=String(x),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return me}function _(x,k,K){if(x==null)return x;var F=[],fe=0;return h(x,F,"","",function(Z){return k.call(K,Z,fe++)}),F}function q(x){if(x._status===-1){var k=x._result;k=k(),k.then(function(K){(x._status===0||x._status===-1)&&(x._status=1,x._result=K)},function(K){(x._status===0||x._status===-1)&&(x._status=2,x._result=K)}),x._status===-1&&(x._status=0,x._result=k)}if(x._status===1)return x._result.default;throw x._result}var P=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},ne={map:_,forEach:function(x,k,K){_(x,function(){k.apply(this,arguments)},K)},count:function(x){var k=0;return _(x,function(){k++}),k},toArray:function(x){return _(x,function(k){return k})||[]},only:function(x){if(!V(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ae.Activity=E,Ae.Children=ne,Ae.Component=se,Ae.Fragment=f,Ae.Profiler=m,Ae.PureComponent=Q,Ae.StrictMode=r,Ae.Suspense=S,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(x){return A.H.useMemoCache(x)}},Ae.cache=function(x){return function(){return x.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(x,k,K){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var F=Y({},x.props),fe=x.key;if(k!=null)for(Z in k.key!==void 0&&(fe=""+k.key),k)!H.call(k,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&k.ref===void 0||(F[Z]=k[Z]);var Z=arguments.length-2;if(Z===1)F.children=K;else if(1<Z){for(var me=Array(Z),ve=0;ve<Z;ve++)me[ve]=arguments[ve+2];F.children=me}return D(x.type,fe,F)},Ae.createContext=function(x){return x={$$typeof:b,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:v,_context:x},x},Ae.createElement=function(x,k,K){var F,fe={},Z=null;if(k!=null)for(F in k.key!==void 0&&(Z=""+k.key),k)H.call(k,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(fe[F]=k[F]);var me=arguments.length-2;if(me===1)fe.children=K;else if(1<me){for(var ve=Array(me),je=0;je<me;je++)ve[je]=arguments[je+2];fe.children=ve}if(x&&x.defaultProps)for(F in me=x.defaultProps,me)fe[F]===void 0&&(fe[F]=me[F]);return D(x,Z,fe)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(x){return{$$typeof:R,render:x}},Ae.isValidElement=V,Ae.lazy=function(x){return{$$typeof:j,_payload:{_status:-1,_result:x},_init:q}},Ae.memo=function(x,k){return{$$typeof:y,type:x,compare:k===void 0?null:k}},Ae.startTransition=function(x){var k=A.T,K={};A.T=K;try{var F=x(),fe=A.S;fe!==null&&fe(K,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(de,P)}catch(Z){P(Z)}finally{k!==null&&K.types!==null&&(k.types=K.types),A.T=k}},Ae.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ae.use=function(x){return A.H.use(x)},Ae.useActionState=function(x,k,K){return A.H.useActionState(x,k,K)},Ae.useCallback=function(x,k){return A.H.useCallback(x,k)},Ae.useContext=function(x){return A.H.useContext(x)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(x,k){return A.H.useDeferredValue(x,k)},Ae.useEffect=function(x,k){return A.H.useEffect(x,k)},Ae.useEffectEvent=function(x){return A.H.useEffectEvent(x)},Ae.useId=function(){return A.H.useId()},Ae.useImperativeHandle=function(x,k,K){return A.H.useImperativeHandle(x,k,K)},Ae.useInsertionEffect=function(x,k){return A.H.useInsertionEffect(x,k)},Ae.useLayoutEffect=function(x,k){return A.H.useLayoutEffect(x,k)},Ae.useMemo=function(x,k){return A.H.useMemo(x,k)},Ae.useOptimistic=function(x,k){return A.H.useOptimistic(x,k)},Ae.useReducer=function(x,k,K){return A.H.useReducer(x,k,K)},Ae.useRef=function(x){return A.H.useRef(x)},Ae.useState=function(x){return A.H.useState(x)},Ae.useSyncExternalStore=function(x,k,K){return A.H.useSyncExternalStore(x,k,K)},Ae.useTransition=function(){return A.H.useTransition()},Ae.version="19.2.3",Ae}var m0;function or(){return m0||(m0=1,Wo.exports=xh()),Wo.exports}var w=or();const hh=U0(w);var Po={exports:{}},us={},er={exports:{}},tr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function ph(){return x0||(x0=1,(function(c){function u(h,_){var q=h.length;h.push(_);e:for(;0<q;){var P=q-1>>>1,ne=h[P];if(0<m(ne,_))h[P]=_,h[q]=ne,q=P;else break e}}function f(h){return h.length===0?null:h[0]}function r(h){if(h.length===0)return null;var _=h[0],q=h.pop();if(q!==_){h[0]=q;e:for(var P=0,ne=h.length,x=ne>>>1;P<x;){var k=2*(P+1)-1,K=h[k],F=k+1,fe=h[F];if(0>m(K,q))F<ne&&0>m(fe,K)?(h[P]=fe,h[F]=q,P=F):(h[P]=K,h[k]=q,P=k);else if(F<ne&&0>m(fe,q))h[P]=fe,h[F]=q,P=F;else break e}}return _}function m(h,_){var q=h.sortIndex-_.sortIndex;return q!==0?q:h.id-_.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;c.unstable_now=function(){return v.now()}}else{var b=Date,R=b.now();c.unstable_now=function(){return b.now()-R}}var S=[],y=[],j=1,E=null,B=3,G=!1,ee=!1,Y=!1,le=!1,se=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function te(h){for(var _=f(y);_!==null;){if(_.callback===null)r(y);else if(_.startTime<=h)r(y),_.sortIndex=_.expirationTime,u(S,_);else break;_=f(y)}}function ue(h){if(Y=!1,te(h),!ee)if(f(S)!==null)ee=!0,de||(de=!0,ie());else{var _=f(y);_!==null&&ae(ue,_.startTime-h)}}var de=!1,A=-1,H=5,D=-1;function J(){return le?!0:!(c.unstable_now()-D<H)}function V(){if(le=!1,de){var h=c.unstable_now();D=h;var _=!0;try{e:{ee=!1,Y&&(Y=!1,W(A),A=-1),G=!0;var q=B;try{t:{for(te(h),E=f(S);E!==null&&!(E.expirationTime>h&&J());){var P=E.callback;if(typeof P=="function"){E.callback=null,B=E.priorityLevel;var ne=P(E.expirationTime<=h);if(h=c.unstable_now(),typeof ne=="function"){E.callback=ne,te(h),_=!0;break t}E===f(S)&&r(S),te(h)}else r(S);E=f(S)}if(E!==null)_=!0;else{var x=f(y);x!==null&&ae(ue,x.startTime-h),_=!1}}break e}finally{E=null,B=q,G=!1}_=void 0}}finally{_?ie():de=!1}}}var ie;if(typeof Q=="function")ie=function(){Q(V)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,I=ce.port2;ce.port1.onmessage=V,ie=function(){I.postMessage(null)}}else ie=function(){se(V,0)};function ae(h,_){A=se(function(){h(c.unstable_now())},_)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(h){h.callback=null},c.unstable_forceFrameRate=function(h){0>h||125<h?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<h?Math.floor(1e3/h):5},c.unstable_getCurrentPriorityLevel=function(){return B},c.unstable_next=function(h){switch(B){case 1:case 2:case 3:var _=3;break;default:_=B}var q=B;B=_;try{return h()}finally{B=q}},c.unstable_requestPaint=function(){le=!0},c.unstable_runWithPriority=function(h,_){switch(h){case 1:case 2:case 3:case 4:case 5:break;default:h=3}var q=B;B=h;try{return _()}finally{B=q}},c.unstable_scheduleCallback=function(h,_,q){var P=c.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?P+q:P):q=P,h){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=q+ne,h={id:j++,callback:_,priorityLevel:h,startTime:q,expirationTime:ne,sortIndex:-1},q>P?(h.sortIndex=q,u(y,h),f(S)===null&&h===f(y)&&(Y?(W(A),A=-1):Y=!0,ae(ue,q-P))):(h.sortIndex=ne,u(S,h),ee||G||(ee=!0,de||(de=!0,ie()))),h},c.unstable_shouldYield=J,c.unstable_wrapCallback=function(h){var _=B;return function(){var q=B;B=_;try{return h.apply(this,arguments)}finally{B=q}}}})(tr)),tr}var h0;function bh(){return h0||(h0=1,er.exports=ph()),er.exports}var lr={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function gh(){if(p0)return Nt;p0=1;var c=or();function u(S){var y="https://react.dev/errors/"+S;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)y+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+S+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var r={d:{f,r:function(){throw Error(u(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},m=Symbol.for("react.portal");function v(S,y,j){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:E==null?null:""+E,children:S,containerInfo:y,implementation:j}}var b=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function R(S,y){if(S==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nt.createPortal=function(S,y){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(u(299));return v(S,y,null,j)},Nt.flushSync=function(S){var y=b.T,j=r.p;try{if(b.T=null,r.p=2,S)return S()}finally{b.T=y,r.p=j,r.d.f()}},Nt.preconnect=function(S,y){typeof S=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(S,y))},Nt.prefetchDNS=function(S){typeof S=="string"&&r.d.D(S)},Nt.preinit=function(S,y){if(typeof S=="string"&&y&&typeof y.as=="string"){var j=y.as,E=R(j,y.crossOrigin),B=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;j==="style"?r.d.S(S,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:B,fetchPriority:G}):j==="script"&&r.d.X(S,{crossOrigin:E,integrity:B,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Nt.preinitModule=function(S,y){if(typeof S=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var j=R(y.as,y.crossOrigin);r.d.M(S,{crossOrigin:j,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(S)},Nt.preload=function(S,y){if(typeof S=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var j=y.as,E=R(j,y.crossOrigin);r.d.L(S,j,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Nt.preloadModule=function(S,y){if(typeof S=="string")if(y){var j=R(y.as,y.crossOrigin);r.d.m(S,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:j,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(S)},Nt.requestFormReset=function(S){r.d.r(S)},Nt.unstable_batchedUpdates=function(S,y){return S(y)},Nt.useFormState=function(S,y,j){return b.H.useFormState(S,y,j)},Nt.useFormStatus=function(){return b.H.useHostTransitionStatus()},Nt.version="19.2.3",Nt}var b0;function G0(){if(b0)return lr.exports;b0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(u){console.error(u)}}return c(),lr.exports=gh(),lr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function vh(){if(g0)return us;g0=1;var c=bh(),u=or(),f=G0();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function b(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function R(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(v(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(r(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return S(n),e;if(i===a)return S(n),t;i=i.sibling}throw Error(r(188))}if(l.return!==a.return)l=n,a=i;else{for(var o=!1,d=n.child;d;){if(d===l){o=!0,l=n,a=i;break}if(d===a){o=!0,a=n,l=i;break}d=d.sibling}if(!o){for(d=i.child;d;){if(d===l){o=!0,l=i,a=n;break}if(d===a){o=!0,a=i,l=n;break}d=d.sibling}if(!o)throw Error(r(189))}}if(l.alternate!==a)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?e:t}function j(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=j(e),t!==null)return t;e=e.sibling}return null}var E=Object.assign,B=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Symbol.for("react.client.reference");function I(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case se:return"Profiler";case le:return"StrictMode";case ue:return"Suspense";case de:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ee:return"Portal";case Q:return e.displayName||"Context";case W:return(e._context.displayName||"Context")+".Consumer";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A:return t=e.displayName||null,t!==null?t:I(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return I(e(t))}catch{}}return null}var ae=Array.isArray,h=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},P=[],ne=-1;function x(e){return{current:e}}function k(e){0>ne||(e.current=P[ne],P[ne]=null,ne--)}function K(e,t){ne++,P[ne]=e.current,e.current=t}var F=x(null),fe=x(null),Z=x(null),me=x(null);function ve(e,t){switch(K(Z,t),K(fe,e),K(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Rf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Rf(t),e=Df(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(F),K(F,e)}function je(){k(F),k(fe),k(Z)}function Ce(e){e.memoizedState!==null&&K(me,e);var t=F.current,l=Df(t,e.type);t!==l&&(K(fe,e),K(F,l))}function st(e){fe.current===e&&(k(F),k(fe)),me.current===e&&(k(me),ss._currentValue=q)}var be,he;function $(e){if(be===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);be=t&&t[1]||"",he=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+e+he}var Re=!1;function Xe(e,t){if(!e||Re)return"";Re=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(z){var O=z}Reflect.construct(e,[],X)}else{try{X.call()}catch(z){O=z}e.call(X.prototype)}}else{try{throw Error()}catch(z){O=z}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(z){if(z&&O&&typeof z.stack=="string")return[z.stack,O.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),o=i[0],d=i[1];if(o&&d){var p=o.split(`
`),C=d.split(`
`);for(n=a=0;a<p.length&&!p[a].includes("DetermineComponentFrameRoot");)a++;for(;n<C.length&&!C[n].includes("DetermineComponentFrameRoot");)n++;if(a===p.length||n===C.length)for(a=p.length-1,n=C.length-1;1<=a&&0<=n&&p[a]!==C[n];)n--;for(;1<=a&&0<=n;a--,n--)if(p[a]!==C[n]){if(a!==1||n!==1)do if(a--,n--,0>n||p[a]!==C[n]){var U=`
`+p[a].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=a&&0<=n);break}}}finally{Re=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?$(l):""}function xt(e,t){switch(e.tag){case 26:case 27:case 5:return $(e.type);case 16:return $("Lazy");case 13:return e.child!==t&&t!==null?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return Xe(e.type,!1);case 11:return Xe(e.type.render,!1);case 1:return Xe(e.type,!0);case 31:return $("Activity");default:return""}}function Xt(e){try{var t="",l=null;do t+=xt(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ll=Object.prototype.hasOwnProperty,Et=c.unstable_scheduleCallback,_t=c.unstable_cancelCallback,na=c.unstable_shouldYield,Bi=c.unstable_requestPaint,Se=c.unstable_now,Te=c.unstable_getCurrentPriorityLevel,He=c.unstable_ImmediatePriority,lt=c.unstable_UserBlockingPriority,it=c.unstable_NormalPriority,St=c.unstable_LowPriority,sa=c.unstable_IdlePriority,Qt=c.log,J0=c.unstable_setDisableYieldValue,bn=null,zt=null;function Ol(e){if(typeof Qt=="function"&&J0(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(bn,e)}catch{}}var Ht=Math.clz32?Math.clz32:W0,F0=Math.log,I0=Math.LN2;function W0(e){return e>>>=0,e===0?32:31-(F0(e)/I0|0)|0}var bs=256,gs=262144,vs=4194304;function ia(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ys(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var d=a&134217727;return d!==0?(a=d&~i,a!==0?n=ia(a):(o&=d,o!==0?n=ia(o):l||(l=d&~e,l!==0&&(n=ia(l))))):(d=a&~i,d!==0?n=ia(d):o!==0?n=ia(o):l||(l=a&~e,l!==0&&(n=ia(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function gn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function P0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(){var e=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),e}function Ui(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function vn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function em(e,t,l,a,n,i){var o=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var d=e.entanglements,p=e.expirationTimes,C=e.hiddenUpdates;for(l=o&~l;0<l;){var U=31-Ht(l),X=1<<U;d[U]=0,p[U]=-1;var O=C[U];if(O!==null)for(C[U]=null,U=0;U<O.length;U++){var z=O[U];z!==null&&(z.lane&=-536870913)}l&=~X}a!==0&&xr(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function xr(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ht(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function hr(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-Ht(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function pr(e,t){var l=t&-t;return l=(l&42)!==0?1:Gi(l),(l&(e.suspendedLanes|t))!==0?0:l}function Gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function br(){var e=_.p;return e!==0?e:(e=window.event,e===void 0?32:a0(e.type))}function gr(e,t){var l=_.p;try{return _.p=e,t()}finally{_.p=l}}var kl=Math.random().toString(36).slice(2),ht="__reactFiber$"+kl,Tt="__reactProps$"+kl,Aa="__reactContainer$"+kl,Yi="__reactEvents$"+kl,tm="__reactListeners$"+kl,lm="__reactHandles$"+kl,vr="__reactResources$"+kl,yn="__reactMarker$"+kl;function Vi(e){delete e[ht],delete e[Tt],delete e[Yi],delete e[tm],delete e[lm]}function Ea(e){var t=e[ht];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Aa]||l[ht]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Yf(e);e!==null;){if(l=e[ht])return l;e=Yf(e)}return t}e=l,l=e.parentNode}return null}function _a(e){if(e=e[ht]||e[Aa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Sn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ta(e){var t=e[vr];return t||(t=e[vr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[yn]=!0}var yr=new Set,Sr={};function ca(e,t){wa(e,t),wa(e+"Capture",t)}function wa(e,t){for(Sr[e]=t,e=0;e<t.length;e++)yr.add(t[e])}var am=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nr={},jr={};function nm(e){return ll.call(jr,e)?!0:ll.call(Nr,e)?!1:am.test(e)?jr[e]=!0:(Nr[e]=!0,!1)}function Ss(e,t,l){if(nm(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Ns(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function ul(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ar(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sm(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){l=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(o){l=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qi(e){if(!e._valueTracker){var t=Ar(e)?"checked":"value";e._valueTracker=sm(e,t,""+e[t])}}function Er(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Ar(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var im=/[\n"\\]/g;function Zt(e){return e.replace(im,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xi(e,t,l,a,n,i,o,d){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Qi(e,o,Kt(t)):l!=null?Qi(e,o,Kt(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Kt(d):e.removeAttribute("name")}function _r(e,t,l,a,n,i,o,d){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){qi(e);return}l=l!=null?""+Kt(l):"",t=t!=null?""+Kt(t):l,d||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=d?e.checked:!!a,e.defaultChecked=!!a,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),qi(e)}function Qi(e,t,l){t==="number"&&js(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ma(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Kt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Tr(e,t,l){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Kt(l):""}function wr(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(r(92));if(ae(a)){if(1<a.length)throw Error(r(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Kt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),qi(e)}function Ca(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var cm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||cm.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Cr(e,t,l){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&Mr(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&Mr(e,i,t[i])}function Ki(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(e){return rm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function dl(){}var Zi=null;function $i(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oa=null,ka=null;function Or(e){var t=_a(e);if(t&&(e=t.stateNode)){var l=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xi(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Zt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[Tt]||null;if(!n)throw Error(r(90));Xi(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Er(a)}break e;case"textarea":Tr(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ma(e,!!l.multiple,t,!1)}}}var Ji=!1;function kr(e,t,l){if(Ji)return e(t,l);Ji=!0;try{var a=e(t);return a}finally{if(Ji=!1,(Oa!==null||ka!==null)&&(di(),Oa&&(t=Oa,e=ka,ka=Oa=null,Or(t),e)))for(t=0;t<e.length;t++)Or(e[t])}}function Nn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Tt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(r(231,t,typeof l));return l}var fl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fi=!1;if(fl)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{Fi=!1}var Rl=null,Ii=null,Es=null;function Rr(){if(Es)return Es;var e,t=Ii,l=t.length,a,n="value"in Rl?Rl.value:Rl.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var o=l-e;for(a=1;a<=o&&t[l-a]===n[i-a];a++);return Es=n.slice(e,1<a?1-a:void 0)}function _s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ts(){return!0}function Dr(){return!1}function wt(e){function t(l,a,n,i,o){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(l=e[d],this[d]=l?l(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ts:Dr,this.isPropagationStopped=Dr,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),t}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=wt(oa),An=E({},oa,{view:0,detail:0}),um=wt(An),Wi,Pi,En,Ms=E({},An,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==En&&(En&&e.type==="mousemove"?(Wi=e.screenX-En.screenX,Pi=e.screenY-En.screenY):Pi=Wi=0,En=e),Wi)},movementY:function(e){return"movementY"in e?e.movementY:Pi}}),zr=wt(Ms),dm=E({},Ms,{dataTransfer:0}),fm=wt(dm),mm=E({},An,{relatedTarget:0}),ec=wt(mm),xm=E({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),hm=wt(xm),pm=E({},oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bm=wt(pm),gm=E({},oa,{data:0}),Hr=wt(gm),vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sm[e])?!!t[e]:!1}function tc(){return Nm}var jm=E({},An,{key:function(e){if(e.key){var t=vm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ym[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Am=wt(jm),Em=E({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Br=wt(Em),_m=E({},An,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),Tm=wt(_m),wm=E({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mm=wt(wm),Cm=E({},Ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Om=wt(Cm),km=E({},oa,{newState:0,oldState:0}),Rm=wt(km),Dm=[9,13,27,32],lc=fl&&"CompositionEvent"in window,_n=null;fl&&"documentMode"in document&&(_n=document.documentMode);var zm=fl&&"TextEvent"in window&&!_n,Ur=fl&&(!lc||_n&&8<_n&&11>=_n),Gr=" ",Lr=!1;function Yr(e,t){switch(e){case"keyup":return Dm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function Hm(e,t){switch(e){case"compositionend":return Vr(t);case"keypress":return t.which!==32?null:(Lr=!0,Gr);case"textInput":return e=t.data,e===Gr&&Lr?null:e;default:return null}}function Bm(e,t){if(Ra)return e==="compositionend"||!lc&&Yr(e,t)?(e=Rr(),Es=Ii=Rl=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ur&&t.locale!=="ko"?null:t.data;default:return null}}var Um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Um[e.type]:t==="textarea"}function Xr(e,t,l,a){Oa?ka?ka.push(a):ka=[a]:Oa=a,t=gi(t,"onChange"),0<t.length&&(l=new ws("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Tn=null,wn=null;function Gm(e){Tf(e,0)}function Cs(e){var t=Sn(e);if(Er(t))return e}function Qr(e,t){if(e==="change")return t}var Kr=!1;if(fl){var ac;if(fl){var nc="oninput"in document;if(!nc){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),nc=typeof Zr.oninput=="function"}ac=nc}else ac=!1;Kr=ac&&(!document.documentMode||9<document.documentMode)}function $r(){Tn&&(Tn.detachEvent("onpropertychange",Jr),wn=Tn=null)}function Jr(e){if(e.propertyName==="value"&&Cs(wn)){var t=[];Xr(t,wn,e,$i(e)),kr(Gm,t)}}function Lm(e,t,l){e==="focusin"?($r(),Tn=t,wn=l,Tn.attachEvent("onpropertychange",Jr)):e==="focusout"&&$r()}function Ym(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cs(wn)}function Vm(e,t){if(e==="click")return Cs(t)}function qm(e,t){if(e==="input"||e==="change")return Cs(t)}function Xm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Xm;function Mn(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!ll.call(t,n)||!Bt(e[n],t[n]))return!1}return!0}function Fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ir(e,t){var l=Fr(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Fr(l)}}function Wr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=js(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=js(e.document)}return t}function sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Qm=fl&&"documentMode"in document&&11>=document.documentMode,Da=null,ic=null,Cn=null,cc=!1;function eu(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cc||Da==null||Da!==js(a)||(a=Da,"selectionStart"in a&&sc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Cn&&Mn(Cn,a)||(Cn=a,a=gi(ic,"onSelect"),0<a.length&&(t=new ws("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Da)))}function ra(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var za={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},oc={},tu={};fl&&(tu=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function ua(e){if(oc[e])return oc[e];if(!za[e])return e;var t=za[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in tu)return oc[e]=t[l];return e}var lu=ua("animationend"),au=ua("animationiteration"),nu=ua("animationstart"),Km=ua("transitionrun"),Zm=ua("transitionstart"),$m=ua("transitioncancel"),su=ua("transitionend"),iu=new Map,rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rc.push("scrollEnd");function al(e,t){iu.set(e,t),ca(t,[e])}var Os=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$t=[],Ha=0,uc=0;function ks(){for(var e=Ha,t=uc=Ha=0;t<e;){var l=$t[t];$t[t++]=null;var a=$t[t];$t[t++]=null;var n=$t[t];$t[t++]=null;var i=$t[t];if($t[t++]=null,a!==null&&n!==null){var o=a.pending;o===null?n.next=n:(n.next=o.next,o.next=n),a.pending=n}i!==0&&cu(l,n,i)}}function Rs(e,t,l,a){$t[Ha++]=e,$t[Ha++]=t,$t[Ha++]=l,$t[Ha++]=a,uc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function dc(e,t,l,a){return Rs(e,t,l,a),Ds(e)}function da(e,t){return Rs(e,null,null,t),Ds(e)}function cu(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Ht(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function Ds(e){if(50<Wn)throw Wn=0,So=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ba={};function Jm(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,l,a){return new Jm(e,t,l,a)}function fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ml(e,t){var l=e.alternate;return l===null?(l=Ut(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function ou(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zs(e,t,l,a,n,i){var o=0;if(a=e,typeof e=="function")fc(e)&&(o=1);else if(typeof e=="string")o=eh(e,l,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case D:return e=Ut(31,l,t,n),e.elementType=D,e.lanes=i,e;case Y:return fa(l.children,n,i,t);case le:o=8,n|=24;break;case se:return e=Ut(12,l,t,n|2),e.elementType=se,e.lanes=i,e;case ue:return e=Ut(13,l,t,n),e.elementType=ue,e.lanes=i,e;case de:return e=Ut(19,l,t,n),e.elementType=de,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:o=10;break e;case W:o=9;break e;case te:o=11;break e;case A:o=14;break e;case H:o=16,a=null;break e}o=29,l=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=Ut(o,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function fa(e,t,l,a){return e=Ut(7,e,a,t),e.lanes=l,e}function mc(e,t,l){return e=Ut(6,e,null,t),e.lanes=l,e}function ru(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function xc(e,t,l){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var uu=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var l=uu.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Xt(t)},uu.set(e,t),t)}return{value:e,source:t,stack:Xt(t)}}var Ua=[],Ga=0,Hs=null,On=0,Ft=[],It=0,Dl=null,il=1,cl="";function xl(e,t){Ua[Ga++]=On,Ua[Ga++]=Hs,Hs=e,On=t}function du(e,t,l){Ft[It++]=il,Ft[It++]=cl,Ft[It++]=Dl,Dl=e;var a=il;e=cl;var n=32-Ht(a)-1;a&=~(1<<n),l+=1;var i=32-Ht(t)+n;if(30<i){var o=n-n%5;i=(a&(1<<o)-1).toString(32),a>>=o,n-=o,il=1<<32-Ht(t)+n|l<<n|a,cl=i+e}else il=1<<i|l<<n|a,cl=e}function hc(e){e.return!==null&&(xl(e,1),du(e,1,0))}function pc(e){for(;e===Hs;)Hs=Ua[--Ga],Ua[Ga]=null,On=Ua[--Ga],Ua[Ga]=null;for(;e===Dl;)Dl=Ft[--It],Ft[It]=null,cl=Ft[--It],Ft[It]=null,il=Ft[--It],Ft[It]=null}function fu(e,t){Ft[It++]=il,Ft[It++]=cl,Ft[It++]=Dl,il=t.id,cl=t.overflow,Dl=e}var pt=null,Je=null,De=!1,zl=null,Wt=!1,bc=Error(r(519));function Hl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kn(Jt(t,e)),bc}function mu(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[ht]=e,t[Tt]=a,l){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(l=0;l<es.length;l++)Me(es[l],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),_r(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),wr(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||Of(t.textContent,l)?(a.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),a.onScroll!=null&&Me("scroll",t),a.onScrollEnd!=null&&Me("scrollend",t),a.onClick!=null&&(t.onclick=dl),t=!0):t=!1,t||Hl(e,!0)}function xu(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:pt=pt.return}}function La(e){if(e!==pt)return!1;if(!De)return xu(e),De=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Ho(e.type,e.memoizedProps)),l=!l),l&&Je&&Hl(e),xu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Je=Lf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Je=Lf(e)}else t===27?(t=Je,Fl(e.type)?(e=Yo,Yo=null,Je=e):Je=t):Je=pt?el(e.stateNode.nextSibling):null;return!0}function ma(){Je=pt=null,De=!1}function gc(){var e=zl;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),zl=null),e}function kn(e){zl===null?zl=[e]:zl.push(e)}var vc=x(null),xa=null,hl=null;function Bl(e,t,l){K(vc,t._currentValue),t._currentValue=l}function pl(e){e._currentValue=vc.current,k(vc)}function yc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Sc(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var o=n.child;i=i.firstContext;e:for(;i!==null;){var d=i;i=n;for(var p=0;p<t.length;p++)if(d.context===t[p]){i.lanes|=l,d=i.alternate,d!==null&&(d.lanes|=l),yc(i.return,l,e),a||(o=null);break e}i=d.next}}else if(n.tag===18){if(o=n.return,o===null)throw Error(r(341));o.lanes|=l,i=o.alternate,i!==null&&(i.lanes|=l),yc(o,l,e),o=null}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}}function Ya(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var o=n.alternate;if(o===null)throw Error(r(387));if(o=o.memoizedProps,o!==null){var d=n.type;Bt(n.pendingProps.value,o.value)||(e!==null?e.push(d):e=[d])}}else if(n===me.current){if(o=n.alternate,o===null)throw Error(r(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(ss):e=[ss])}n=n.return}e!==null&&Sc(t,e,l,a),t.flags|=262144}function Bs(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ha(e){xa=e,hl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function bt(e){return hu(xa,e)}function Us(e,t){return xa===null&&ha(e),hu(e,t)}function hu(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},hl===null){if(e===null)throw Error(r(308));hl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hl=hl.next=t;return l}var Fm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Im=c.unstable_scheduleCallback,Wm=c.unstable_NormalPriority,ct={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new Fm,data:new Map,refCount:0}}function Rn(e){e.refCount--,e.refCount===0&&Im(Wm,function(){e.controller.abort()})}var Dn=null,jc=0,Va=0,qa=null;function Pm(e,t){if(Dn===null){var l=Dn=[];jc=0,Va=To(),qa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return jc++,t.then(pu,pu),t}function pu(){if(--jc===0&&Dn!==null){qa!==null&&(qa.status="fulfilled");var e=Dn;Dn=null,Va=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ex(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var bu=h.S;h.S=function(e,t){ef=Se(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Pm(e,t),bu!==null&&bu(e,t)};var pa=x(null);function Ac(){var e=pa.current;return e!==null?e:$e.pooledCache}function Gs(e,t){t===null?K(pa,pa.current):K(pa,t.pool)}function gu(){var e=Ac();return e===null?null:{parent:ct._currentValue,pool:e}}var Xa=Error(r(460)),Ec=Error(r(474)),Ls=Error(r(542)),Ys={then:function(){}};function vu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yu(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(dl,dl),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nu(e),e;default:if(typeof t.status=="string")t.then(dl,dl);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nu(e),e}throw ga=t,Xa}}function ba(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ga=l,Xa):l}}var ga=null;function Su(){if(ga===null)throw Error(r(459));var e=ga;return ga=null,e}function Nu(e){if(e===Xa||e===Ls)throw Error(r(483))}var Qa=null,zn=0;function Vs(e){var t=zn;return zn+=1,Qa===null&&(Qa=[]),yu(Qa,e,t)}function Hn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function qs(e,t){throw t.$$typeof===B?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ju(e){function t(N,g){if(e){var M=N.deletions;M===null?(N.deletions=[g],N.flags|=16):M.push(g)}}function l(N,g){if(!e)return null;for(;g!==null;)t(N,g),g=g.sibling;return null}function a(N){for(var g=new Map;N!==null;)N.key!==null?g.set(N.key,N):g.set(N.index,N),N=N.sibling;return g}function n(N,g){return N=ml(N,g),N.index=0,N.sibling=null,N}function i(N,g,M){return N.index=M,e?(M=N.alternate,M!==null?(M=M.index,M<g?(N.flags|=67108866,g):M):(N.flags|=67108866,g)):(N.flags|=1048576,g)}function o(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function d(N,g,M,L){return g===null||g.tag!==6?(g=mc(M,N.mode,L),g.return=N,g):(g=n(g,M),g.return=N,g)}function p(N,g,M,L){var ye=M.type;return ye===Y?U(N,g,M.props.children,L,M.key):g!==null&&(g.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===H&&ba(ye)===g.type)?(g=n(g,M.props),Hn(g,M),g.return=N,g):(g=zs(M.type,M.key,M.props,null,N.mode,L),Hn(g,M),g.return=N,g)}function C(N,g,M,L){return g===null||g.tag!==4||g.stateNode.containerInfo!==M.containerInfo||g.stateNode.implementation!==M.implementation?(g=xc(M,N.mode,L),g.return=N,g):(g=n(g,M.children||[]),g.return=N,g)}function U(N,g,M,L,ye){return g===null||g.tag!==7?(g=fa(M,N.mode,L,ye),g.return=N,g):(g=n(g,M),g.return=N,g)}function X(N,g,M){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=mc(""+g,N.mode,M),g.return=N,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case G:return M=zs(g.type,g.key,g.props,null,N.mode,M),Hn(M,g),M.return=N,M;case ee:return g=xc(g,N.mode,M),g.return=N,g;case H:return g=ba(g),X(N,g,M)}if(ae(g)||ie(g))return g=fa(g,N.mode,M,null),g.return=N,g;if(typeof g.then=="function")return X(N,Vs(g),M);if(g.$$typeof===Q)return X(N,Us(N,g),M);qs(N,g)}return null}function O(N,g,M,L){var ye=g!==null?g.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ye!==null?null:d(N,g,""+M,L);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case G:return M.key===ye?p(N,g,M,L):null;case ee:return M.key===ye?C(N,g,M,L):null;case H:return M=ba(M),O(N,g,M,L)}if(ae(M)||ie(M))return ye!==null?null:U(N,g,M,L,null);if(typeof M.then=="function")return O(N,g,Vs(M),L);if(M.$$typeof===Q)return O(N,g,Us(N,M),L);qs(N,M)}return null}function z(N,g,M,L,ye){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return N=N.get(M)||null,d(g,N,""+L,ye);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return N=N.get(L.key===null?M:L.key)||null,p(g,N,L,ye);case ee:return N=N.get(L.key===null?M:L.key)||null,C(g,N,L,ye);case H:return L=ba(L),z(N,g,M,L,ye)}if(ae(L)||ie(L))return N=N.get(M)||null,U(g,N,L,ye,null);if(typeof L.then=="function")return z(N,g,M,Vs(L),ye);if(L.$$typeof===Q)return z(N,g,M,Us(g,L),ye);qs(g,L)}return null}function xe(N,g,M,L){for(var ye=null,Ue=null,pe=g,_e=g=0,ke=null;pe!==null&&_e<M.length;_e++){pe.index>_e?(ke=pe,pe=null):ke=pe.sibling;var Ge=O(N,pe,M[_e],L);if(Ge===null){pe===null&&(pe=ke);break}e&&pe&&Ge.alternate===null&&t(N,pe),g=i(Ge,g,_e),Ue===null?ye=Ge:Ue.sibling=Ge,Ue=Ge,pe=ke}if(_e===M.length)return l(N,pe),De&&xl(N,_e),ye;if(pe===null){for(;_e<M.length;_e++)pe=X(N,M[_e],L),pe!==null&&(g=i(pe,g,_e),Ue===null?ye=pe:Ue.sibling=pe,Ue=pe);return De&&xl(N,_e),ye}for(pe=a(pe);_e<M.length;_e++)ke=z(pe,N,_e,M[_e],L),ke!==null&&(e&&ke.alternate!==null&&pe.delete(ke.key===null?_e:ke.key),g=i(ke,g,_e),Ue===null?ye=ke:Ue.sibling=ke,Ue=ke);return e&&pe.forEach(function(ta){return t(N,ta)}),De&&xl(N,_e),ye}function Ne(N,g,M,L){if(M==null)throw Error(r(151));for(var ye=null,Ue=null,pe=g,_e=g=0,ke=null,Ge=M.next();pe!==null&&!Ge.done;_e++,Ge=M.next()){pe.index>_e?(ke=pe,pe=null):ke=pe.sibling;var ta=O(N,pe,Ge.value,L);if(ta===null){pe===null&&(pe=ke);break}e&&pe&&ta.alternate===null&&t(N,pe),g=i(ta,g,_e),Ue===null?ye=ta:Ue.sibling=ta,Ue=ta,pe=ke}if(Ge.done)return l(N,pe),De&&xl(N,_e),ye;if(pe===null){for(;!Ge.done;_e++,Ge=M.next())Ge=X(N,Ge.value,L),Ge!==null&&(g=i(Ge,g,_e),Ue===null?ye=Ge:Ue.sibling=Ge,Ue=Ge);return De&&xl(N,_e),ye}for(pe=a(pe);!Ge.done;_e++,Ge=M.next())Ge=z(pe,N,_e,Ge.value,L),Ge!==null&&(e&&Ge.alternate!==null&&pe.delete(Ge.key===null?_e:Ge.key),g=i(Ge,g,_e),Ue===null?ye=Ge:Ue.sibling=Ge,Ue=Ge);return e&&pe.forEach(function(dh){return t(N,dh)}),De&&xl(N,_e),ye}function Ze(N,g,M,L){if(typeof M=="object"&&M!==null&&M.type===Y&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case G:e:{for(var ye=M.key;g!==null;){if(g.key===ye){if(ye=M.type,ye===Y){if(g.tag===7){l(N,g.sibling),L=n(g,M.props.children),L.return=N,N=L;break e}}else if(g.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===H&&ba(ye)===g.type){l(N,g.sibling),L=n(g,M.props),Hn(L,M),L.return=N,N=L;break e}l(N,g);break}else t(N,g);g=g.sibling}M.type===Y?(L=fa(M.props.children,N.mode,L,M.key),L.return=N,N=L):(L=zs(M.type,M.key,M.props,null,N.mode,L),Hn(L,M),L.return=N,N=L)}return o(N);case ee:e:{for(ye=M.key;g!==null;){if(g.key===ye)if(g.tag===4&&g.stateNode.containerInfo===M.containerInfo&&g.stateNode.implementation===M.implementation){l(N,g.sibling),L=n(g,M.children||[]),L.return=N,N=L;break e}else{l(N,g);break}else t(N,g);g=g.sibling}L=xc(M,N.mode,L),L.return=N,N=L}return o(N);case H:return M=ba(M),Ze(N,g,M,L)}if(ae(M))return xe(N,g,M,L);if(ie(M)){if(ye=ie(M),typeof ye!="function")throw Error(r(150));return M=ye.call(M),Ne(N,g,M,L)}if(typeof M.then=="function")return Ze(N,g,Vs(M),L);if(M.$$typeof===Q)return Ze(N,g,Us(N,M),L);qs(N,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,g!==null&&g.tag===6?(l(N,g.sibling),L=n(g,M),L.return=N,N=L):(l(N,g),L=mc(M,N.mode,L),L.return=N,N=L),o(N)):l(N,g)}return function(N,g,M,L){try{zn=0;var ye=Ze(N,g,M,L);return Qa=null,ye}catch(pe){if(pe===Xa||pe===Ls)throw pe;var Ue=Ut(29,pe,null,N.mode);return Ue.lanes=L,Ue.return=N,Ue}finally{}}}var va=ju(!0),Au=ju(!1),Ul=!1;function _c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ll(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Le&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=Ds(e),cu(e,null,l),t}return Rs(e,a,t,l),Ds(e)}function Bn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,hr(e,l)}}function wc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var o={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=o:i=i.next=o,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Mc=!1;function Un(){if(Mc){var e=qa;if(e!==null)throw e}}function Gn(e,t,l,a){Mc=!1;var n=e.updateQueue;Ul=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,d=n.shared.pending;if(d!==null){n.shared.pending=null;var p=d,C=p.next;p.next=null,o===null?i=C:o.next=C,o=p;var U=e.alternate;U!==null&&(U=U.updateQueue,d=U.lastBaseUpdate,d!==o&&(d===null?U.firstBaseUpdate=C:d.next=C,U.lastBaseUpdate=p))}if(i!==null){var X=n.baseState;o=0,U=C=p=null,d=i;do{var O=d.lane&-536870913,z=O!==d.lane;if(z?(Oe&O)===O:(a&O)===O){O!==0&&O===Va&&(Mc=!0),U!==null&&(U=U.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var xe=e,Ne=d;O=t;var Ze=l;switch(Ne.tag){case 1:if(xe=Ne.payload,typeof xe=="function"){X=xe.call(Ze,X,O);break e}X=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ne.payload,O=typeof xe=="function"?xe.call(Ze,X,O):xe,O==null)break e;X=E({},X,O);break e;case 2:Ul=!0}}O=d.callback,O!==null&&(e.flags|=64,z&&(e.flags|=8192),z=n.callbacks,z===null?n.callbacks=[O]:z.push(O))}else z={lane:O,tag:d.tag,payload:d.payload,callback:d.callback,next:null},U===null?(C=U=z,p=X):U=U.next=z,o|=O;if(d=d.next,d===null){if(d=n.shared.pending,d===null)break;z=d,d=z.next,z.next=null,n.lastBaseUpdate=z,n.shared.pending=null}}while(!0);U===null&&(p=X),n.baseState=p,n.firstBaseUpdate=C,n.lastBaseUpdate=U,i===null&&(n.shared.lanes=0),Ql|=o,e.lanes=o,e.memoizedState=X}}function Eu(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function _u(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Eu(l[e],t)}var Ka=x(null),Xs=x(0);function Tu(e,t){e=El,K(Xs,e),K(Ka,t),El=e|t.baseLanes}function Cc(){K(Xs,El),K(Ka,Ka.current)}function Oc(){El=Xs.current,k(Ka),k(Xs)}var Gt=x(null),Pt=null;function Yl(e){var t=e.alternate;K(at,at.current&1),K(Gt,e),Pt===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(Pt=e)}function kc(e){K(at,at.current),K(Gt,e),Pt===null&&(Pt=e)}function wu(e){e.tag===22?(K(at,at.current),K(Gt,e),Pt===null&&(Pt=e)):Vl()}function Vl(){K(at,at.current),K(Gt,Gt.current)}function Lt(e){k(Gt),Pt===e&&(Pt=null),k(at)}var at=x(0);function Qs(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Go(l)||Lo(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=0,Ee=null,Qe=null,ot=null,Ks=!1,Za=!1,ya=!1,Zs=0,Ln=0,$a=null,tx=0;function et(){throw Error(r(321))}function Rc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Bt(e[l],t[l]))return!1;return!0}function Dc(e,t,l,a,n,i){return bl=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,h.H=e===null||e.memoizedState===null?dd:Jc,ya=!1,i=l(a,n),ya=!1,Za&&(i=Cu(t,l,a,n)),Mu(e),i}function Mu(e){h.H=qn;var t=Qe!==null&&Qe.next!==null;if(bl=0,ot=Qe=Ee=null,Ks=!1,Ln=0,$a=null,t)throw Error(r(300));e===null||rt||(e=e.dependencies,e!==null&&Bs(e)&&(rt=!0))}function Cu(e,t,l,a){Ee=e;var n=0;do{if(Za&&($a=null),Ln=0,Za=!1,25<=n)throw Error(r(301));if(n+=1,ot=Qe=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}h.H=fd,i=t(l,a)}while(Za);return i}function lx(){var e=h.H,t=e.useState()[0];return t=typeof t.then=="function"?Yn(t):t,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(Ee.flags|=1024),t}function zc(){var e=Zs!==0;return Zs=0,e}function Hc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Bc(e){if(Ks){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ks=!1}bl=0,ot=Qe=Ee=null,Za=!1,Ln=Zs=0,$a=null}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ee.memoizedState=ot=e:ot=ot.next=e,ot}function nt(){if(Qe===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=ot===null?Ee.memoizedState:ot.next;if(t!==null)ot=t,Qe=e;else{if(e===null)throw Ee.alternate===null?Error(r(467)):Error(r(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},ot===null?Ee.memoizedState=ot=e:ot=ot.next=e}return ot}function $s(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yn(e){var t=Ln;return Ln+=1,$a===null&&($a=[]),e=yu($a,e,t),t=Ee,(ot===null?t.memoizedState:ot.next)===null&&(t=t.alternate,h.H=t===null||t.memoizedState===null?dd:Jc),e}function Js(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yn(e);if(e.$$typeof===Q)return bt(e)}throw Error(r(438,String(e)))}function Uc(e){var t=null,l=Ee.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Ee.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=$s(),Ee.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=J;return t.index++,l}function gl(e,t){return typeof t=="function"?t(e):t}function Fs(e){var t=nt();return Gc(t,Qe,e)}function Gc(e,t,l){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var d=o=null,p=null,C=t,U=!1;do{var X=C.lane&-536870913;if(X!==C.lane?(Oe&X)===X:(bl&X)===X){var O=C.revertLane;if(O===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),X===Va&&(U=!0);else if((bl&O)===O){C=C.next,O===Va&&(U=!0);continue}else X={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},p===null?(d=p=X,o=i):p=p.next=X,Ee.lanes|=O,Ql|=O;X=C.action,ya&&l(i,X),i=C.hasEagerState?C.eagerState:l(i,X)}else O={lane:X,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},p===null?(d=p=O,o=i):p=p.next=O,Ee.lanes|=X,Ql|=X;C=C.next}while(C!==null&&C!==t);if(p===null?o=i:p.next=d,!Bt(i,e.memoizedState)&&(rt=!0,U&&(l=qa,l!==null)))throw l;e.memoizedState=i,e.baseState=o,e.baseQueue=p,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Lc(e){var t=nt(),l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);Bt(i,t.memoizedState)||(rt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function Ou(e,t,l){var a=Ee,n=nt(),i=De;if(i){if(l===void 0)throw Error(r(407));l=l()}else l=t();var o=!Bt((Qe||n).memoizedState,l);if(o&&(n.memoizedState=l,rt=!0),n=n.queue,qc(Du.bind(null,a,n,e),[e]),n.getSnapshot!==t||o||ot!==null&&ot.memoizedState.tag&1){if(a.flags|=2048,Ja(9,{destroy:void 0},Ru.bind(null,a,n,l,t),null),$e===null)throw Error(r(349));i||(bl&127)!==0||ku(a,t,l)}return l}function ku(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ee.updateQueue,t===null?(t=$s(),Ee.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Ru(e,t,l,a){t.value=l,t.getSnapshot=a,zu(t)&&Hu(e)}function Du(e,t,l){return l(function(){zu(t)&&Hu(e)})}function zu(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Bt(e,l)}catch{return!0}}function Hu(e){var t=da(e,2);t!==null&&Rt(t,e,2)}function Yc(e){var t=At();if(typeof e=="function"){var l=e;if(e=l(),ya){Ol(!0);try{l()}finally{Ol(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t}function Bu(e,t,l,a){return e.baseState=l,Gc(e,Qe,typeof a=="function"?a:gl)}function ax(e,t,l,a,n){if(Ps(e))throw Error(r(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};h.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,Uu(t,i)):(i.next=l.next,t.pending=l.next=i)}}function Uu(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=h.T,o={};h.T=o;try{var d=l(n,a),p=h.S;p!==null&&p(o,d),Gu(e,t,d)}catch(C){Vc(e,t,C)}finally{i!==null&&o.types!==null&&(i.types=o.types),h.T=i}}else try{i=l(n,a),Gu(e,t,i)}catch(C){Vc(e,t,C)}}function Gu(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Lu(e,t,a)},function(a){return Vc(e,t,a)}):Lu(e,t,l)}function Lu(e,t,l){t.status="fulfilled",t.value=l,Yu(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Uu(e,l)))}function Vc(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Yu(t),t=t.next;while(t!==a)}e.action=null}function Yu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vu(e,t){return t}function qu(e,t){if(De){var l=$e.formState;if(l!==null){e:{var a=Ee;if(De){if(Je){t:{for(var n=Je,i=Wt;n.nodeType!==8;){if(!i){n=null;break t}if(n=el(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Je=el(n.nextSibling),a=n.data==="F!";break e}}Hl(a)}a=!1}a&&(t=l[0])}}return l=At(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},l.queue=a,l=od.bind(null,Ee,a),a.dispatch=l,a=Yc(!1),i=$c.bind(null,Ee,!1,a.queue),a=At(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=ax.bind(null,Ee,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Xu(e){var t=nt();return Qu(t,Qe,e)}function Qu(e,t,l){if(t=Gc(e,t,Vu)[0],e=Fs(gl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Yn(t)}catch(o){throw o===Xa?Ls:o}else a=t;t=nt();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(Ee.flags|=2048,Ja(9,{destroy:void 0},nx.bind(null,n,l),null)),[a,i,e]}function nx(e,t){e.action=t}function Ku(e){var t=nt(),l=Qe;if(l!==null)return Qu(t,l,e);nt(),t=t.memoizedState,l=nt();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Ja(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=$s(),Ee.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Zu(){return nt().memoizedState}function Is(e,t,l,a){var n=At();Ee.flags|=e,n.memoizedState=Ja(1|t,{destroy:void 0},l,a===void 0?null:a)}function Ws(e,t,l,a){var n=nt();a=a===void 0?null:a;var i=n.memoizedState.inst;Qe!==null&&a!==null&&Rc(a,Qe.memoizedState.deps)?n.memoizedState=Ja(t,i,l,a):(Ee.flags|=e,n.memoizedState=Ja(1|t,i,l,a))}function $u(e,t){Is(8390656,8,e,t)}function qc(e,t){Ws(2048,8,e,t)}function sx(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=$s(),Ee.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Ju(e){var t=nt().memoizedState;return sx({ref:t,nextImpl:e}),function(){if((Le&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Fu(e,t){return Ws(4,2,e,t)}function Iu(e,t){return Ws(4,4,e,t)}function Wu(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pu(e,t,l){l=l!=null?l.concat([e]):null,Ws(4,4,Wu.bind(null,t,e),l)}function Xc(){}function ed(e,t){var l=nt();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Rc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function td(e,t){var l=nt();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Rc(t,a[1]))return a[0];if(a=e(),ya){Ol(!0);try{e()}finally{Ol(!1)}}return l.memoizedState=[a,t],a}function Qc(e,t,l){return l===void 0||(bl&1073741824)!==0&&(Oe&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=lf(),Ee.lanes|=e,Ql|=e,l)}function ld(e,t,l,a){return Bt(l,t)?l:Ka.current!==null?(e=Qc(e,l,a),Bt(e,t)||(rt=!0),e):(bl&42)===0||(bl&1073741824)!==0&&(Oe&261930)===0?(rt=!0,e.memoizedState=l):(e=lf(),Ee.lanes|=e,Ql|=e,t)}function ad(e,t,l,a,n){var i=_.p;_.p=i!==0&&8>i?i:8;var o=h.T,d={};h.T=d,$c(e,!1,t,l);try{var p=n(),C=h.S;if(C!==null&&C(d,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var U=ex(p,a);Vn(e,t,U,qt(e))}else Vn(e,t,a,qt(e))}catch(X){Vn(e,t,{then:function(){},status:"rejected",reason:X},qt())}finally{_.p=i,o!==null&&d.types!==null&&(o.types=d.types),h.T=o}}function ix(){}function Kc(e,t,l,a){if(e.tag!==5)throw Error(r(476));var n=nd(e).queue;ad(e,n,t,q,l===null?ix:function(){return sd(e),l(a)})}function nd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:q},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function sd(e){var t=nd(e);t.next===null&&(t=e.alternate.memoizedState),Vn(e,t.next.queue,{},qt())}function Zc(){return bt(ss)}function id(){return nt().memoizedState}function cd(){return nt().memoizedState}function cx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=qt();e=Gl(l);var a=Ll(t,e,l);a!==null&&(Rt(a,t,l),Bn(a,t,l)),t={cache:Nc()},e.payload=t;return}t=t.return}}function ox(e,t,l){var a=qt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ps(e)?rd(t,l):(l=dc(e,t,l,a),l!==null&&(Rt(l,e,a),ud(l,t,a)))}function od(e,t,l){var a=qt();Vn(e,t,l,a)}function Vn(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ps(e))rd(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,d=i(o,l);if(n.hasEagerState=!0,n.eagerState=d,Bt(d,o))return Rs(e,t,n,0),$e===null&&ks(),!1}catch{}finally{}if(l=dc(e,t,n,a),l!==null)return Rt(l,e,a),ud(l,t,a),!0}return!1}function $c(e,t,l,a){if(a={lane:2,revertLane:To(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ps(e)){if(t)throw Error(r(479))}else t=dc(e,l,a,2),t!==null&&Rt(t,e,2)}function Ps(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function rd(e,t){Za=Ks=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function ud(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,hr(e,l)}}var qn={readContext:bt,use:Js,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};qn.useEffectEvent=et;var dd={readContext:bt,use:Js,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:$u,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Is(4194308,4,Wu.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){Is(4,2,e,t)},useMemo:function(e,t){var l=At();t=t===void 0?null:t;var a=e();if(ya){Ol(!0);try{e()}finally{Ol(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=At();if(l!==void 0){var n=l(t);if(ya){Ol(!0);try{l(t)}finally{Ol(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=ox.bind(null,Ee,e),[a.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:function(e){e=Yc(e);var t=e.queue,l=od.bind(null,Ee,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Xc,useDeferredValue:function(e,t){var l=At();return Qc(l,e,t)},useTransition:function(){var e=Yc(!1);return e=ad.bind(null,Ee,e.queue,!0,!1),At().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Ee,n=At();if(De){if(l===void 0)throw Error(r(407));l=l()}else{if(l=t(),$e===null)throw Error(r(349));(Oe&127)!==0||ku(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,$u(Du.bind(null,a,i,e),[e]),a.flags|=2048,Ja(9,{destroy:void 0},Ru.bind(null,a,i,l,t),null),l},useId:function(){var e=At(),t=$e.identifierPrefix;if(De){var l=cl,a=il;l=(a&~(1<<32-Ht(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Zs++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=tx++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Zc,useFormState:qu,useActionState:qu,useOptimistic:function(e){var t=At();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=$c.bind(null,Ee,!0,l),l.dispatch=t,[e,t]},useMemoCache:Uc,useCacheRefresh:function(){return At().memoizedState=cx.bind(null,Ee)},useEffectEvent:function(e){var t=At(),l={impl:e};return t.memoizedState=l,function(){if((Le&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Jc={readContext:bt,use:Js,useCallback:ed,useContext:bt,useEffect:qc,useImperativeHandle:Pu,useInsertionEffect:Fu,useLayoutEffect:Iu,useMemo:td,useReducer:Fs,useRef:Zu,useState:function(){return Fs(gl)},useDebugValue:Xc,useDeferredValue:function(e,t){var l=nt();return ld(l,Qe.memoizedState,e,t)},useTransition:function(){var e=Fs(gl)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Yn(e),t]},useSyncExternalStore:Ou,useId:id,useHostTransitionStatus:Zc,useFormState:Xu,useActionState:Xu,useOptimistic:function(e,t){var l=nt();return Bu(l,Qe,e,t)},useMemoCache:Uc,useCacheRefresh:cd};Jc.useEffectEvent=Ju;var fd={readContext:bt,use:Js,useCallback:ed,useContext:bt,useEffect:qc,useImperativeHandle:Pu,useInsertionEffect:Fu,useLayoutEffect:Iu,useMemo:td,useReducer:Lc,useRef:Zu,useState:function(){return Lc(gl)},useDebugValue:Xc,useDeferredValue:function(e,t){var l=nt();return Qe===null?Qc(l,e,t):ld(l,Qe.memoizedState,e,t)},useTransition:function(){var e=Lc(gl)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Yn(e),t]},useSyncExternalStore:Ou,useId:id,useHostTransitionStatus:Zc,useFormState:Ku,useActionState:Ku,useOptimistic:function(e,t){var l=nt();return Qe!==null?Bu(l,Qe,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Uc,useCacheRefresh:cd};fd.useEffectEvent=Ju;function Fc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:E({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Ic={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=qt(),n=Gl(a);n.payload=t,l!=null&&(n.callback=l),t=Ll(e,n,a),t!==null&&(Rt(t,e,a),Bn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=qt(),n=Gl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=Ll(e,n,a),t!==null&&(Rt(t,e,a),Bn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=qt(),a=Gl(l);a.tag=2,t!=null&&(a.callback=t),t=Ll(e,a,l),t!==null&&(Rt(t,e,l),Bn(t,e,l))}};function md(e,t,l,a,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!Mn(l,a)||!Mn(n,i):!0}function xd(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Ic.enqueueReplaceState(t,t.state,null)}function Sa(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=E({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function hd(e){Os(e)}function pd(e){console.error(e)}function bd(e){Os(e)}function ei(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function gd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Wc(e,t,l){return l=Gl(l),l.tag=3,l.payload={element:null},l.callback=function(){ei(e,t)},l}function vd(e){return e=Gl(e),e.tag=3,e}function yd(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){gd(t,l,a)}}var o=l.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){gd(t,l,a),typeof n!="function"&&(Kl===null?Kl=new Set([this]):Kl.add(this));var d=a.stack;this.componentDidCatch(a.value,{componentStack:d!==null?d:""})})}function rx(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ya(t,l,n,!0),l=Gt.current,l!==null){switch(l.tag){case 31:case 13:return Pt===null?fi():l.alternate===null&&tt===0&&(tt=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===Ys?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Ao(e,a,n)),!1;case 22:return l.flags|=65536,a===Ys?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Ao(e,a,n)),!1}throw Error(r(435,l.tag))}return Ao(e,a,n),fi(),!1}if(De)return t=Gt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==bc&&(e=Error(r(422),{cause:a}),kn(Jt(e,l)))):(a!==bc&&(t=Error(r(423),{cause:a}),kn(Jt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Jt(a,l),n=Wc(e.stateNode,a,n),wc(e,n),tt!==4&&(tt=2)),!1;var i=Error(r(520),{cause:a});if(i=Jt(i,l),In===null?In=[i]:In.push(i),tt!==4&&(tt=2),t===null)return!0;a=Jt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Wc(l.stateNode,a,e),wc(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Kl===null||!Kl.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=vd(n),yd(n,e,l,a),wc(l,n),!1}l=l.return}while(l!==null);return!1}var Pc=Error(r(461)),rt=!1;function gt(e,t,l,a){t.child=e===null?Au(t,null,l,a):va(t,e.child,l,a)}function Sd(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var o={};for(var d in a)d!=="ref"&&(o[d]=a[d])}else o=a;return ha(t),a=Dc(e,t,l,o,i,n),d=zc(),e!==null&&!rt?(Hc(e,t,n),vl(e,t,n)):(De&&d&&hc(t),t.flags|=1,gt(e,t,a,n),t.child)}function Nd(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!fc(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,jd(e,t,i,a,n)):(e=zs(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!co(e,n)){var o=i.memoizedProps;if(l=l.compare,l=l!==null?l:Mn,l(o,a)&&e.ref===t.ref)return vl(e,t,n)}return t.flags|=1,e=ml(i,a),e.ref=t.ref,e.return=t,t.child=e}function jd(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(Mn(i,a)&&e.ref===t.ref)if(rt=!1,t.pendingProps=a=i,co(e,n))(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,vl(e,t,n)}return eo(e,t,l,a,n)}function Ad(e,t,l,a){var n=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~i}else a=0,t.child=null;return Ed(e,t,i,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gs(t,i!==null?i.cachePool:null),i!==null?Tu(t,i):Cc(),wu(t);else return a=t.lanes=536870912,Ed(e,t,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(Gs(t,i.cachePool),Tu(t,i),Vl(),t.memoizedState=null):(e!==null&&Gs(t,null),Cc(),Vl());return gt(e,t,n,l),t.child}function Xn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ed(e,t,l,a,n){var i=Ac();return i=i===null?null:{parent:ct._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&Gs(t,null),Cc(),wu(t),e!==null&&Ya(e,t,a,!0),t.childLanes=n,null}function ti(e,t){return t=ai({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function _d(e,t,l){return va(t,e.child,null,l),e=ti(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function ux(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(a.mode==="hidden")return e=ti(t,a),t.lanes=536870912,Xn(null,e);if(kc(t),(e=Je)?(e=Gf(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dl!==null?{id:il,overflow:cl}:null,retryLane:536870912,hydrationErrors:null},l=ru(e),l.return=t,t.child=l,pt=t,Je=null)):e=null,e===null)throw Hl(t);return t.lanes=536870912,null}return ti(t,a)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(kc(t),n)if(t.flags&256)t.flags&=-257,t=_d(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(rt||Ya(e,t,l,!1),n=(l&e.childLanes)!==0,rt||n){if(a=$e,a!==null&&(o=pr(a,l),o!==0&&o!==i.retryLane))throw i.retryLane=o,da(e,o),Rt(a,e,o),Pc;fi(),t=_d(e,t,l)}else e=i.treeContext,Je=el(o.nextSibling),pt=t,De=!0,zl=null,Wt=!1,e!==null&&fu(t,e),t=ti(t,a),t.flags|=4096;return t}return e=ml(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function li(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function eo(e,t,l,a,n){return ha(t),l=Dc(e,t,l,a,void 0,n),a=zc(),e!==null&&!rt?(Hc(e,t,n),vl(e,t,n)):(De&&a&&hc(t),t.flags|=1,gt(e,t,l,n),t.child)}function Td(e,t,l,a,n,i){return ha(t),t.updateQueue=null,l=Cu(t,a,l,n),Mu(e),a=zc(),e!==null&&!rt?(Hc(e,t,i),vl(e,t,i)):(De&&a&&hc(t),t.flags|=1,gt(e,t,l,i),t.child)}function wd(e,t,l,a,n){if(ha(t),t.stateNode===null){var i=Ba,o=l.contextType;typeof o=="object"&&o!==null&&(i=bt(o)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ic,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},_c(t),o=l.contextType,i.context=typeof o=="object"&&o!==null?bt(o):Ba,i.state=t.memoizedState,o=l.getDerivedStateFromProps,typeof o=="function"&&(Fc(t,l,o,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Ic.enqueueReplaceState(i,i.state,null),Gn(t,a,i,n),Un(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var d=t.memoizedProps,p=Sa(l,d);i.props=p;var C=i.context,U=l.contextType;o=Ba,typeof U=="object"&&U!==null&&(o=bt(U));var X=l.getDerivedStateFromProps;U=typeof X=="function"||typeof i.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,U||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d||C!==o)&&xd(t,i,a,o),Ul=!1;var O=t.memoizedState;i.state=O,Gn(t,a,i,n),Un(),C=t.memoizedState,d||O!==C||Ul?(typeof X=="function"&&(Fc(t,l,X,a),C=t.memoizedState),(p=Ul||md(t,l,p,a,O,C,o))?(U||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=C),i.props=a,i.state=C,i.context=o,a=p):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Tc(e,t),o=t.memoizedProps,U=Sa(l,o),i.props=U,X=t.pendingProps,O=i.context,C=l.contextType,p=Ba,typeof C=="object"&&C!==null&&(p=bt(C)),d=l.getDerivedStateFromProps,(C=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==X||O!==p)&&xd(t,i,a,p),Ul=!1,O=t.memoizedState,i.state=O,Gn(t,a,i,n),Un();var z=t.memoizedState;o!==X||O!==z||Ul||e!==null&&e.dependencies!==null&&Bs(e.dependencies)?(typeof d=="function"&&(Fc(t,l,d,a),z=t.memoizedState),(U=Ul||md(t,l,U,a,O,z,p)||e!==null&&e.dependencies!==null&&Bs(e.dependencies))?(C||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,z,p),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,z,p)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=z),i.props=a,i.state=z,i.context=p,a=U):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,li(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=va(t,e.child,null,n),t.child=va(t,null,l,n)):gt(e,t,l,n),t.memoizedState=i.state,e=t.child):e=vl(e,t,n),e}function Md(e,t,l,a){return ma(),t.flags|=256,gt(e,t,l,a),t.child}var to={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lo(e){return{baseLanes:e,cachePool:gu()}}function ao(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Vt),e}function Cd(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),o&&(n=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(n?Yl(t):Vl(),(e=Je)?(e=Gf(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dl!==null?{id:il,overflow:cl}:null,retryLane:536870912,hydrationErrors:null},l=ru(e),l.return=t,t.child=l,pt=t,Je=null)):e=null,e===null)throw Hl(t);return Lo(e)?t.lanes=32:t.lanes=536870912,null}var d=a.children;return a=a.fallback,n?(Vl(),n=t.mode,d=ai({mode:"hidden",children:d},n),a=fa(a,n,l,null),d.return=t,a.return=t,d.sibling=a,t.child=d,a=t.child,a.memoizedState=lo(l),a.childLanes=ao(e,o,l),t.memoizedState=to,Xn(null,a)):(Yl(t),no(t,d))}var p=e.memoizedState;if(p!==null&&(d=p.dehydrated,d!==null)){if(i)t.flags&256?(Yl(t),t.flags&=-257,t=so(e,t,l)):t.memoizedState!==null?(Vl(),t.child=e.child,t.flags|=128,t=null):(Vl(),d=a.fallback,n=t.mode,a=ai({mode:"visible",children:a.children},n),d=fa(d,n,l,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,va(t,e.child,null,l),a=t.child,a.memoizedState=lo(l),a.childLanes=ao(e,o,l),t.memoizedState=to,t=Xn(null,a));else if(Yl(t),Lo(d)){if(o=d.nextSibling&&d.nextSibling.dataset,o)var C=o.dgst;o=C,a=Error(r(419)),a.stack="",a.digest=o,kn({value:a,source:null,stack:null}),t=so(e,t,l)}else if(rt||Ya(e,t,l,!1),o=(l&e.childLanes)!==0,rt||o){if(o=$e,o!==null&&(a=pr(o,l),a!==0&&a!==p.retryLane))throw p.retryLane=a,da(e,a),Rt(o,e,a),Pc;Go(d)||fi(),t=so(e,t,l)}else Go(d)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,Je=el(d.nextSibling),pt=t,De=!0,zl=null,Wt=!1,e!==null&&fu(t,e),t=no(t,a.children),t.flags|=4096);return t}return n?(Vl(),d=a.fallback,n=t.mode,p=e.child,C=p.sibling,a=ml(p,{mode:"hidden",children:a.children}),a.subtreeFlags=p.subtreeFlags&65011712,C!==null?d=ml(C,d):(d=fa(d,n,l,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,Xn(null,a),a=t.child,d=e.child.memoizedState,d===null?d=lo(l):(n=d.cachePool,n!==null?(p=ct._currentValue,n=n.parent!==p?{parent:p,pool:p}:n):n=gu(),d={baseLanes:d.baseLanes|l,cachePool:n}),a.memoizedState=d,a.childLanes=ao(e,o,l),t.memoizedState=to,Xn(e.child,a)):(Yl(t),l=e.child,e=l.sibling,l=ml(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=l,t.memoizedState=null,l)}function no(e,t){return t=ai({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ai(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function so(e,t,l){return va(t,e.child,null,l),e=no(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Od(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),yc(e.return,t,l)}function io(e,t,l,a,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=l,o.tailMode=n,o.treeForkCount=i)}function kd(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;a=a.children;var o=at.current,d=(o&2)!==0;if(d?(o=o&1|2,t.flags|=128):o&=1,K(at,o),gt(e,t,a,l),a=De?On:0,!d&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Od(e,l,t);else if(e.tag===19)Od(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&Qs(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),io(t,!1,n,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Qs(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}io(t,!0,l,null,i,a);break;case"together":io(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function vl(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Ql|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ya(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,l=ml(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=ml(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function co(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bs(e)))}function dx(e,t,l){switch(t.tag){case 3:ve(t,t.stateNode.containerInfo),Bl(t,ct,e.memoizedState.cache),ma();break;case 27:case 5:Ce(t);break;case 4:ve(t,t.stateNode.containerInfo);break;case 10:Bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,kc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Yl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Cd(e,t,l):(Yl(t),e=vl(e,t,l),e!==null?e.sibling:null);Yl(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ya(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return kd(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),K(at,at.current),a)break;return null;case 22:return t.lanes=0,Ad(e,t,l,t.pendingProps);case 24:Bl(t,ct,e.memoizedState.cache)}return vl(e,t,l)}function Rd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)rt=!0;else{if(!co(e,l)&&(t.flags&128)===0)return rt=!1,dx(e,t,l);rt=(e.flags&131072)!==0}else rt=!1,De&&(t.flags&1048576)!==0&&du(t,On,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ba(t.elementType),t.type=e,typeof e=="function")fc(e)?(a=Sa(e,a),t.tag=1,t=wd(null,t,e,a,l)):(t.tag=0,t=eo(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===te){t.tag=11,t=Sd(null,t,e,a,l);break e}else if(n===A){t.tag=14,t=Nd(null,t,e,a,l);break e}}throw t=I(e)||e,Error(r(306,t,""))}}return t;case 0:return eo(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=Sa(a,t.pendingProps),wd(e,t,a,n,l);case 3:e:{if(ve(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,Tc(e,t),Gn(t,a,null,l);var o=t.memoizedState;if(a=o.cache,Bl(t,ct,a),a!==i.cache&&Sc(t,[ct],l,!0),Un(),a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Md(e,t,a,l);break e}else if(a!==n){n=Jt(Error(r(424)),t),kn(n),t=Md(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=el(e.firstChild),pt=t,De=!0,zl=null,Wt=!0,l=Au(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ma(),a===n){t=vl(e,t,l);break e}gt(e,t,a,l)}t=t.child}return t;case 26:return li(e,t),e===null?(l=Qf(t.type,null,t.pendingProps,null))?t.memoizedState=l:De||(l=t.type,e=t.pendingProps,a=vi(Z.current).createElement(l),a[ht]=t,a[Tt]=e,vt(a,l,e),ft(a),t.stateNode=a):t.memoizedState=Qf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ce(t),e===null&&De&&(a=t.stateNode=Vf(t.type,t.pendingProps,Z.current),pt=t,Wt=!0,n=Je,Fl(t.type)?(Yo=n,Je=el(a.firstChild)):Je=n),gt(e,t,t.pendingProps.children,l),li(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((n=a=Je)&&(a=Yx(a,t.type,t.pendingProps,Wt),a!==null?(t.stateNode=a,pt=t,Je=el(a.firstChild),Wt=!1,n=!0):n=!1),n||Hl(t)),Ce(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Ho(n,i)?a=null:o!==null&&Ho(n,o)&&(t.flags|=32),t.memoizedState!==null&&(n=Dc(e,t,lx,null,null,l),ss._currentValue=n),li(e,t),gt(e,t,a,l),t.child;case 6:return e===null&&De&&((e=l=Je)&&(l=Vx(l,t.pendingProps,Wt),l!==null?(t.stateNode=l,pt=t,Je=null,e=!0):e=!1),e||Hl(t)),null;case 13:return Cd(e,t,l);case 4:return ve(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=va(t,null,a,l):gt(e,t,a,l),t.child;case 11:return Sd(e,t,t.type,t.pendingProps,l);case 7:return gt(e,t,t.pendingProps,l),t.child;case 8:return gt(e,t,t.pendingProps.children,l),t.child;case 12:return gt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Bl(t,t.type,a.value),gt(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,ha(t),n=bt(n),a=a(n),t.flags|=1,gt(e,t,a,l),t.child;case 14:return Nd(e,t,t.type,t.pendingProps,l);case 15:return jd(e,t,t.type,t.pendingProps,l);case 19:return kd(e,t,l);case 31:return ux(e,t,l);case 22:return Ad(e,t,l,t.pendingProps);case 24:return ha(t),a=bt(ct),e===null?(n=Ac(),n===null&&(n=$e,i=Nc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},_c(t),Bl(t,ct,n)):((e.lanes&l)!==0&&(Tc(e,t),Gn(t,null,null,l),Un()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Bl(t,ct,a)):(a=i.cache,Bl(t,ct,a),a!==n.cache&&Sc(t,[ct],l,!0))),gt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function yl(e){e.flags|=4}function oo(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(cf())e.flags|=8192;else throw ga=Ys,Ec}else e.flags&=-16777217}function Dd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ff(t))if(cf())e.flags|=8192;else throw ga=Ys,Ec}function ni(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?mr():536870912,e.lanes|=t,Pa|=t)}function Qn(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function fx(e,t,l){var a=t.pendingProps;switch(pc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Fe(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),pl(ct),je(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(La(t)?yl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,gc())),Fe(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(yl(t),i!==null?(Fe(t),Dd(t,i)):(Fe(t),oo(t,n,null,a,l))):i?i!==e.memoizedState?(yl(t),Fe(t),Dd(t,i)):(Fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&yl(t),Fe(t),oo(t,n,e,a,l)),null;case 27:if(st(t),l=Z.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&yl(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Fe(t),null}e=F.current,La(t)?mu(t):(e=Vf(n,a,l),t.stateNode=e,yl(t))}return Fe(t),null;case 5:if(st(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&yl(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Fe(t),null}if(i=F.current,La(t))mu(t);else{var o=vi(Z.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?o.createElement(n,{is:a.is}):o.createElement(n)}}i[ht]=t,i[Tt]=a;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(vt(i,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&yl(t)}}return Fe(t),oo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&yl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=Z.current,La(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=pt,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[ht]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Of(e.nodeValue,l)),e||Hl(t,!0)}else e=vi(e).createTextNode(a),e[ht]=t,t.stateNode=e}return Fe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=La(t),l!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ht]=t}else ma(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),e=!1}else l=gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Fe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=La(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(r(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));n[ht]=t}else ma(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),n=!1}else n=gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),ni(t,t.updateQueue),Fe(t),null);case 4:return je(),e===null&&Oo(t.stateNode.containerInfo),Fe(t),null;case 10:return pl(t.type),Fe(t),null;case 19:if(k(at),a=t.memoizedState,a===null)return Fe(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Qn(a,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Qs(e),i!==null){for(t.flags|=128,Qn(a,!1),e=i.updateQueue,t.updateQueue=e,ni(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)ou(l,e),l=l.sibling;return K(at,at.current&1|2),De&&xl(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Se()>ri&&(t.flags|=128,n=!0,Qn(a,!1),t.lanes=4194304)}else{if(!n)if(e=Qs(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,ni(t,e),Qn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!De)return Fe(t),null}else 2*Se()-a.renderingStartTime>ri&&l!==536870912&&(t.flags|=128,n=!0,Qn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Se(),e.sibling=null,l=at.current,K(at,n?l&1|2:l&1),De&&xl(t,a.treeForkCount),e):(Fe(t),null);case 22:case 23:return Lt(t),Oc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),l=t.updateQueue,l!==null&&ni(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&k(pa),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),pl(ct),Fe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function mx(e,t){switch(pc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pl(ct),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return st(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(r(340));ma()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ma()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return k(at),null;case 4:return je(),null;case 10:return pl(t.type),null;case 22:case 23:return Lt(t),Oc(),e!==null&&k(pa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pl(ct),null;case 25:return null;default:return null}}function zd(e,t){switch(pc(t),t.tag){case 3:pl(ct),je();break;case 26:case 27:case 5:st(t);break;case 4:je();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:k(at);break;case 10:pl(t.type);break;case 22:case 23:Lt(t),Oc(),e!==null&&k(pa);break;case 24:pl(ct)}}function Kn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,o=l.inst;a=i(),o.destroy=a}l=l.next}while(l!==n)}}catch(d){qe(t,t.return,d)}}function ql(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var o=a.inst,d=o.destroy;if(d!==void 0){o.destroy=void 0,n=t;var p=l,C=d;try{C()}catch(U){qe(n,p,U)}}}a=a.next}while(a!==i)}}catch(U){qe(t,t.return,U)}}function Hd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{_u(t,l)}catch(a){qe(e,e.return,a)}}}function Bd(e,t,l){l.props=Sa(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){qe(e,t,a)}}function Zn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){qe(e,t,n)}}function ol(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){qe(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){qe(e,t,n)}else l.current=null}function Ud(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){qe(e,e.return,n)}}function ro(e,t,l){try{var a=e.stateNode;zx(a,e.type,l,t),a[Tt]=t}catch(n){qe(e,e.return,n)}}function Gd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fl(e.type)||e.tag===4}function uo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fo(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=dl));else if(a!==4&&(a===27&&Fl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(fo(e,t,l),e=e.sibling;e!==null;)fo(e,t,l),e=e.sibling}function si(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Fl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(si(e,t,l),e=e.sibling;e!==null;)si(e,t,l),e=e.sibling}function Ld(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);vt(t,a,l),t[ht]=e,t[Tt]=l}catch(i){qe(e,e.return,i)}}var Sl=!1,ut=!1,mo=!1,Yd=typeof WeakSet=="function"?WeakSet:Set,mt=null;function xx(e,t){if(e=e.containerInfo,Do=_i,e=Pr(e),sc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var o=0,d=-1,p=-1,C=0,U=0,X=e,O=null;t:for(;;){for(var z;X!==l||n!==0&&X.nodeType!==3||(d=o+n),X!==i||a!==0&&X.nodeType!==3||(p=o+a),X.nodeType===3&&(o+=X.nodeValue.length),(z=X.firstChild)!==null;)O=X,X=z;for(;;){if(X===e)break t;if(O===l&&++C===n&&(d=o),O===i&&++U===a&&(p=o),(z=X.nextSibling)!==null)break;X=O,O=X.parentNode}X=z}l=d===-1||p===-1?null:{start:d,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;for(zo={focusedElem:e,selectionRange:l},_i=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){switch(t=mt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var xe=Sa(l.type,n);e=a.getSnapshotBeforeUpdate(xe,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){qe(l,l.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Uo(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}}function Vd(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:jl(e,l),a&4&&Kn(5,l);break;case 1:if(jl(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(o){qe(l,l.return,o)}else{var n=Sa(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){qe(l,l.return,o)}}a&64&&Hd(l),a&512&&Zn(l,l.return);break;case 3:if(jl(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{_u(e,t)}catch(o){qe(l,l.return,o)}}break;case 27:t===null&&a&4&&Ld(l);case 26:case 5:jl(e,l),t===null&&a&4&&Ud(l),a&512&&Zn(l,l.return);break;case 12:jl(e,l);break;case 31:jl(e,l),a&4&&Qd(e,l);break;case 13:jl(e,l),a&4&&Kd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=jx.bind(null,l),qx(e,l))));break;case 22:if(a=l.memoizedState!==null||Sl,!a){t=t!==null&&t.memoizedState!==null||ut,n=Sl;var i=ut;Sl=a,(ut=t)&&!i?Al(e,l,(l.subtreeFlags&8772)!==0):jl(e,l),Sl=n,ut=i}break;case 30:break;default:jl(e,l)}}function qd(e){var t=e.alternate;t!==null&&(e.alternate=null,qd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,Mt=!1;function Nl(e,t,l){for(l=l.child;l!==null;)Xd(e,t,l),l=l.sibling}function Xd(e,t,l){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(bn,l)}catch{}switch(l.tag){case 26:ut||ol(l,t),Nl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ut||ol(l,t);var a=Ie,n=Mt;Fl(l.type)&&(Ie=l.stateNode,Mt=!1),Nl(e,t,l),ls(l.stateNode),Ie=a,Mt=n;break;case 5:ut||ol(l,t);case 6:if(a=Ie,n=Mt,Ie=null,Nl(e,t,l),Ie=a,Mt=n,Ie!==null)if(Mt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(l.stateNode)}catch(i){qe(l,t,i)}else try{Ie.removeChild(l.stateNode)}catch(i){qe(l,t,i)}break;case 18:Ie!==null&&(Mt?(e=Ie,Bf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),on(e)):Bf(Ie,l.stateNode));break;case 4:a=Ie,n=Mt,Ie=l.stateNode.containerInfo,Mt=!0,Nl(e,t,l),Ie=a,Mt=n;break;case 0:case 11:case 14:case 15:ql(2,l,t),ut||ql(4,l,t),Nl(e,t,l);break;case 1:ut||(ol(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Bd(l,t,a)),Nl(e,t,l);break;case 21:Nl(e,t,l);break;case 22:ut=(a=ut)||l.memoizedState!==null,Nl(e,t,l),ut=a;break;default:Nl(e,t,l)}}function Qd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{on(e)}catch(l){qe(t,t.return,l)}}}function Kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{on(e)}catch(l){qe(t,t.return,l)}}function hx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Yd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Yd),t;default:throw Error(r(435,e.tag))}}function ii(e,t){var l=hx(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=Ax.bind(null,e,a);a.then(n,n)}})}function Ct(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,o=t,d=o;e:for(;d!==null;){switch(d.tag){case 27:if(Fl(d.type)){Ie=d.stateNode,Mt=!1;break e}break;case 5:Ie=d.stateNode,Mt=!1;break e;case 3:case 4:Ie=d.stateNode.containerInfo,Mt=!0;break e}d=d.return}if(Ie===null)throw Error(r(160));Xd(i,o,n),Ie=null,Mt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Zd(t,e),t=t.sibling}var nl=null;function Zd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(t,e),Ot(e),a&4&&(ql(3,e,e.return),Kn(3,e),ql(5,e,e.return));break;case 1:Ct(t,e),Ot(e),a&512&&(ut||l===null||ol(l,l.return)),a&64&&Sl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=nl;if(Ct(t,e),Ot(e),a&512&&(ut||l===null||ol(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[yn]||i[ht]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),vt(i,a,l),i[ht]=e,ft(i),a=i;break e;case"link":var o=$f("link","href",n).get(a+(l.href||""));if(o){for(var d=0;d<o.length;d++)if(i=o[d],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){o.splice(d,1);break t}}i=n.createElement(a),vt(i,a,l),n.head.appendChild(i);break;case"meta":if(o=$f("meta","content",n).get(a+(l.content||""))){for(d=0;d<o.length;d++)if(i=o[d],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){o.splice(d,1);break t}}i=n.createElement(a),vt(i,a,l),n.head.appendChild(i);break;default:throw Error(r(468,a))}i[ht]=e,ft(i),a=i}e.stateNode=a}else Jf(n,e.type,e.stateNode);else e.stateNode=Zf(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Jf(n,e.type,e.stateNode):Zf(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&ro(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ct(t,e),Ot(e),a&512&&(ut||l===null||ol(l,l.return)),l!==null&&a&4&&ro(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ct(t,e),Ot(e),a&512&&(ut||l===null||ol(l,l.return)),e.flags&32){n=e.stateNode;try{Ca(n,"")}catch(xe){qe(e,e.return,xe)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,ro(e,n,l!==null?l.memoizedProps:n)),a&1024&&(mo=!0);break;case 6:if(Ct(t,e),Ot(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(xe){qe(e,e.return,xe)}}break;case 3:if(Ni=null,n=nl,nl=yi(t.containerInfo),Ct(t,e),nl=n,Ot(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{on(t.containerInfo)}catch(xe){qe(e,e.return,xe)}mo&&(mo=!1,$d(e));break;case 4:a=nl,nl=yi(e.stateNode.containerInfo),Ct(t,e),Ot(e),nl=a;break;case 12:Ct(t,e),Ot(e);break;case 31:Ct(t,e),Ot(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ii(e,a)));break;case 13:Ct(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(oi=Se()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ii(e,a)));break;case 22:n=e.memoizedState!==null;var p=l!==null&&l.memoizedState!==null,C=Sl,U=ut;if(Sl=C||n,ut=U||p,Ct(t,e),ut=U,Sl=C,Ot(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||p||Sl||ut||Na(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){p=l=t;try{if(i=p.stateNode,n)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{d=p.stateNode;var X=p.memoizedProps.style,O=X!=null&&X.hasOwnProperty("display")?X.display:null;d.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(xe){qe(p,p.return,xe)}}}else if(t.tag===6){if(l===null){p=t;try{p.stateNode.nodeValue=n?"":p.memoizedProps}catch(xe){qe(p,p.return,xe)}}}else if(t.tag===18){if(l===null){p=t;try{var z=p.stateNode;n?Uf(z,!0):Uf(p.stateNode,!1)}catch(xe){qe(p,p.return,xe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,ii(e,l))));break;case 19:Ct(t,e),Ot(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ii(e,a)));break;case 30:break;case 21:break;default:Ct(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Gd(a)){l=a;break}a=a.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var n=l.stateNode,i=uo(e);si(e,i,n);break;case 5:var o=l.stateNode;l.flags&32&&(Ca(o,""),l.flags&=-33);var d=uo(e);si(e,d,o);break;case 3:case 4:var p=l.stateNode.containerInfo,C=uo(e);fo(e,C,p);break;default:throw Error(r(161))}}catch(U){qe(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $d(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$d(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function jl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vd(e,t.alternate,t),t=t.sibling}function Na(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ql(4,t,t.return),Na(t);break;case 1:ol(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Bd(t,t.return,l),Na(t);break;case 27:ls(t.stateNode);case 26:case 5:ol(t,t.return),Na(t);break;case 22:t.memoizedState===null&&Na(t);break;case 30:Na(t);break;default:Na(t)}e=e.sibling}}function Al(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Al(n,i,l),Kn(4,i);break;case 1:if(Al(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(C){qe(a,a.return,C)}if(a=i,n=a.updateQueue,n!==null){var d=a.stateNode;try{var p=n.shared.hiddenCallbacks;if(p!==null)for(n.shared.hiddenCallbacks=null,n=0;n<p.length;n++)Eu(p[n],d)}catch(C){qe(a,a.return,C)}}l&&o&64&&Hd(i),Zn(i,i.return);break;case 27:Ld(i);case 26:case 5:Al(n,i,l),l&&a===null&&o&4&&Ud(i),Zn(i,i.return);break;case 12:Al(n,i,l);break;case 31:Al(n,i,l),l&&o&4&&Qd(n,i);break;case 13:Al(n,i,l),l&&o&4&&Kd(n,i);break;case 22:i.memoizedState===null&&Al(n,i,l),Zn(i,i.return);break;case 30:break;default:Al(n,i,l)}t=t.sibling}}function xo(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Rn(l))}function ho(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rn(e))}function sl(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jd(e,t,l,a),t=t.sibling}function Jd(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:sl(e,t,l,a),n&2048&&Kn(9,t);break;case 1:sl(e,t,l,a);break;case 3:sl(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rn(e)));break;case 12:if(n&2048){sl(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,d=i.onPostCommit;typeof d=="function"&&d(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){qe(t,t.return,p)}}else sl(e,t,l,a);break;case 31:sl(e,t,l,a);break;case 13:sl(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?sl(e,t,l,a):$n(e,t):i._visibility&2?sl(e,t,l,a):(i._visibility|=2,Fa(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&xo(o,t);break;case 24:sl(e,t,l,a),n&2048&&ho(t.alternate,t);break;default:sl(e,t,l,a)}}function Fa(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,d=l,p=a,C=o.flags;switch(o.tag){case 0:case 11:case 15:Fa(i,o,d,p,n),Kn(8,o);break;case 23:break;case 22:var U=o.stateNode;o.memoizedState!==null?U._visibility&2?Fa(i,o,d,p,n):$n(i,o):(U._visibility|=2,Fa(i,o,d,p,n)),n&&C&2048&&xo(o.alternate,o);break;case 24:Fa(i,o,d,p,n),n&&C&2048&&ho(o.alternate,o);break;default:Fa(i,o,d,p,n)}t=t.sibling}}function $n(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:$n(l,a),n&2048&&xo(a.alternate,a);break;case 24:$n(l,a),n&2048&&ho(a.alternate,a);break;default:$n(l,a)}t=t.sibling}}var Jn=8192;function Ia(e,t,l){if(e.subtreeFlags&Jn)for(e=e.child;e!==null;)Fd(e,t,l),e=e.sibling}function Fd(e,t,l){switch(e.tag){case 26:Ia(e,t,l),e.flags&Jn&&e.memoizedState!==null&&th(l,nl,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,t,l);break;case 3:case 4:var a=nl;nl=yi(e.stateNode.containerInfo),Ia(e,t,l),nl=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Jn,Jn=16777216,Ia(e,t,l),Jn=a):Ia(e,t,l));break;default:Ia(e,t,l)}}function Id(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];mt=a,Pd(a,e)}Id(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wd(e),e=e.sibling}function Wd(e){switch(e.tag){case 0:case 11:case 15:Fn(e),e.flags&2048&&ql(9,e,e.return);break;case 3:Fn(e);break;case 12:Fn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ci(e)):Fn(e);break;default:Fn(e)}}function ci(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];mt=a,Pd(a,e)}Id(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ql(8,t,t.return),ci(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,ci(t));break;default:ci(t)}e=e.sibling}}function Pd(e,t){for(;mt!==null;){var l=mt;switch(l.tag){case 0:case 11:case 15:ql(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Rn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,mt=a;else e:for(l=e;mt!==null;){a=mt;var n=a.sibling,i=a.return;if(qd(a),a===l){mt=null;break e}if(n!==null){n.return=i,mt=n;break e}mt=i}}}var px={getCacheForType:function(e){var t=bt(ct),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return bt(ct).controller.signal}},bx=typeof WeakMap=="function"?WeakMap:Map,Le=0,$e=null,we=null,Oe=0,Ve=0,Yt=null,Xl=!1,Wa=!1,po=!1,El=0,tt=0,Ql=0,ja=0,bo=0,Vt=0,Pa=0,In=null,kt=null,go=!1,oi=0,ef=0,ri=1/0,ui=null,Kl=null,dt=0,Zl=null,en=null,_l=0,vo=0,yo=null,tf=null,Wn=0,So=null;function qt(){return(Le&2)!==0&&Oe!==0?Oe&-Oe:h.T!==null?To():br()}function lf(){if(Vt===0)if((Oe&536870912)===0||De){var e=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),Vt=e}else Vt=536870912;return e=Gt.current,e!==null&&(e.flags|=32),Vt}function Rt(e,t,l){(e===$e&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)&&(tn(e,0),$l(e,Oe,Vt,!1)),vn(e,l),((Le&2)===0||e!==$e)&&(e===$e&&((Le&2)===0&&(ja|=l),tt===4&&$l(e,Oe,Vt,!1)),rl(e))}function af(e,t,l){if((Le&6)!==0)throw Error(r(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||gn(e,t),n=a?yx(e,t):jo(e,t,!0),i=a;do{if(n===0){Wa&&!a&&$l(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!gx(l)){n=jo(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var d=e;n=In;var p=d.current.memoizedState.isDehydrated;if(p&&(tn(d,o).flags|=256),o=jo(d,o,!1),o!==2){if(po&&!p){d.errorRecoveryDisabledLanes|=i,ja|=i,n=4;break e}i=kt,kt=n,i!==null&&(kt===null?kt=i:kt.push.apply(kt,i))}n=o}if(i=!1,n!==2)continue}}if(n===1){tn(e,0),$l(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:$l(a,t,Vt,!Xl);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(n=oi+300-Se(),10<n)){if($l(a,t,Vt,!Xl),ys(a,0,!0)!==0)break e;_l=t,a.timeoutHandle=zf(nf.bind(null,a,l,kt,ui,go,t,Vt,ja,Pa,Xl,i,"Throttled",-0,0),n);break e}nf(a,l,kt,ui,go,t,Vt,ja,Pa,Xl,i,null,-0,0)}}break}while(!0);rl(e)}function nf(e,t,l,a,n,i,o,d,p,C,U,X,O,z){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dl},Fd(t,i,X);var xe=(i&62914560)===i?oi-Se():(i&4194048)===i?ef-Se():0;if(xe=lh(X,xe),xe!==null){_l=i,e.cancelPendingCommit=xe(mf.bind(null,e,t,i,l,a,n,o,d,p,U,X,null,O,z)),$l(e,i,o,!C);return}}mf(e,t,i,l,a,n,o,d,p)}function gx(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!Bt(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $l(e,t,l,a){t&=~bo,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-Ht(n),o=1<<i;a[i]=-1,n&=~o}l!==0&&xr(e,l,t)}function di(){return(Le&6)===0?(Pn(0),!1):!0}function No(){if(we!==null){if(Ve===0)var e=we.return;else e=we,hl=xa=null,Bc(e),Qa=null,zn=0,e=we;for(;e!==null;)zd(e.alternate,e),e=e.return;we=null}}function tn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Ux(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),_l=0,No(),$e=e,we=l=ml(e.current,null),Oe=t,Ve=0,Yt=null,Xl=!1,Wa=gn(e,t),po=!1,Pa=Vt=bo=ja=Ql=tt=0,kt=In=null,go=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-Ht(a),i=1<<n;t|=e[n],a&=~i}return El=t,ks(),l}function sf(e,t){Ee=null,h.H=qn,t===Xa||t===Ls?(t=Su(),Ve=3):t===Ec?(t=Su(),Ve=4):Ve=t===Pc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yt=t,we===null&&(tt=1,ei(e,Jt(t,e.current)))}function cf(){var e=Gt.current;return e===null?!0:(Oe&4194048)===Oe?Pt===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?e===Pt:!1}function of(){var e=h.H;return h.H=qn,e===null?qn:e}function rf(){var e=h.A;return h.A=px,e}function fi(){tt=4,Xl||(Oe&4194048)!==Oe&&Gt.current!==null||(Wa=!0),(Ql&134217727)===0&&(ja&134217727)===0||$e===null||$l($e,Oe,Vt,!1)}function jo(e,t,l){var a=Le;Le|=2;var n=of(),i=rf();($e!==e||Oe!==t)&&(ui=null,tn(e,t)),t=!1;var o=tt;e:do try{if(Ve!==0&&we!==null){var d=we,p=Yt;switch(Ve){case 8:No(),o=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(t=!0);var C=Ve;if(Ve=0,Yt=null,ln(e,d,p,C),l&&Wa){o=0;break e}break;default:C=Ve,Ve=0,Yt=null,ln(e,d,p,C)}}vx(),o=tt;break}catch(U){sf(e,U)}while(!0);return t&&e.shellSuspendCounter++,hl=xa=null,Le=a,h.H=n,h.A=i,we===null&&($e=null,Oe=0,ks()),o}function vx(){for(;we!==null;)uf(we)}function yx(e,t){var l=Le;Le|=2;var a=of(),n=rf();$e!==e||Oe!==t?(ui=null,ri=Se()+500,tn(e,t)):Wa=gn(e,t);e:do try{if(Ve!==0&&we!==null){t=we;var i=Yt;t:switch(Ve){case 1:Ve=0,Yt=null,ln(e,t,i,1);break;case 2:case 9:if(vu(i)){Ve=0,Yt=null,df(t);break}t=function(){Ve!==2&&Ve!==9||$e!==e||(Ve=7),rl(e)},i.then(t,t);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:vu(i)?(Ve=0,Yt=null,df(t)):(Ve=0,Yt=null,ln(e,t,i,7));break;case 5:var o=null;switch(we.tag){case 26:o=we.memoizedState;case 5:case 27:var d=we;if(o?Ff(o):d.stateNode.complete){Ve=0,Yt=null;var p=d.sibling;if(p!==null)we=p;else{var C=d.return;C!==null?(we=C,mi(C)):we=null}break t}}Ve=0,Yt=null,ln(e,t,i,5);break;case 6:Ve=0,Yt=null,ln(e,t,i,6);break;case 8:No(),tt=6;break e;default:throw Error(r(462))}}Sx();break}catch(U){sf(e,U)}while(!0);return hl=xa=null,h.H=a,h.A=n,Le=l,we!==null?0:($e=null,Oe=0,ks(),tt)}function Sx(){for(;we!==null&&!na();)uf(we)}function uf(e){var t=Rd(e.alternate,e,El);e.memoizedProps=e.pendingProps,t===null?mi(e):we=t}function df(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Td(l,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Td(l,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:Bc(t);default:zd(l,t),t=we=ou(t,El),t=Rd(l,t,El)}e.memoizedProps=e.pendingProps,t===null?mi(e):we=t}function ln(e,t,l,a){hl=xa=null,Bc(t),Qa=null,zn=0;var n=t.return;try{if(rx(e,n,t,l,Oe)){tt=1,ei(e,Jt(l,e.current)),we=null;return}}catch(i){if(n!==null)throw we=n,i;tt=1,ei(e,Jt(l,e.current)),we=null;return}t.flags&32768?(De||a===1?e=!0:Wa||(Oe&536870912)!==0?e=!1:(Xl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Gt.current,a!==null&&a.tag===13&&(a.flags|=16384))),ff(t,e)):mi(t)}function mi(e){var t=e;do{if((t.flags&32768)!==0){ff(t,Xl);return}e=t.return;var l=fx(t.alternate,t,El);if(l!==null){we=l;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);tt===0&&(tt=5)}function ff(e,t){do{var l=mx(e.alternate,e);if(l!==null){l.flags&=32767,we=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=l}while(e!==null);tt=6,we=null}function mf(e,t,l,a,n,i,o,d,p){e.cancelPendingCommit=null;do xi();while(dt!==0);if((Le&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(i=t.lanes|t.childLanes,i|=uc,em(e,l,i,o,d,p),e===$e&&(we=$e=null,Oe=0),en=t,Zl=e,_l=l,vo=i,yo=n,tf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ex(it,function(){return gf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=h.T,h.T=null,n=_.p,_.p=2,o=Le,Le|=4;try{xx(e,t,l)}finally{Le=o,_.p=n,h.T=a}}dt=1,xf(),hf(),pf()}}function xf(){if(dt===1){dt=0;var e=Zl,t=en,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=h.T,h.T=null;var a=_.p;_.p=2;var n=Le;Le|=4;try{Zd(t,e);var i=zo,o=Pr(e.containerInfo),d=i.focusedElem,p=i.selectionRange;if(o!==d&&d&&d.ownerDocument&&Wr(d.ownerDocument.documentElement,d)){if(p!==null&&sc(d)){var C=p.start,U=p.end;if(U===void 0&&(U=C),"selectionStart"in d)d.selectionStart=C,d.selectionEnd=Math.min(U,d.value.length);else{var X=d.ownerDocument||document,O=X&&X.defaultView||window;if(O.getSelection){var z=O.getSelection(),xe=d.textContent.length,Ne=Math.min(p.start,xe),Ze=p.end===void 0?Ne:Math.min(p.end,xe);!z.extend&&Ne>Ze&&(o=Ze,Ze=Ne,Ne=o);var N=Ir(d,Ne),g=Ir(d,Ze);if(N&&g&&(z.rangeCount!==1||z.anchorNode!==N.node||z.anchorOffset!==N.offset||z.focusNode!==g.node||z.focusOffset!==g.offset)){var M=X.createRange();M.setStart(N.node,N.offset),z.removeAllRanges(),Ne>Ze?(z.addRange(M),z.extend(g.node,g.offset)):(M.setEnd(g.node,g.offset),z.addRange(M))}}}}for(X=[],z=d;z=z.parentNode;)z.nodeType===1&&X.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<X.length;d++){var L=X[d];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}_i=!!Do,zo=Do=null}finally{Le=n,_.p=a,h.T=l}}e.current=t,dt=2}}function hf(){if(dt===2){dt=0;var e=Zl,t=en,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=h.T,h.T=null;var a=_.p;_.p=2;var n=Le;Le|=4;try{Vd(e,t.alternate,t)}finally{Le=n,_.p=a,h.T=l}}dt=3}}function pf(){if(dt===4||dt===3){dt=0,Bi();var e=Zl,t=en,l=_l,a=tf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,en=Zl=null,bf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Kl=null),Li(l),t=t.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(bn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=h.T,n=_.p,_.p=2,h.T=null;try{for(var i=e.onRecoverableError,o=0;o<a.length;o++){var d=a[o];i(d.value,{componentStack:d.stack})}}finally{h.T=t,_.p=n}}(_l&3)!==0&&xi(),rl(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===So?Wn++:(Wn=0,So=e):Wn=0,Pn(0)}}function bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Rn(t)))}function xi(){return xf(),hf(),pf(),gf()}function gf(){if(dt!==5)return!1;var e=Zl,t=vo;vo=0;var l=Li(_l),a=h.T,n=_.p;try{_.p=32>l?32:l,h.T=null,l=yo,yo=null;var i=Zl,o=_l;if(dt=0,en=Zl=null,_l=0,(Le&6)!==0)throw Error(r(331));var d=Le;if(Le|=4,Wd(i.current),Jd(i,i.current,o,l),Le=d,Pn(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(bn,i)}catch{}return!0}finally{_.p=n,h.T=a,bf(e,t)}}function vf(e,t,l){t=Jt(l,t),t=Wc(e.stateNode,t,2),e=Ll(e,t,2),e!==null&&(vn(e,2),rl(e))}function qe(e,t,l){if(e.tag===3)vf(e,e,l);else for(;t!==null;){if(t.tag===3){vf(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Kl===null||!Kl.has(a))){e=Jt(l,e),l=vd(2),a=Ll(t,l,2),a!==null&&(yd(l,a,t,e),vn(a,2),rl(a));break}}t=t.return}}function Ao(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new bx;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(po=!0,n.add(l),e=Nx.bind(null,e,t,l),t.then(e,e))}function Nx(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,$e===e&&(Oe&l)===l&&(tt===4||tt===3&&(Oe&62914560)===Oe&&300>Se()-oi?(Le&2)===0&&tn(e,0):bo|=l,Pa===Oe&&(Pa=0)),rl(e)}function yf(e,t){t===0&&(t=mr()),e=da(e,t),e!==null&&(vn(e,t),rl(e))}function jx(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),yf(e,l)}function Ax(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),yf(e,l)}function Ex(e,t){return Et(e,t)}var hi=null,an=null,Eo=!1,pi=!1,_o=!1,Jl=0;function rl(e){e!==an&&e.next===null&&(an===null?hi=an=e:an=an.next=e),pi=!0,Eo||(Eo=!0,Tx())}function Pn(e,t){if(!_o&&pi){_o=!0;do for(var l=!1,a=hi;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var o=a.suspendedLanes,d=a.pingedLanes;i=(1<<31-Ht(42|e)+1)-1,i&=n&~(o&~d),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,Af(a,i))}else i=Oe,i=ys(a,a===$e?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||gn(a,i)||(l=!0,Af(a,i));a=a.next}while(l);_o=!1}}function _x(){Sf()}function Sf(){pi=Eo=!1;var e=0;Jl!==0&&Bx()&&(e=Jl);for(var t=Se(),l=null,a=hi;a!==null;){var n=a.next,i=Nf(a,t);i===0?(a.next=null,l===null?hi=n:l.next=n,n===null&&(an=l)):(l=a,(e!==0||(i&3)!==0)&&(pi=!0)),a=n}dt!==0&&dt!==5||Pn(e),Jl!==0&&(Jl=0)}function Nf(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-Ht(i),d=1<<o,p=n[o];p===-1?((d&l)===0||(d&a)!==0)&&(n[o]=P0(d,t)):p<=t&&(e.expiredLanes|=d),i&=~d}if(t=$e,l=Oe,l=ys(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&_t(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||gn(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&_t(a),Li(l)){case 2:case 8:l=lt;break;case 32:l=it;break;case 268435456:l=sa;break;default:l=it}return a=jf.bind(null,e),l=Et(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&_t(a),e.callbackPriority=2,e.callbackNode=null,2}function jf(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(xi()&&e.callbackNode!==l)return null;var a=Oe;return a=ys(e,e===$e?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(af(e,a,t),Nf(e,Se()),e.callbackNode!=null&&e.callbackNode===l?jf.bind(null,e):null)}function Af(e,t){if(xi())return null;af(e,t,!0)}function Tx(){Gx(function(){(Le&6)!==0?Et(He,_x):Sf()})}function To(){if(Jl===0){var e=Va;e===0&&(e=bs,bs<<=1,(bs&261888)===0&&(bs=256)),Jl=e}return Jl}function Ef(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:As(""+e)}function _f(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function wx(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=Ef((n[Tt]||null).action),o=a.submitter;o&&(t=(t=o[Tt]||null)?Ef(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var d=new ws("action","action",null,a,n);e.push({event:d,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Jl!==0){var p=o?_f(n,o):new FormData(n);Kc(l,{pending:!0,data:p,method:n.method,action:i},null,p)}}else typeof i=="function"&&(d.preventDefault(),p=o?_f(n,o):new FormData(n),Kc(l,{pending:!0,data:p,method:n.method,action:i},i,p))},currentTarget:n}]})}}for(var wo=0;wo<rc.length;wo++){var Mo=rc[wo],Mx=Mo.toLowerCase(),Cx=Mo[0].toUpperCase()+Mo.slice(1);al(Mx,"on"+Cx)}al(lu,"onAnimationEnd"),al(au,"onAnimationIteration"),al(nu,"onAnimationStart"),al("dblclick","onDoubleClick"),al("focusin","onFocus"),al("focusout","onBlur"),al(Km,"onTransitionRun"),al(Zm,"onTransitionStart"),al($m,"onTransitionCancel"),al(su,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ox=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(es));function Tf(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var d=a[o],p=d.instance,C=d.currentTarget;if(d=d.listener,p!==i&&n.isPropagationStopped())break e;i=d,n.currentTarget=C;try{i(n)}catch(U){Os(U)}n.currentTarget=null,i=p}else for(o=0;o<a.length;o++){if(d=a[o],p=d.instance,C=d.currentTarget,d=d.listener,p!==i&&n.isPropagationStopped())break e;i=d,n.currentTarget=C;try{i(n)}catch(U){Os(U)}n.currentTarget=null,i=p}}}}function Me(e,t){var l=t[Yi];l===void 0&&(l=t[Yi]=new Set);var a=e+"__bubble";l.has(a)||(wf(t,e,2,!1),l.add(a))}function Co(e,t,l){var a=0;t&&(a|=4),wf(l,e,a,t)}var bi="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[bi]){e[bi]=!0,yr.forEach(function(l){l!=="selectionchange"&&(Ox.has(l)||Co(l,!1,e),Co(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bi]||(t[bi]=!0,Co("selectionchange",!1,t))}}function wf(e,t,l,a){switch(a0(t)){case 2:var n=sh;break;case 8:n=ih;break;default:n=Ko}l=n.bind(null,t,l,e),n=void 0,!Fi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function ko(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var d=a.stateNode.containerInfo;if(d===n)break;if(o===4)for(o=a.return;o!==null;){var p=o.tag;if((p===3||p===4)&&o.stateNode.containerInfo===n)return;o=o.return}for(;d!==null;){if(o=Ea(d),o===null)return;if(p=o.tag,p===5||p===6||p===26||p===27){a=i=o;continue e}d=d.parentNode}}a=a.return}kr(function(){var C=i,U=$i(l),X=[];e:{var O=iu.get(e);if(O!==void 0){var z=ws,xe=e;switch(e){case"keypress":if(_s(l)===0)break e;case"keydown":case"keyup":z=Am;break;case"focusin":xe="focus",z=ec;break;case"focusout":xe="blur",z=ec;break;case"beforeblur":case"afterblur":z=ec;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Tm;break;case lu:case au:case nu:z=hm;break;case su:z=Mm;break;case"scroll":case"scrollend":z=um;break;case"wheel":z=Om;break;case"copy":case"cut":case"paste":z=bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Br;break;case"toggle":case"beforetoggle":z=Rm}var Ne=(t&4)!==0,Ze=!Ne&&(e==="scroll"||e==="scrollend"),N=Ne?O!==null?O+"Capture":null:O;Ne=[];for(var g=C,M;g!==null;){var L=g;if(M=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||M===null||N===null||(L=Nn(g,N),L!=null&&Ne.push(ts(g,L,M))),Ze)break;g=g.return}0<Ne.length&&(O=new z(O,xe,null,l,U),X.push({event:O,listeners:Ne}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",O&&l!==Zi&&(xe=l.relatedTarget||l.fromElement)&&(Ea(xe)||xe[Aa]))break e;if((z||O)&&(O=U.window===U?U:(O=U.ownerDocument)?O.defaultView||O.parentWindow:window,z?(xe=l.relatedTarget||l.toElement,z=C,xe=xe?Ea(xe):null,xe!==null&&(Ze=v(xe),Ne=xe.tag,xe!==Ze||Ne!==5&&Ne!==27&&Ne!==6)&&(xe=null)):(z=null,xe=C),z!==xe)){if(Ne=zr,L="onMouseLeave",N="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=Br,L="onPointerLeave",N="onPointerEnter",g="pointer"),Ze=z==null?O:Sn(z),M=xe==null?O:Sn(xe),O=new Ne(L,g+"leave",z,l,U),O.target=Ze,O.relatedTarget=M,L=null,Ea(U)===C&&(Ne=new Ne(N,g+"enter",xe,l,U),Ne.target=M,Ne.relatedTarget=Ze,L=Ne),Ze=L,z&&xe)t:{for(Ne=kx,N=z,g=xe,M=0,L=N;L;L=Ne(L))M++;L=0;for(var ye=g;ye;ye=Ne(ye))L++;for(;0<M-L;)N=Ne(N),M--;for(;0<L-M;)g=Ne(g),L--;for(;M--;){if(N===g||g!==null&&N===g.alternate){Ne=N;break t}N=Ne(N),g=Ne(g)}Ne=null}else Ne=null;z!==null&&Mf(X,O,z,Ne,!1),xe!==null&&Ze!==null&&Mf(X,Ze,xe,Ne,!0)}}e:{if(O=C?Sn(C):window,z=O.nodeName&&O.nodeName.toLowerCase(),z==="select"||z==="input"&&O.type==="file")var Ue=Qr;else if(qr(O))if(Kr)Ue=qm;else{Ue=Ym;var pe=Lm}else z=O.nodeName,!z||z.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?C&&Ki(C.elementType)&&(Ue=Qr):Ue=Vm;if(Ue&&(Ue=Ue(e,C))){Xr(X,Ue,l,U);break e}pe&&pe(e,O,C),e==="focusout"&&C&&O.type==="number"&&C.memoizedProps.value!=null&&Qi(O,"number",O.value)}switch(pe=C?Sn(C):window,e){case"focusin":(qr(pe)||pe.contentEditable==="true")&&(Da=pe,ic=C,Cn=null);break;case"focusout":Cn=ic=Da=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,eu(X,l,U);break;case"selectionchange":if(Qm)break;case"keydown":case"keyup":eu(X,l,U)}var _e;if(lc)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ra?Yr(e,l)&&(ke="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(Ur&&l.locale!=="ko"&&(Ra||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ra&&(_e=Rr()):(Rl=U,Ii="value"in Rl?Rl.value:Rl.textContent,Ra=!0)),pe=gi(C,ke),0<pe.length&&(ke=new Hr(ke,e,null,l,U),X.push({event:ke,listeners:pe}),_e?ke.data=_e:(_e=Vr(l),_e!==null&&(ke.data=_e)))),(_e=zm?Hm(e,l):Bm(e,l))&&(ke=gi(C,"onBeforeInput"),0<ke.length&&(pe=new Hr("onBeforeInput","beforeinput",null,l,U),X.push({event:pe,listeners:ke}),pe.data=_e)),wx(X,e,C,l,U)}Tf(X,t)})}function ts(e,t,l){return{instance:e,listener:t,currentTarget:l}}function gi(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Nn(e,l),n!=null&&a.unshift(ts(e,n,i)),n=Nn(e,t),n!=null&&a.push(ts(e,n,i))),e.tag===3)return a;e=e.return}return[]}function kx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mf(e,t,l,a,n){for(var i=t._reactName,o=[];l!==null&&l!==a;){var d=l,p=d.alternate,C=d.stateNode;if(d=d.tag,p!==null&&p===a)break;d!==5&&d!==26&&d!==27||C===null||(p=C,n?(C=Nn(l,i),C!=null&&o.unshift(ts(l,C,p))):n||(C=Nn(l,i),C!=null&&o.push(ts(l,C,p)))),l=l.return}o.length!==0&&e.push({event:t,listeners:o})}var Rx=/\r\n?/g,Dx=/\u0000|\uFFFD/g;function Cf(e){return(typeof e=="string"?e:""+e).replace(Rx,`
`).replace(Dx,"")}function Of(e,t){return t=Cf(t),Cf(e)===t}function Ke(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ca(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ca(e,""+a);break;case"className":Ns(e,"class",a);break;case"tabIndex":Ns(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ns(e,l,a);break;case"style":Cr(e,a,i);break;case"data":if(t!=="object"){Ns(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=As(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Ke(e,t,"name",n.name,n,null),Ke(e,t,"formEncType",n.formEncType,n,null),Ke(e,t,"formMethod",n.formMethod,n,null),Ke(e,t,"formTarget",n.formTarget,n,null)):(Ke(e,t,"encType",n.encType,n,null),Ke(e,t,"method",n.method,n,null),Ke(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=As(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=dl);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=As(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Me("beforetoggle",e),Me("toggle",e),Ss(e,"popover",a);break;case"xlinkActuate":ul(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ul(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ul(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ul(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ul(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ul(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ul(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ul(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ul(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ss(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=om.get(l)||l,Ss(e,l,a))}}function Ro(e,t,l,a,n,i){switch(l){case"style":Cr(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ca(e,a):(typeof a=="number"||typeof a=="bigint")&&Ca(e,""+a);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"onClick":a!=null&&(e.onclick=dl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[Tt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Ss(e,l,a)}}}function vt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var o=l[i];if(o!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ke(e,t,i,o,l,null)}}n&&Ke(e,t,"srcSet",l.srcSet,l,null),a&&Ke(e,t,"src",l.src,l,null);return;case"input":Me("invalid",e);var d=i=o=n=null,p=null,C=null;for(a in l)if(l.hasOwnProperty(a)){var U=l[a];if(U!=null)switch(a){case"name":n=U;break;case"type":o=U;break;case"checked":p=U;break;case"defaultChecked":C=U;break;case"value":i=U;break;case"defaultValue":d=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:Ke(e,t,a,U,l,null)}}_r(e,i,d,p,C,o,n,!1);return;case"select":Me("invalid",e),a=o=i=null;for(n in l)if(l.hasOwnProperty(n)&&(d=l[n],d!=null))switch(n){case"value":i=d;break;case"defaultValue":o=d;break;case"multiple":a=d;default:Ke(e,t,n,d,l,null)}t=i,l=o,e.multiple=!!a,t!=null?Ma(e,!!a,t,!1):l!=null&&Ma(e,!!a,l,!0);return;case"textarea":Me("invalid",e),i=n=a=null;for(o in l)if(l.hasOwnProperty(o)&&(d=l[o],d!=null))switch(o){case"value":a=d;break;case"defaultValue":n=d;break;case"children":i=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:Ke(e,t,o,d,l,null)}wr(e,a,n,i);return;case"option":for(p in l)if(l.hasOwnProperty(p)&&(a=l[p],a!=null))switch(p){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ke(e,t,p,a,l,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(a=0;a<es.length;a++)Me(es[a],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in l)if(l.hasOwnProperty(C)&&(a=l[C],a!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ke(e,t,C,a,l,null)}return;default:if(Ki(t)){for(U in l)l.hasOwnProperty(U)&&(a=l[U],a!==void 0&&Ro(e,t,U,a,l,void 0));return}}for(d in l)l.hasOwnProperty(d)&&(a=l[d],a!=null&&Ke(e,t,d,a,l,null))}function zx(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,o=null,d=null,p=null,C=null,U=null;for(z in l){var X=l[z];if(l.hasOwnProperty(z)&&X!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":p=X;default:a.hasOwnProperty(z)||Ke(e,t,z,null,a,X)}}for(var O in a){var z=a[O];if(X=l[O],a.hasOwnProperty(O)&&(z!=null||X!=null))switch(O){case"type":i=z;break;case"name":n=z;break;case"checked":C=z;break;case"defaultChecked":U=z;break;case"value":o=z;break;case"defaultValue":d=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:z!==X&&Ke(e,t,O,z,a,X)}}Xi(e,o,d,p,C,U,i,n);return;case"select":z=o=d=O=null;for(i in l)if(p=l[i],l.hasOwnProperty(i)&&p!=null)switch(i){case"value":break;case"multiple":z=p;default:a.hasOwnProperty(i)||Ke(e,t,i,null,a,p)}for(n in a)if(i=a[n],p=l[n],a.hasOwnProperty(n)&&(i!=null||p!=null))switch(n){case"value":O=i;break;case"defaultValue":d=i;break;case"multiple":o=i;default:i!==p&&Ke(e,t,n,i,a,p)}t=d,l=o,a=z,O!=null?Ma(e,!!l,O,!1):!!a!=!!l&&(t!=null?Ma(e,!!l,t,!0):Ma(e,!!l,l?[]:"",!1));return;case"textarea":z=O=null;for(d in l)if(n=l[d],l.hasOwnProperty(d)&&n!=null&&!a.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:Ke(e,t,d,null,a,n)}for(o in a)if(n=a[o],i=l[o],a.hasOwnProperty(o)&&(n!=null||i!=null))switch(o){case"value":O=n;break;case"defaultValue":z=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(r(91));break;default:n!==i&&Ke(e,t,o,n,a,i)}Tr(e,O,z);return;case"option":for(var xe in l)if(O=l[xe],l.hasOwnProperty(xe)&&O!=null&&!a.hasOwnProperty(xe))switch(xe){case"selected":e.selected=!1;break;default:Ke(e,t,xe,null,a,O)}for(p in a)if(O=a[p],z=l[p],a.hasOwnProperty(p)&&O!==z&&(O!=null||z!=null))switch(p){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ke(e,t,p,O,a,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)O=l[Ne],l.hasOwnProperty(Ne)&&O!=null&&!a.hasOwnProperty(Ne)&&Ke(e,t,Ne,null,a,O);for(C in a)if(O=a[C],z=l[C],a.hasOwnProperty(C)&&O!==z&&(O!=null||z!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:Ke(e,t,C,O,a,z)}return;default:if(Ki(t)){for(var Ze in l)O=l[Ze],l.hasOwnProperty(Ze)&&O!==void 0&&!a.hasOwnProperty(Ze)&&Ro(e,t,Ze,void 0,a,O);for(U in a)O=a[U],z=l[U],!a.hasOwnProperty(U)||O===z||O===void 0&&z===void 0||Ro(e,t,U,O,a,z);return}}for(var N in l)O=l[N],l.hasOwnProperty(N)&&O!=null&&!a.hasOwnProperty(N)&&Ke(e,t,N,null,a,O);for(X in a)O=a[X],z=l[X],!a.hasOwnProperty(X)||O===z||O==null&&z==null||Ke(e,t,X,O,a,z)}function kf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],i=n.transferSize,o=n.initiatorType,d=n.duration;if(i&&d&&kf(o)){for(o=0,d=n.responseEnd,a+=1;a<l.length;a++){var p=l[a],C=p.startTime;if(C>d)break;var U=p.transferSize,X=p.initiatorType;U&&kf(X)&&(p=p.responseEnd,o+=U*(p<d?1:(d-C)/(p-C)))}if(--a,t+=8*(i+o)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Do=null,zo=null;function vi(e){return e.nodeType===9?e:e.ownerDocument}function Rf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Df(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ho(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bo=null;function Bx(){var e=window.event;return e&&e.type==="popstate"?e===Bo?!1:(Bo=e,!0):(Bo=null,!1)}var zf=typeof setTimeout=="function"?setTimeout:void 0,Ux=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Gx=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(Lx)}:zf;function Lx(e){setTimeout(function(){throw e})}function Fl(e){return e==="head"}function Bf(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),on(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")ls(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,ls(l);for(var i=l.firstChild;i;){var o=i.nextSibling,d=i.nodeName;i[yn]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=o}}else l==="body"&&ls(e.ownerDocument.body);l=n}while(l);on(t)}function Uf(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Uo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Uo(l),Vi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Yx(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[yn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=el(e.nextSibling),e===null)break}return null}function Vx(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=el(e.nextSibling),e===null))return null;return e}function Gf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=el(e.nextSibling),e===null))return null;return e}function Go(e){return e.data==="$?"||e.data==="$~"}function Lo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qx(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function el(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Yo=null;function Lf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return el(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Yf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Vf(e,t,l){switch(t=vi(l),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ls(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vi(e)}var tl=new Map,qf=new Set;function yi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tl=_.d;_.d={f:Xx,r:Qx,D:Kx,C:Zx,L:$x,m:Jx,X:Ix,S:Fx,M:Wx};function Xx(){var e=Tl.f(),t=di();return e||t}function Qx(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?sd(t):Tl.r(e)}var nn=typeof document>"u"?null:document;function Xf(e,t,l){var a=nn;if(a&&typeof t=="string"&&t){var n=Zt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),qf.has(n)||(qf.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),vt(t,"link",e),ft(t),a.head.appendChild(t)))}}function Kx(e){Tl.D(e),Xf("dns-prefetch",e,null)}function Zx(e,t){Tl.C(e,t),Xf("preconnect",e,t)}function $x(e,t,l){Tl.L(e,t,l);var a=nn;if(a&&e&&t){var n='link[rel="preload"][as="'+Zt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Zt(l.imageSizes)+'"]')):n+='[href="'+Zt(e)+'"]';var i=n;switch(t){case"style":i=sn(e);break;case"script":i=cn(e)}tl.has(i)||(e=E({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),tl.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(as(i))||t==="script"&&a.querySelector(ns(i))||(t=a.createElement("link"),vt(t,"link",e),ft(t),a.head.appendChild(t)))}}function Jx(e,t){Tl.m(e,t);var l=nn;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Zt(a)+'"][href="'+Zt(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=cn(e)}if(!tl.has(i)&&(e=E({rel:"modulepreload",href:e},t),tl.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ns(i)))return}a=l.createElement("link"),vt(a,"link",e),ft(a),l.head.appendChild(a)}}}function Fx(e,t,l){Tl.S(e,t,l);var a=nn;if(a&&e){var n=Ta(a).hoistableStyles,i=sn(e);t=t||"default";var o=n.get(i);if(!o){var d={loading:0,preload:null};if(o=a.querySelector(as(i)))d.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},l),(l=tl.get(i))&&Vo(e,l);var p=o=a.createElement("link");ft(p),vt(p,"link",e),p._p=new Promise(function(C,U){p.onload=C,p.onerror=U}),p.addEventListener("load",function(){d.loading|=1}),p.addEventListener("error",function(){d.loading|=2}),d.loading|=4,Si(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:d},n.set(i,o)}}}function Ix(e,t){Tl.X(e,t);var l=nn;if(l&&e){var a=Ta(l).hoistableScripts,n=cn(e),i=a.get(n);i||(i=l.querySelector(ns(n)),i||(e=E({src:e,async:!0},t),(t=tl.get(n))&&qo(e,t),i=l.createElement("script"),ft(i),vt(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Wx(e,t){Tl.M(e,t);var l=nn;if(l&&e){var a=Ta(l).hoistableScripts,n=cn(e),i=a.get(n);i||(i=l.querySelector(ns(n)),i||(e=E({src:e,async:!0,type:"module"},t),(t=tl.get(n))&&qo(e,t),i=l.createElement("script"),ft(i),vt(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Qf(e,t,l,a){var n=(n=Z.current)?yi(n):null;if(!n)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=sn(l.href),l=Ta(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=sn(l.href);var i=Ta(n).hoistableStyles,o=i.get(e);if(o||(n=n.ownerDocument||n,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=n.querySelector(as(e)))&&!i._p&&(o.instance=i,o.state.loading=5),tl.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},tl.set(e,l),i||Px(n,e,l,o.state))),t&&a===null)throw Error(r(528,""));return o}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=cn(l),l=Ta(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function sn(e){return'href="'+Zt(e)+'"'}function as(e){return'link[rel="stylesheet"]['+e+"]"}function Kf(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Px(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),vt(t,"link",l),ft(t),e.head.appendChild(t))}function cn(e){return'[src="'+Zt(e)+'"]'}function ns(e){return"script[async]"+e}function Zf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Zt(l.href)+'"]');if(a)return t.instance=a,ft(a),a;var n=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ft(a),vt(a,"style",n),Si(a,l.precedence,e),t.instance=a;case"stylesheet":n=sn(l.href);var i=e.querySelector(as(n));if(i)return t.state.loading|=4,t.instance=i,ft(i),i;a=Kf(l),(n=tl.get(n))&&Vo(a,n),i=(e.ownerDocument||e).createElement("link"),ft(i);var o=i;return o._p=new Promise(function(d,p){o.onload=d,o.onerror=p}),vt(i,"link",a),t.state.loading|=4,Si(i,l.precedence,e),t.instance=i;case"script":return i=cn(l.src),(n=e.querySelector(ns(i)))?(t.instance=n,ft(n),n):(a=l,(n=tl.get(i))&&(a=E({},l),qo(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),ft(n),vt(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Si(a,l.precedence,e));return t.instance}function Si(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,o=0;o<a.length;o++){var d=a[o];if(d.dataset.precedence===t)i=d;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Vo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ni=null;function $f(e,t,l){if(Ni===null){var a=new Map,n=Ni=new Map;n.set(l,a)}else n=Ni,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[yn]||i[ht]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var d=a.get(o);d?d.push(i):a.set(o,[i])}}return a}function Jf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function eh(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ff(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function th(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=sn(a.href),i=t.querySelector(as(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ji.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,ft(i);return}i=t.ownerDocument||t,a=Kf(a),(n=tl.get(n))&&Vo(a,n),i=i.createElement("link"),ft(i);var o=i;o._p=new Promise(function(d,p){o.onload=d,o.onerror=p}),vt(i,"link",a),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ji.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Xo=0;function lh(e,t){return e.stylesheets&&e.count===0&&Ei(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Ei(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Xo===0&&(Xo=62500*Hx());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ei(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Xo?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function ji(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ei(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ai=null;function Ei(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ai=new Map,t.forEach(ah,e),Ai=null,ji.call(e))}function ah(e,t){if(!(t.state.loading&4)){var l=Ai.get(e);if(l)var a=l.get(null);else{l=new Map,Ai.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var o=n[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(l.set(o.dataset.precedence,o),a=o)}a&&l.set(null,a)}n=t.instance,o=n.getAttribute("data-precedence"),i=l.get(o)||a,i===a&&l.set(null,n),l.set(o,n),this.count++,a=ji.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var ss={$$typeof:Q,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function nh(e,t,l,a,n,i,o,d,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function If(e,t,l,a,n,i,o,d,p,C,U,X){return e=new nh(e,t,l,o,p,C,U,X,d),t=1,i===!0&&(t|=24),i=Ut(3,null,null,t),e.current=i,i.stateNode=e,t=Nc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},_c(i),e}function Wf(e){return e?(e=Ba,e):Ba}function Pf(e,t,l,a,n,i){n=Wf(n),a.context===null?a.context=n:a.pendingContext=n,a=Gl(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=Ll(e,a,t),l!==null&&(Rt(l,e,t),Bn(l,e,t))}function e0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Qo(e,t){e0(e,t),(e=e.alternate)&&e0(e,t)}function t0(e){if(e.tag===13||e.tag===31){var t=da(e,67108864);t!==null&&Rt(t,e,67108864),Qo(e,67108864)}}function l0(e){if(e.tag===13||e.tag===31){var t=qt();t=Gi(t);var l=da(e,t);l!==null&&Rt(l,e,t),Qo(e,t)}}var _i=!0;function sh(e,t,l,a){var n=h.T;h.T=null;var i=_.p;try{_.p=2,Ko(e,t,l,a)}finally{_.p=i,h.T=n}}function ih(e,t,l,a){var n=h.T;h.T=null;var i=_.p;try{_.p=8,Ko(e,t,l,a)}finally{_.p=i,h.T=n}}function Ko(e,t,l,a){if(_i){var n=Zo(a);if(n===null)ko(e,t,a,Ti,l),n0(e,a);else if(oh(n,e,t,l,a))a.stopPropagation();else if(n0(e,a),t&4&&-1<ch.indexOf(e)){for(;n!==null;){var i=_a(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=ia(i.pendingLanes);if(o!==0){var d=i;for(d.pendingLanes|=2,d.entangledLanes|=2;o;){var p=1<<31-Ht(o);d.entanglements[1]|=p,o&=~p}rl(i),(Le&6)===0&&(ri=Se()+500,Pn(0))}}break;case 31:case 13:d=da(i,2),d!==null&&Rt(d,i,2),di(),Qo(i,2)}if(i=Zo(a),i===null&&ko(e,t,a,Ti,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else ko(e,t,a,null,l)}}function Zo(e){return e=$i(e),$o(e)}var Ti=null;function $o(e){if(Ti=null,e=Ea(e),e!==null){var t=v(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=b(t),e!==null)return e;e=null}else if(l===31){if(e=R(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ti=e,null}function a0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case He:return 2;case lt:return 8;case it:case St:return 32;case sa:return 268435456;default:return 32}default:return 32}}var Jo=!1,Il=null,Wl=null,Pl=null,is=new Map,cs=new Map,ea=[],ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(e,t){switch(e){case"focusin":case"focusout":Il=null;break;case"dragenter":case"dragleave":Wl=null;break;case"mouseover":case"mouseout":Pl=null;break;case"pointerover":case"pointerout":is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(t.pointerId)}}function os(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=_a(t),t!==null&&t0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function oh(e,t,l,a,n){switch(t){case"focusin":return Il=os(Il,e,t,l,a,n),!0;case"dragenter":return Wl=os(Wl,e,t,l,a,n),!0;case"mouseover":return Pl=os(Pl,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return is.set(i,os(is.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,cs.set(i,os(cs.get(i)||null,e,t,l,a,n)),!0}return!1}function s0(e){var t=Ea(e.target);if(t!==null){var l=v(t);if(l!==null){if(t=l.tag,t===13){if(t=b(l),t!==null){e.blockedOn=t,gr(e.priority,function(){l0(l)});return}}else if(t===31){if(t=R(l),t!==null){e.blockedOn=t,gr(e.priority,function(){l0(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Zo(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Zi=a,l.target.dispatchEvent(a),Zi=null}else return t=_a(l),t!==null&&t0(t),e.blockedOn=l,!1;t.shift()}return!0}function i0(e,t,l){wi(e)&&l.delete(t)}function rh(){Jo=!1,Il!==null&&wi(Il)&&(Il=null),Wl!==null&&wi(Wl)&&(Wl=null),Pl!==null&&wi(Pl)&&(Pl=null),is.forEach(i0),cs.forEach(i0)}function Mi(e,t){e.blockedOn===t&&(e.blockedOn=null,Jo||(Jo=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,rh)))}var Ci=null;function c0(e){Ci!==e&&(Ci=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Ci===e&&(Ci=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if($o(a||l)===null)continue;break}var i=_a(l);i!==null&&(e.splice(t,3),t-=3,Kc(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function on(e){function t(p){return Mi(p,e)}Il!==null&&Mi(Il,e),Wl!==null&&Mi(Wl,e),Pl!==null&&Mi(Pl,e),is.forEach(t),cs.forEach(t);for(var l=0;l<ea.length;l++){var a=ea[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ea.length&&(l=ea[0],l.blockedOn===null);)s0(l),l.blockedOn===null&&ea.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],o=n[Tt]||null;if(typeof i=="function")o||c0(l);else if(o){var d=null;if(i&&i.hasAttribute("formAction")){if(n=i,o=i[Tt]||null)d=o.formAction;else if($o(n)!==null)continue}else d=o.action;typeof d=="function"?l[a+1]=d:(l.splice(a,3),a-=3),c0(l)}}}function o0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return n=o})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Fo(e){this._internalRoot=e}Oi.prototype.render=Fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var l=t.current,a=qt();Pf(l,a,e,t,null,null)},Oi.prototype.unmount=Fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pf(e.current,2,null,e,null,null),di(),t[Aa]=null}};function Oi(e){this._internalRoot=e}Oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=br();e={blockedOn:null,target:e,priority:t};for(var l=0;l<ea.length&&t!==0&&t<ea[l].priority;l++);ea.splice(l,0,e),l===0&&s0(e)}};var r0=u.version;if(r0!=="19.2.3")throw Error(r(527,r0,"19.2.3"));_.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?j(e):null,e=e===null?null:e.stateNode,e};var uh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:h,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ki.isDisabled&&ki.supportsFiber)try{bn=ki.inject(uh),zt=ki}catch{}}return us.createRoot=function(e,t){if(!m(e))throw Error(r(299));var l=!1,a="",n=hd,i=pd,o=bd;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=If(e,1,!1,null,null,l,a,null,n,i,o,o0),e[Aa]=t.current,Oo(e),new Fo(t)},us.hydrateRoot=function(e,t,l){if(!m(e))throw Error(r(299));var a=!1,n="",i=hd,o=pd,d=bd,p=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(o=l.onCaughtError),l.onRecoverableError!==void 0&&(d=l.onRecoverableError),l.formState!==void 0&&(p=l.formState)),t=If(e,1,!0,t,l??null,a,n,p,i,o,d,o0),t.context=Wf(null),l=t.current,a=qt(),a=Gi(a),n=Gl(a),n.callback=null,Ll(l,n,a),l=a,t.current.lanes=l,vn(t,l),rl(t),e[Aa]=t.current,Oo(e),new Oi(t)},us.version="19.2.3",us}var v0;function yh(){if(v0)return Po.exports;v0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(u){console.error(u)}}return c(),Po.exports=vh(),Po.exports}var Sh=yh();const Nh=U0(Sh);var re=(c=>(c.KNIGHT="",c.WARRIOR="",c.ROGUE="",c.ARCHER="",c.MAGE="",c.BEATER="",c.KAYABA="GM",c))(re||{}),T=(c=>(c.HEAD="head",c.BODY="body",c.LEGS="legs",c.HANDS="hands",c.FEET="feet",c.BACK="back",c.MAIN_HAND="mainHand",c.OFF_HAND="offHand",c.ACCESSORY="accessory",c.ACCESSORY_2="accessory2",c))(T||{}),Cl=(c=>(c.WEAPON="weapon",c.ARMOR="armor",c.ACCESSORY="accessory",c.CONSUMABLE="consumable",c))(Cl||{}),oe=(c=>(c.SWORD_1H="",c.SWORD_2H="",c.BOW="",c.CROSSBOW="",c.STAFF_1H="",c.STAFF_2H="",c.DAGGER="",c.AXE_1H="",c.AXE_2H="",c.SHIELD="",c.CATALYST="",c.NONE="",c))(oe||{}),ge=(c=>(c.PLAINS="",c.FOREST="",c.DESERT="",c.CAVE="",c.TOWER="BOSS ",c))(ge||{}),Be=(c=>(c.BLOOD_MOON="BLOOD_MOON",c.ARCANE_SURGE="ARCANE_SURGE",c.GRAVITY_FLUX="GRAVITY_FLUX",c.HARVEST_ERA="HARVEST_ERA",c.VOID_GLITCH="VOID_GLITCH",c.RAGE_PLAGUE="RAGE_PLAGUE",c))(Be||{});const hs={[ge.PLAINS]:{id:ge.PLAINS,name:"",recommendedLevel:1,minLevel:1,levelFluctuation:2,dropSlots:[T.HEAD,T.FEET],description:""},[ge.FOREST]:{id:ge.FOREST,name:"",recommendedLevel:1,minLevel:1,levelFluctuation:2,dropSlots:[T.BODY,T.HANDS],description:""},[ge.DESERT]:{id:ge.DESERT,name:"",recommendedLevel:1,minLevel:1,levelFluctuation:2,dropSlots:[T.LEGS,T.BACK],description:""},[ge.CAVE]:{id:ge.CAVE,name:"",recommendedLevel:1,minLevel:1,levelFluctuation:2,dropSlots:[T.MAIN_HAND,T.OFF_HAND,T.ACCESSORY],description:""},[ge.TOWER]:{id:ge.TOWER,name:"BOSS ",recommendedLevel:1,minLevel:1,levelFluctuation:0,dropSlots:Object.values(T),description:""}},jt={[Be.BLOOD_MOON]:{type:Be.BLOOD_MOON,name:"",description:"",color:"#ef4444",monsterEffect:" +50%",playerEffect:" 15% "},[Be.ARCANE_SURGE]:{type:Be.ARCANE_SURGE,name:"",description:"",color:"#3b82f6",monsterEffect:" +100%",playerEffect:" +50%"},[Be.GRAVITY_FLUX]:{type:Be.GRAVITY_FLUX,name:"",description:"",color:"#a855f7",monsterEffect:" +30%",playerEffect:" +100%"},[Be.HARVEST_ERA]:{type:Be.HARVEST_ERA,name:"",description:"",color:"#facc15",monsterEffect:" +50%",playerEffect:" +100%"},[Be.VOID_GLITCH]:{type:Be.VOID_GLITCH,name:"",description:"",color:"#ffffff",monsterEffect:" +50%",playerEffect:""},[Be.RAGE_PLAGUE]:{type:Be.RAGE_PLAGUE,name:"",description:"",color:"#f97316",monsterEffect:" +50%",playerEffect:" +50%"}},L0={VERSION:"v4.5.2 (Deep Commission Integration)",SHARE_URL:window.location.href},Hi={REST_COOLDOWN_MS:600*1e3},Ri={MYTHIC:.995,LEGENDARY:.95,RARE:.8,UNCOMMON:.5},ms={FLEE_CHANCE:{NORMAL:.25,BOSS:.05},SURVIVAL_TURNS:{START:12,END:3}},rn=250,un=150,rr=[{id:"commission_e",name:"",label:"15 ",durationMs:900*1e3,baseGold:rn,baseExp:un,icon:""},{id:"commission_d",name:"",label:"1 ",durationMs:3600*1e3,baseGold:rn,baseExp:un,icon:""},{id:"commission_c",name:"",label:"4 ",durationMs:14400*1e3,baseGold:rn,baseExp:un,icon:""},{id:"commission_b",name:"",label:"8 ",durationMs:480*60*1e3,baseGold:rn,baseExp:un,icon:""},{id:"commission_a",name:"",label:"12 ",durationMs:720*60*1e3,baseGold:rn,baseExp:un,icon:""},{id:"commission_s",name:"",label:"20 ",durationMs:1200*60*1e3,baseGold:rn,baseExp:un,icon:""}],mn=1.08,Pe={ATTRIBUTE_SCALING:{STR_TO_ATK:2,VIT_TO_HP:10,VIT_TO_DEF:.2,VIT_TO_MDEF:.1,INT_TO_MATK:2,AGI_TO_CRIT:.2,AGI_TO_DODGE:.15,AGI_TO_HIT:.1},BASE_VALS:{HP:100,ATK:15,MATK:10,DEF:5,MDEF:5},BOSS_MULTIPLIERS:{EXP:3,GOLD:5}},ps=c=>Math.floor(200*Math.pow(1.1,c-1)),y0={GOLD:100,POTIONS:3},ur={kirito:{feedback:" ",unlockHiddenClass:!0,forceClass:re.BEATER},money777:{feedback:"  7,777,777 ",startGold:7777777,startLog:" 7,777,777 ",logType:"reward"},root:{feedback:" GM  100 ",unlockGMClass:!0,forceClass:re.KAYABA,startLevel:100,startGold:99999999,startPotions:50,startLog:"GM ",logType:"luckPositive"},cd100f:{feedback:"  100  BOSS ",startLevel:100,startFloor:100,startGold:6e10,startPotions:100,unlockGMClass:!0,startLog:"",logType:"item"}},jh={[re.KNIGHT]:{str:6,vit:8,agi:3,luk:3,int:2},[re.WARRIOR]:{str:8,vit:6,agi:4,luk:3,int:1},[re.ROGUE]:{str:4,vit:4,agi:9,luk:6,int:2},[re.ARCHER]:{str:5,vit:4,agi:8,luk:4,int:4},[re.MAGE]:{str:1,vit:3,agi:4,luk:4,int:10},[re.BEATER]:{str:10,vit:8,agi:10,luk:5,int:5},[re.KAYABA]:{str:99,vit:99,agi:99,luk:99,int:99}},fn={hp:100,maxHp:100,atk:10,matk:0,def:0,mdef:0,crit:5,critDamage:150,luck:10,dodge:5,hit:95,goldBonus:0},Ah={[T.HEAD]:null,[T.BODY]:null,[T.LEGS]:null,[T.HANDS]:null,[T.FEET]:null,[T.BACK]:null,[T.MAIN_HAND]:null,[T.OFF_HAND]:null,[T.ACCESSORY]:null,[T.ACCESSORY_2]:null},S0={[re.KNIGHT]:[oe.SWORD_1H,oe.SHIELD,oe.NONE],[re.WARRIOR]:[oe.SWORD_1H,oe.SWORD_2H,oe.AXE_1H,oe.AXE_2H,oe.SHIELD,oe.NONE],[re.ROGUE]:[oe.SWORD_1H,oe.DAGGER,oe.SHIELD,oe.NONE],[re.ARCHER]:[oe.BOW,oe.CROSSBOW,oe.NONE],[re.MAGE]:[oe.STAFF_1H,oe.STAFF_2H,oe.CATALYST,oe.SHIELD,oe.NONE],[re.BEATER]:[oe.SWORD_1H,oe.DAGGER,oe.NONE],[re.KAYABA]:Object.values(oe)},fs=c=>c===oe.SWORD_2H||c===oe.AXE_2H||c===oe.BOW||c===oe.CROSSBOW||c===oe.STAFF_2H,Eh=c=>c?c===oe.SWORD_1H||c===oe.DAGGER||c===oe.AXE_1H:!1,_h=c=>c===re.ROGUE||c===re.BEATER||c===re.KAYABA,N0={:{stats:{goldBonus:10}},:{stats:{crit:5,critDamage:10}},:{stats:{atk:5,matk:5,critDamage:5}},:{stats:{dodge:5,crit:5,critDamage:5}},:{stats:{hp:50,mdef:5,def:5}}},j0={:{type:"OFFENSIVE",main:"str",sub:"agi"},:{type:"OFFENSIVE",main:"str",sub:"vit"},:{type:"OFFENSIVE",main:"agi",sub:"luk"},:{type:"MAGIC",main:"int",sub:"luk"},:{type:"MAGIC",main:"int",sub:"agi"},:{type:"MAGIC",main:"int",sub:"vit"},:{type:"DEFENSIVE",main:"vit",sub:"str"},:{type:"DEFENSIVE",main:"vit",sub:"agi"},:{type:"DEFENSIVE",main:"luk",sub:"vit"}},Th={[T.HEAD]:["",""],[T.BODY]:["","",""],[T.LEGS]:["",""],[T.HANDS]:["",""],[T.FEET]:["",""],[T.BACK]:["",""],[T.MAIN_HAND]:["","","","","",""],[T.OFF_HAND]:["",""],[T.ACCESSORY]:["",""],[T.ACCESSORY_2]:["",""]},dr=(c,u,f,r=0,m)=>{let v=m&&m.length>0?m:u&&hs[u]?hs[u].dropSlots:Object.values(T).filter(V=>V!==T.ACCESSORY_2);const b=v[Math.floor(Math.random()*v.length)],R=Math.random()+r;let S=f||(R>.995?"":R>.95?"":R>.8?"":R>.5?"":""),y=S===""?7:S===""?4:S===""?2.5:S===""?1.5:1;const j=.9+Math.random()*.2,E=Th[b],B=E[Math.floor(Math.random()*E.length)];let G=oe.NONE;b===T.MAIN_HAND?B===""?G=oe.STAFF_2H:B===""?G=oe.STAFF_1H:B===""?G=oe.SWORD_1H:B===""?G=oe.SWORD_2H:B===""?G=oe.BOW:B===""?G=oe.DAGGER:G=oe.SWORD_1H:b===T.OFF_HAND&&(G=B===""?oe.CATALYST:oe.SHIELD);const ee=Object.keys(N0),Y=ee[Math.floor(Math.random()*ee.length)],le=N0[Y],se=Object.keys(j0),W=se[Math.floor(Math.random()*se.length)],Q=j0[W],te={...le.stats},ue=Math.pow(mn,c-1);te.hp&&(te.hp=Math.floor(te.hp*ue*j)),te.def&&(te.def=Math.floor(te.def*ue*j)),te.mdef&&(te.mdef=Math.floor(te.mdef*ue*j)),te.atk&&(te.atk=Math.floor(te.atk*ue*j)),te.matk&&(te.matk=Math.floor(te.matk*ue*j));const de=Math.floor((5+c)*y*j),A={[Q.main]:Math.floor(de*.7),[Q.sub]:Math.floor(de*.3)},H={},D=20*ue*y*j;b===T.MAIN_HAND?G===oe.STAFF_1H||G===oe.STAFF_2H||G===oe.CATALYST?H.matk=Math.floor(D):H.atk=Math.floor(D):b===T.BODY?(H.def=Math.floor(D*.4),H.mdef=Math.floor(D*.4),H.hp=Math.floor(D*5)):b===T.OFF_HAND?G===oe.SHIELD?(H.def=Math.floor(D*.5),H.hp=Math.floor(D*2)):(H.matk=Math.floor(D*.5),H.mdef=Math.floor(D*.3)):(H.def=Math.floor(D*.2),H.mdef=Math.floor(D*.2),H.hp=Math.floor(D*2));const J={...te};return Object.entries(H).forEach(([V,ie])=>{J[V]=(J[V]||0)+(ie||0)}),{id:Math.random().toString(36).substr(2,9),name:`${Y}${W}${B}`,type:b===T.MAIN_HAND||b===T.OFF_HAND?Cl.WEAPON:Cl.ARMOR,slot:b,weaponType:G,stats:J,attributes:A,prefixStats:te,affixAttributes:A,baseStats:H,level:c,rarity:S}},wh=c=>{const u=[];let f="",r=oe.SWORD_1H,m={atk:15},v={str:2};c===re.MAGE?(f="",r=oe.STAFF_1H,m={matk:12},v={int:2}):c===re.ARCHER?(f="",r=oe.BOW,m={atk:14},v={agi:2}):c===re.ROGUE?(f="",r=oe.DAGGER,m={atk:12},v={agi:2}):(c===re.BEATER||c===re.KAYABA)&&(f="",r=oe.DAGGER,m={atk:20},v={str:2,agi:2});const b={id:`s_wpn_${Math.random().toString(36).substr(2,4)}`,name:f,type:Cl.WEAPON,slot:T.MAIN_HAND,weaponType:r,stats:m,attributes:v,baseStats:m,affixAttributes:v,level:1,rarity:""},R=c===re.MAGE,S={id:`s_body_${Math.random().toString(36).substr(2,4)}`,name:R?"":"",type:Cl.ARMOR,slot:T.BODY,stats:{def:5,mdef:5,hp:30},attributes:{vit:1},baseStats:{def:5,mdef:5,hp:30},affixAttributes:{vit:1},level:1,rarity:""},y={id:`s_legs_${Math.random().toString(36).substr(2,4)}`,name:R?"":"",type:Cl.ARMOR,slot:T.LEGS,stats:{def:3,mdef:3,hp:15},attributes:{vit:1},baseStats:{def:3,mdef:3,hp:15},affixAttributes:{vit:1},level:1,rarity:""},j={id:`s_feet_${Math.random().toString(36).substr(2,4)}`,name:R?"":"",type:Cl.ARMOR,slot:T.FEET,stats:{def:2,mdef:2,hp:10},attributes:{agi:1},baseStats:{def:2,mdef:2,hp:10},affixAttributes:{agi:1},level:1,rarity:""};return u.push(b,S,y,j),u},Mh=(c,u)=>null,A0={hp:"",maxHp:"",atk:"",matk:"",def:"",mdef:"",crit:"",critDamage:"",luck:"",dodge:"",hit:"",goldBonus:""},Ch={str:"",vit:"",agi:"",int:"",luk:""},Oh={[T.HEAD]:"",[T.BODY]:"",[T.LEGS]:"",[T.HANDS]:"",[T.FEET]:"",[T.BACK]:"",[T.MAIN_HAND]:"",[T.OFF_HAND]:"",[T.ACCESSORY]:"",[T.ACCESSORY_2]:""},fr=w.createContext(null),pn=()=>{const c=w.useContext(fr);if(!c)throw new Error("useTooltip error");return c},E0=({item:c,isEquipped:u,playerClass:f})=>{const r={:{text:"text-red-500",border:"border-red-600",bg:"bg-red-950/20",glow:"shadow-[0_0_20px_rgba(220,38,38,0.3)]",label:"Mythic"},:{text:"text-amber-400",border:"border-amber-600",bg:"bg-amber-900/20",glow:"shadow-[0_0_20px_rgba(251,191,36,0.2)]",label:"Legendary"},:{text:"text-purple-400",border:"border-purple-600",bg:"bg-purple-900/10",glow:"shadow-[0_0_15px_rgba(168,85,247,0.15)]",label:"Rare"},:{text:"text-blue-400",border:"border-blue-600",bg:"bg-blue-900/10",glow:"",label:"Uncommon"},:{text:"text-stone-300",border:"border-stone-700",bg:"bg-stone-900/20",glow:"",label:"Common"}}[c.rarity],m=Object.entries(c.prefixStats||{}).filter(([j,E])=>typeof E=="number"&&E!==0),v=Object.entries(c.affixAttributes||{}).filter(([j,E])=>typeof E=="number"&&E!==0),b=Object.entries(c.baseStats||{}).filter(([j,E])=>typeof E=="number"&&E!==0),R=Oh[c.slot]||c.slot,S=fs(c.weaponType),y=c.weaponType&&c.weaponType!==oe.NONE?`${R}  ${c.weaponType}${S?" ()":""}`:R;return s.jsxs("div",{className:`w-72 md:w-80 bg-stone-950/95 backdrop-blur-xl border rounded-lg p-0 shadow-2xl overflow-hidden animate-fade-in flex-shrink-0 ${r.border} ${r.glow}`,children:[u&&s.jsx("div",{className:"bg-white text-red-600 text-[9px] py-1 text-center font-black tracking-[0.3em] border-b border-stone-200 uppercase",children:""}),s.jsxs("div",{className:`p-4 ${r.bg} relative overflow-hidden`,children:[s.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 font-black italic text-4xl select-none pointer-events-none uppercase",children:r.label}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${S?"text-amber-500":"text-stone-500"}`,children:y}),s.jsxs("span",{className:"text-[10px] font-mono text-stone-500",children:["Lv.",c.level]})]}),s.jsx("h3",{className:`text-xl md:text-2xl font-fantasy font-black tracking-tight leading-tight ${r.text}`,children:c.name})]})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[b.length>0&&s.jsx("div",{className:"grid grid-cols-1 gap-1",children:b.map(([j,E])=>s.jsxs("div",{className:"flex justify-between items-center bg-stone-900/30 px-2 py-1.5 rounded border border-stone-800/50",children:[s.jsx("span",{className:"text-stone-500 text-xs font-bold uppercase tracking-wider",children:A0[j]||j}),s.jsxs("span",{className:"text-stone-200 font-mono font-black text-sm",children:["+",E]})]},j))}),v.length>0&&s.jsxs("div",{className:"space-y-1.5 pt-2 border-t border-stone-800",children:[s.jsxs("p",{className:"text-[9px] text-blue-500 font-black uppercase tracking-[0.2em] mb-2 flex items-center gap-2",children:[" ",s.jsx("span",{className:"h-px flex-1 bg-blue-900/30"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:v.map(([j,E])=>s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-stone-500 font-serif",children:Ch[j]||j}),s.jsxs("span",{className:"text-blue-400 font-bold font-mono",children:["+",E]})]},j))})]}),m.length>0&&s.jsxs("div",{className:"space-y-1.5 pt-2 border-t border-stone-800",children:[s.jsxs("p",{className:"text-[9px] text-amber-500 font-black uppercase tracking-[0.2em] mb-2 flex items-center gap-2",children:[" ",s.jsx("span",{className:"h-px flex-1 bg-amber-900/30"})]}),s.jsx("div",{className:"space-y-1",children:m.map(([j,E])=>s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-stone-400 italic font-serif",children:A0[j]||j}),s.jsxs("span",{className:"text-amber-200 font-bold font-mono",children:["+",E,j.includes("crit")||j==="goldBonus"||j==="dodge"||j==="hit"?"%":""]})]},j))})]})]}),s.jsxs("div",{className:"px-4 py-2 bg-stone-900/50 border-t border-stone-800 flex justify-between items-center",children:[s.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest ${r.text}`,children:c.rarity}),s.jsxs("span",{className:"text-[9px] text-stone-600 font-mono",children:["ID: ",c.id.slice(0,8)]})]})]})},kh=({title:c,content:u})=>s.jsxs("div",{className:"w-64 md:w-72 bg-stone-950 border border-stone-700 rounded-lg p-4 shadow-2xl text-stone-200 animate-fade-in ring-1 ring-white/10",children:[s.jsx("p",{className:"font-fantasy font-black text-lg text-amber-500 border-b border-stone-800 pb-2 mb-3 tracking-widest uppercase",children:c}),s.jsx("div",{className:"text-xs md:text-sm text-stone-400 font-serif leading-relaxed",children:u})]}),Rh=({children:c})=>{const[u,f]=w.useState(null),[r,m]=w.useState(null),[v,b]=w.useState(null),[R,S]=w.useState({x:0,y:0}),y=w.useRef(null),j=w.useCallback((le,se,W,Q)=>{y.current&&clearTimeout(y.current),f(le),m(Q||null),b(null),S({x:se,y:W})},[]),E=w.useCallback((le,se,W,Q)=>{y.current&&clearTimeout(y.current),b({title:le,content:se}),f(null),m(null),S({x:W,y:Q})},[]),B=w.useCallback(()=>{y.current=window.setTimeout(()=>{f(null),m(null),b(null)},10)},[]),G=R.x>window.innerWidth/2,ee=R.y>window.innerHeight/2,Y={position:"fixed",zIndex:9999,top:R.y,left:R.x,pointerEvents:"none",transform:`translate(${G?"-105%":"15px"}, ${ee?"-100%":"15px"})`,transition:"top 0.05s linear, left 0.05s linear"};return s.jsxs(fr.Provider,{value:{showTooltip:j,showGenericTooltip:E,hideTooltip:B},children:[c,(u||v)&&s.jsx("div",{className:"fixed",style:Y,children:v?s.jsx(kh,{title:v.title,content:v.content}):s.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-4",children:[s.jsx(E0,{item:u}),r&&s.jsx("div",{className:"opacity-90 scale-95 origin-top md:origin-left",children:s.jsx(E0,{item:r,isEquipped:!0})})]})})]})},_0=({item:c,compareItem:u,children:f})=>{const r=w.useContext(fr);return r?s.jsx("div",{className:"w-full h-full",onMouseMove:m=>c&&r.showTooltip(c,m.clientX,m.clientY,u),onMouseLeave:r.hideTooltip,children:f}):s.jsx(s.Fragment,{children:f})},Y0={[re.KNIGHT]:[{name:"",type:"damage",damageType:"physical",unlockLevel:25,triggerChance:.05,power:5,hits:3,description:"[]  30% ",lifesteal:.3},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.5,duration:5,targetStat:"all_defense",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:1.2,duration:3,targetStat:"dodge",description:"[BUFF] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.7,duration:4,targetStat:"all_attack",description:"[Debuff] "},{name:"",type:"stun",unlockLevel:15,triggerChance:.125,power:0,duration:1,targetStat:"stun",description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:.15,power:1.5,hits:1,description:"[]  STR "},{name:"",type:"damage",damageType:"physical",unlockLevel:3,triggerChance:.15,power:1.2,hits:1,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:10,triggerChance:.15,power:1.3,hits:1,description:"[] "}],[re.WARRIOR]:[{name:"",type:"damage",damageType:"physical",unlockLevel:25,triggerChance:.05,power:3,hits:5,description:"[]  STR "},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.4,duration:3,targetStat:"atk",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:1.5,duration:4,targetStat:"critDamage",description:"[BUFF] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.6,duration:5,targetStat:"def",description:"[Debuff] "},{name:"",type:"debuff",unlockLevel:15,triggerChance:.125,power:.7,duration:3,targetStat:"dodge",description:"[Debuff] "},{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:.15,power:1.8,hits:1,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:3,triggerChance:.15,power:1.1,hits:2,description:"[] ",lifesteal:.2},{name:"",type:"damage",damageType:"physical",unlockLevel:10,triggerChance:.15,power:.8,hits:3,description:"[] "}],[re.ROGUE]:[{name:"",type:"damage",damageType:"physical",unlockLevel:25,triggerChance:.05,power:1.5,hits:10,description:"[]  STR ",guaranteedCrit:!0},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.5,duration:3,targetStat:"dodge",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:1.25,duration:5,targetStat:"crit",description:"[BUFF] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.7,duration:3,targetStat:"hit",description:"[Debuff] "},{name:"",type:"dot",unlockLevel:15,triggerChance:.125,power:.5,duration:5,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:.15,power:2,hits:1,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:3,triggerChance:.15,power:2.5,hits:1,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:10,triggerChance:.15,power:.7,hits:4,description:"[] "}],[re.ARCHER]:[{name:"",type:"damage",damageType:"physical",unlockLevel:25,triggerChance:.05,power:5,hits:3,description:"[] STR "},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.5,duration:5,targetStat:"hit",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:1.4,duration:4,targetStat:"agi",description:"[BUFF] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.5,duration:3,targetStat:"dodge",description:"[Debuff] "},{name:"",type:"debuff",unlockLevel:15,triggerChance:.125,power:.5,duration:4,targetStat:"matk",description:"[Debuff] "},{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:.15,power:1.9,hits:1,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:3,triggerChance:.15,power:1.2,hits:2,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:10,triggerChance:.15,power:.6,hits:5,description:"[] "}],[re.MAGE]:[{name:"",type:"damage",damageType:"magic",unlockLevel:25,triggerChance:.05,power:1,hits:15,description:"[]  INT "},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.6,duration:3,targetStat:"matk",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:2,duration:4,targetStat:"mdef",description:"[BUFF] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.5,duration:5,targetStat:"mdef",description:"[Debuff] "},{name:"",type:"stun",unlockLevel:15,triggerChance:.125,power:0,duration:1,targetStat:"stun",description:"[] "},{name:"",type:"damage",damageType:"magic",unlockLevel:1,triggerChance:.15,power:2.2,hits:1,description:"[]  INT "},{name:"",type:"damage",damageType:"magic",unlockLevel:3,triggerChance:.15,power:.8,hits:4,description:"[] "},{name:"",type:"damage",damageType:"magic",unlockLevel:10,triggerChance:.15,power:1.5,hits:1,description:"[] "}],[re.BEATER]:[{name:"",type:"damage",damageType:"physical",unlockLevel:25,triggerChance:.05,power:1.2,hits:16,description:"[]  STR "},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.3,duration:3,targetStat:"all_attack",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:1.2,duration:3,targetStat:"crit",description:"[BUFF] "},{name:"",type:"stun",unlockLevel:15,triggerChance:.125,power:0,duration:1,targetStat:"stun",description:"[] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.8,duration:4,targetStat:"all_defense",description:"[Debuff] "},{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:.15,power:1.4,hits:4,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:3,triggerChance:.15,power:2.2,hits:2,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:10,triggerChance:.15,power:3,hits:1,description:"[] "}],[re.KAYABA]:[{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:1,power:1.2,hits:16,description:"[] 100% "}]},Dh={heavy_slam:{name:"",type:"damage",damageType:"physical",power:1.5,hits:1,unlockLevel:0,triggerChance:0,description:""},fire_breath:{name:"",type:"damage",damageType:"magic",power:2,hits:1,unlockLevel:0,triggerChance:0,description:""},dark_void:{name:"",type:"damage",damageType:"magic",power:2.5,hits:1,unlockLevel:0,triggerChance:0,description:""},world_end:{name:"",type:"damage",damageType:"magic",power:10,hits:1,unlockLevel:0,triggerChance:0,description:""},admin_nerf:{name:"",type:"debuff",unlockLevel:0,triggerChance:0,power:.5,duration:99,targetStat:"all",description:""},slime_regenerate:{name:"",type:"heal",unlockLevel:0,triggerChance:0,power:.2,description:""},poison_cloud:{name:"",type:"dot",unlockLevel:0,triggerChance:0,power:.3,duration:3,description:""},stone_skin:{name:"",type:"buff",unlockLevel:0,triggerChance:0,power:2,duration:5,targetStat:"def",description:""},thunder_clap:{name:"",type:"damage",damageType:"magic",power:1.8,hits:3,unlockLevel:0,triggerChance:0,description:""},execute:{name:"",type:"damage",damageType:"physical",power:5,hits:1,unlockLevel:0,triggerChance:0,description:""},god_heal:{name:"",type:"heal",unlockLevel:0,triggerChance:0,power:.5,description:""},time_stop:{name:"",type:"debuff",unlockLevel:0,triggerChance:0,power:0,duration:3,targetStat:"agi",description:""}},Di=["","","","","","","","","",""],We=[{type:"random",chance:.3}],zi=[{type:"random",chance:.15}],wl=[{type:"random",chance:.5}],zh=[{type:"random",chance:1},{type:"random",chance:.5}],Ye=c=>c.map(u=>Dh[u]).filter(u=>!!u),Hh={[ge.PLAINS]:[{name:"",loot:We,goldMin:2,goldMax:5,skills:[],skillChanceNormal:0,skillChanceEnrage:.1},{name:"",loot:We,goldMin:5,goldMax:10,skills:Ye(["heavy_slam"]),skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:We,goldMin:8,goldMax:15,skills:[],skillChanceNormal:0,skillChanceEnrage:0},{name:"",loot:zi,goldMin:3,goldMax:6,skills:[],skillChanceNormal:0,skillChanceEnrage:0},{name:"",loot:We,goldMin:10,goldMax:18,skills:Ye(["heavy_slam"]),skillChanceNormal:.1,skillChanceEnrage:.3},{name:"",loot:zi,goldMin:5,goldMax:12,skills:Ye(["poison_cloud"]),skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:wl,goldMin:20,goldMax:35,skills:Ye(["heavy_slam"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:We,goldMin:15,goldMax:25,skills:[],skillChanceNormal:0,skillChanceEnrage:0}],[ge.FOREST]:[{name:"",loot:We,goldMin:25,goldMax:45,skills:Ye(["heavy_slam","stone_skin"]),skillChanceNormal:.15,skillChanceEnrage:.3},{name:"",loot:We,goldMin:20,goldMax:35,skills:Ye(["poison_cloud"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:We,goldMin:30,goldMax:50,skills:Ye(["stone_skin","slime_regenerate"]),skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:[{type:"random",chance:.4}],goldMin:40,goldMax:80,skills:[],skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:wl,goldMin:50,goldMax:100,skills:Ye(["fire_breath"]),skillChanceNormal:.3,skillChanceEnrage:.5},{name:"",loot:We,goldMin:35,goldMax:60,skills:Ye(["poison_cloud"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:We,goldMin:40,goldMax:70,skills:[],skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:wl,goldMin:60,goldMax:120,skills:Ye(["fire_breath","heavy_slam"]),skillChanceNormal:.25,skillChanceEnrage:.4}],[ge.DESERT]:[{name:"",loot:We,goldMin:35,goldMax:60,skills:Ye(["poison_cloud"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:zi,goldMin:30,goldMax:50,skills:[],skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:We,goldMin:40,goldMax:70,skills:Ye(["stone_skin"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:wl,goldMin:80,goldMax:150,skills:Ye(["heavy_slam"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:[{type:"random",chance:.4}],goldMin:50,goldMax:90,skills:[],skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:We,goldMin:60,goldMax:100,skills:Ye(["dark_void"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:wl,goldMin:150,goldMax:300,skills:Ye(["thunder_clap"]),skillChanceNormal:.3,skillChanceEnrage:.5},{name:"",loot:We,goldMin:70,goldMax:120,skills:Ye(["execute"]),skillChanceNormal:.1,skillChanceEnrage:.3}],[ge.CAVE]:[{name:"",loot:zi,goldMin:30,goldMax:50,skills:[],skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:We,goldMin:60,goldMax:100,skills:Ye(["stone_skin","heavy_slam"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:We,goldMin:40,goldMax:70,skills:[],skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:We,goldMin:35,goldMax:60,skills:Ye(["heavy_slam"]),skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:wl,goldMin:100,goldMax:200,skills:Ye(["slime_regenerate","heavy_slam"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:We,goldMin:50,goldMax:90,skills:Ye(["dark_void"]),skillChanceNormal:.25,skillChanceEnrage:.4},{name:"",loot:wl,goldMin:80,goldMax:150,skills:Ye(["heavy_slam"]),skillChanceNormal:.25,skillChanceEnrage:.4},{name:"",loot:We,goldMin:45,goldMax:80,skills:Ye(["poison_cloud"]),skillChanceNormal:.2,skillChanceEnrage:.3}],[ge.TOWER]:[{name:"",loot:We,goldMin:50,goldMax:100,skills:Ye(["heavy_slam"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:We,goldMin:80,goldMax:150,skills:Ye(["fire_breath"]),skillChanceNormal:.25,skillChanceEnrage:.4},{name:"",loot:We,goldMin:70,goldMax:130,skills:Ye(["stone_skin","thunder_clap"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:We,goldMin:60,goldMax:110,skills:Ye(["dark_void"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:wl,goldMin:100,goldMax:200,skills:Ye(["dark_void","execute"]),skillChanceNormal:.3,skillChanceEnrage:.5},{name:"",loot:We,goldMin:90,goldMax:160,skills:Ye(["stone_skin","heavy_slam"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:wl,goldMin:120,goldMax:250,skills:Ye(["fire_breath","thunder_clap","poison_cloud"]),skillChanceNormal:.3,skillChanceEnrage:.5}]},Bh={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:" ()",9:" ()",10:"",11:"",12:"",13:"",14:"",15:"",16:"",17:"",18:"",19:" Pudge",20:"",21:"",22:"",23:"",24:"",25:"",26:"",27:"",28:"",29:"",30:"",31:"",32:"",33:"",34:"",35:"",36:"",37:"",38:"",39:"",40:"",41:"",42:"",43:"",44:"",45:"",46:"",47:"",48:"",49:"",50:"",51:"",52:"",53:"",54:"",55:"",56:"",57:"",58:"",59:"",60:"",61:"",62:"",63:"",64:"",65:"",66:"",67:"",68:"",69:"",70:"",71:"",72:"",73:"",74:"The Gleam Eyes",75:"",76:"",77:"",78:"",79:" ()",80:" (Beru)",81:"",82:"",83:"",84:"",85:"",86:"",87:"",88:"",89:"",90:"",91:"",92:"",93:"",94:"",95:"",96:"",97:"",98:" ()",99:"",100:"The Admin"},Uh={1:"",2:"... ",10:"...",13:"...",20:"",29:"",30:"... ...",35:"",50:"... ",53:"",60:"",65:"... ",69:"",74:"",75:"",79:"",80:"... ",89:"",90:"Ex...calibur",95:"... ",98:"... ",99:"... ",100:"... "},Gh=()=>{const c={};for(let u=1;u<=100;u++){const f=[...zh];u===10&&f.push({type:"unique",chance:.5,uniqueId:"slime_crown"}),u===20&&f.push({type:"unique",chance:.5,uniqueId:"goblin_club"}),u===50&&f.push({type:"unique",chance:.4,uniqueId:"berserk_armor"}),u===60&&f.push({type:"unique",chance:.3,uniqueId:"frostmourne"}),u===74&&f.push({type:"unique",chance:.2,uniqueId:"elucidator"}),u===75&&f.push({type:"unique",chance:1,uniqueId:"admin_shield"}),u===90&&f.push({type:"unique",chance:.3,uniqueId:"excalibur"}),u===99&&f.push({type:"unique",chance:.5,uniqueId:"ring_of_power"});let r=Uh[u];r||(u<20?r="... ":u<50?r="... ":u<80?r="... ":r="... ");let m=["heavy_slam"];u>20&&m.push("poison_cloud"),u>30&&m.push("stone_skin"),u>40&&m.push("fire_breath"),u>50&&m.push("thunder_clap"),u>70&&m.push("execute"),u>90&&m.push("time_stop","god_heal"),m.length>4&&(m=m.slice(m.length-4)),u===1&&(m=["slime_regenerate"]),u===10&&(m=["slime_regenerate","heavy_slam"]),u===13&&(m=["execute"]),u===35&&(m=["fire_breath","stone_skin"]),u===50&&(m=["heavy_slam","stone_skin","execute"]),u===75&&(m=["god_heal","heavy_slam","stone_skin"]),u===100&&(m=["admin_nerf","world_end","time_stop","god_heal"]),c[u]={name:Bh[u]||` Mk-${u}`,loot:f,goldMin:50+u*100,goldMax:100+u*200,description:r,skills:Ye(m),skillChanceNormal:.15,skillChanceEnrage:.2}}return c},T0=Gh(),Lh=(c,u)=>{if(c===ge.TOWER&&u&&T0[u])return T0[u];const f=Hh[c],r=f[Math.floor(Math.random()*f.length)];if(c===ge.TOWER){const v=Di[Math.floor(Math.random()*Di.length)];return{...r,name:`${v} ${r.name}`,description:`${v}`}}const m=Di[Math.floor(Math.random()*Di.length)];return{...r,name:`${m}${r.name}`}},sr={soulShards:0,totalSoulShardsEarned:0,totalRuns:0,upgrades:{},achievements:{},selectedTitleId:null,lastCheckInTimestamp:null,lifetimeStats:{maxFloor:1,maxLevel:1,totalKills:0,maxGold:0}},aa=[{id:"legacy_hp",name:"",description:"",maxLevel:20,costBase:50,costMult:1.4,effectType:"percent",effectTarget:"maxHp",effectValue:.025},{id:"legacy_atk",name:"",description:"",maxLevel:20,costBase:50,costMult:1.4,effectType:"percent",effectTarget:"atk",effectValue:.025},{id:"legacy_gold",name:"",description:"",maxLevel:20,costBase:80,costMult:1.5,effectType:"percent",effectTarget:"gold",effectValue:.025},{id:"legacy_exp",name:"",description:"",maxLevel:20,costBase:80,costMult:1.5,effectType:"percent",effectTarget:"exp",effectValue:.025},{id:"legacy_start_gold",name:"",description:"",maxLevel:20,costBase:40,costMult:1.3,effectType:"flat",effectTarget:"startGold",effectValue:500},{id:"legacy_start_potions",name:"",description:"",maxLevel:20,costBase:60,costMult:1.35,effectType:"flat",effectTarget:"startPotions",effectValue:3}],Yh=(c,u)=>{const f=aa.find(r=>r.id===c);return f?Math.floor(f.costBase*Math.pow(f.costMult,u)):0},Vh={:"text-stone-400",:"text-blue-400",:"text-purple-400",:"text-amber-400",:"text-red-500"},xn=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2,11)+Date.now().toString(36),qh=(c,u,f,r)=>{var le,se;const m=ur[f],v=m&&m.forceClass?m.forceClass:u,b=(r.upgrades.legacy_start_gold||0)*(((le=aa.find(W=>W.id==="legacy_start_gold"))==null?void 0:le.effectValue)||0),R=(r.upgrades.legacy_start_potions||0)*(((se=aa.find(W=>W.id==="legacy_start_potions"))==null?void 0:se.effectValue)||0),S=((m==null?void 0:m.startGold)??y0.GOLD)+b,y=((m==null?void 0:m.startPotions)??y0.POTIONS)+R,j=(m==null?void 0:m.startLevel)??1,E=(m==null?void 0:m.startFloor)??1,B=wh(v),G={...Ah};B.forEach(W=>{G[W.slot]===null&&(G[W.slot]=W)});const ee={name:c,classType:v,level:j,exp:0,maxExp:ps(j),gold:S,attributes:{...jh[v]},statPoints:(j-1)*5,equipment:G,inventory:[],towerFloor:E,isDead:!1,activeEffects:[],consumables:{healthPotion:{count:y,autoUse:!0,threshold:30},inventory:{potion_str:0,potion_vit:0,potion_agi:0,potion_int:0,potion_luk:0}},skipBossWarning:!1,lastRestTime:0,workStatus:null,soulBonus:0,stats:{...fn}},{stats:Y}=yt(ee,r);return ee.stats={...Y,hp:Y.maxHp},ee},ir=c=>{let u=50;u+=Math.floor(Math.pow(1.1,c.level)*10);let f=1;switch(c.rarity){case"":f=1;break;case"":f=3;break;case"":f=8;break;case"":f=25;break;case"":f=100;break}return c.type==="weapon"&&(f*=1.2),Math.floor(u*f)},yt=(c,u)=>{var ce,I,ae;const{attributes:f,equipment:r,level:m,activeEffects:v}=c;let b=f.str,R=f.vit||0,S=f.agi,y=f.luk,j=f.int;Object.values(r).forEach(h=>{h&&h.attributes&&(h.attributes.str&&(b+=h.attributes.str),h.attributes.vit&&(R+=h.attributes.vit),h.attributes.agi&&(S+=h.attributes.agi),h.attributes.luk&&(y+=h.attributes.luk),h.attributes.int&&(j+=h.attributes.int))});let E=b,B=R,G=S,ee=j,Y=y;v.forEach(h=>{h.type==="buff"&&h.valueType==="flat"&&(h.targetStat==="str"&&(E+=h.power),h.targetStat==="vit"&&(B+=h.power),h.targetStat==="agi"&&(G+=h.power),h.targetStat==="int"&&(ee+=h.power),h.targetStat==="luk"&&(Y+=h.power))}),v.forEach(h=>{h.type==="buff"&&h.valueType==="percent"&&(h.targetStat==="str"&&(E*=h.power),h.targetStat==="vit"&&(B*=h.power),h.targetStat==="agi"&&(G*=h.power),h.targetStat==="int"&&(ee*=h.power),h.targetStat==="luk"&&(Y*=h.power))});const le=Math.pow(mn,m-1);let se=Pe.BASE_VALS.HP*le+B*Pe.ATTRIBUTE_SCALING.VIT_TO_HP,W=Pe.BASE_VALS.ATK*le+E*Pe.ATTRIBUTE_SCALING.STR_TO_ATK,Q=Pe.BASE_VALS.MATK*le+ee*Pe.ATTRIBUTE_SCALING.INT_TO_MATK,te=Pe.BASE_VALS.DEF*le+B*Pe.ATTRIBUTE_SCALING.VIT_TO_DEF,ue=Pe.BASE_VALS.MDEF*le+B*Pe.ATTRIBUTE_SCALING.VIT_TO_MDEF,de=fn.crit+G*Pe.ATTRIBUTE_SCALING.AGI_TO_CRIT,A=fn.dodge+G*Pe.ATTRIBUTE_SCALING.AGI_TO_DODGE,H=fn.hit+G*Pe.ATTRIBUTE_SCALING.AGI_TO_HIT,D=fn.luck+Y*1,J=fn.critDamage,V=0;if(Object.values(r).forEach(h=>{h&&(h.stats.hp&&(se+=h.stats.hp),h.stats.atk&&(W+=h.stats.atk),h.stats.matk&&(Q+=h.stats.matk),h.stats.def&&(te+=h.stats.def),h.stats.mdef&&(ue+=h.stats.mdef),h.stats.crit&&(de+=h.stats.crit),h.stats.critDamage&&(J+=h.stats.critDamage),h.stats.dodge&&(A+=h.stats.dodge),h.stats.luck&&(D+=h.stats.luck),h.stats.hit&&(H+=h.stats.hit),h.stats.goldBonus&&(V+=h.stats.goldBonus))}),u){const _=(u.upgrades.legacy_hp||0)*(((ce=aa.find(k=>k.id==="legacy_hp"))==null?void 0:ce.effectValue)||0);se*=1+_;const P=(u.upgrades.legacy_atk||0)*(((I=aa.find(k=>k.id==="legacy_atk"))==null?void 0:I.effectValue)||0);W*=1+P,Q*=1+P;const x=(u.upgrades.legacy_gold||0)*(((ae=aa.find(k=>k.id==="legacy_gold"))==null?void 0:ae.effectValue)||0);V+=x*100}v.forEach(h=>{if(h.type==="buff"||h.type==="debuff"){const _=h.power;(h.targetStat==="atk"||h.targetStat==="all_attack")&&(W*=_),(h.targetStat==="matk"||h.targetStat==="all_attack")&&(Q*=_),(h.targetStat==="def"||h.targetStat==="all_defense")&&(te*=_),(h.targetStat==="mdef"||h.targetStat==="all_defense")&&(ue*=_),h.targetStat==="dodge"&&(A*=_),h.targetStat==="hit"&&(H*=_),h.targetStat==="crit"&&(de*=_),h.targetStat==="critDamage"&&(J*=_),h.targetStat==="all"&&(W*=_,Q*=_,te*=_,ue*=_,se*=_)}});const ie=Math.floor(se);return{stats:{hp:Math.min(c.stats.hp,ie),maxHp:ie,atk:Math.floor(W),matk:Math.floor(Q),def:Math.floor(te),mdef:Math.floor(ue),crit:Math.min(100,Math.floor(de)),critDamage:Math.floor(J),dodge:Math.min(75,Math.floor(A)),hit:Math.min(100,Math.floor(H)),luck:Math.floor(D),goldBonus:Math.floor(V)},finalAttributes:{str:Math.floor(E),vit:Math.floor(B),agi:Math.floor(G),int:Math.floor(ee),luk:Math.floor(Y)},rawAttributes:{str:Math.floor(b),vit:Math.floor(R),agi:Math.floor(S),int:Math.floor(j),luk:Math.floor(y)}}},w0=c=>{let{atk:u,matk:f,def:r,mdef:m,dodge:v,hit:b,crit:R,critDamage:S,hp:y,maxHp:j,luck:E}=c.stats;return c.activeEffects.forEach(B=>{if(B.type==="debuff"||B.type==="buff"){const G=B.power;(B.targetStat==="atk"||B.targetStat==="all_attack")&&(u*=G),(B.targetStat==="matk"||B.targetStat==="all_attack")&&(f*=G),(B.targetStat==="def"||B.targetStat==="all_defense")&&(r*=G),(B.targetStat==="mdef"||B.targetStat==="all_defense")&&(m*=G),B.targetStat==="dodge"&&(v*=G),B.targetStat==="hit"&&(b*=G),B.targetStat==="all"&&(u*=G,f*=G,r*=G,m*=G)}}),{hp:y,maxHp:j,luck:E,crit:R,critDamage:S,dodge:v,hit:b,atk:Math.floor(u),matk:Math.floor(f),def:Math.floor(r),mdef:Math.floor(m)}},Xh=(c,u,f)=>{let r=u;const m=hs[c];f?r=f:m&&(r=Math.max(u,m.minLevel)+Math.floor(Math.random()*(m.levelFluctuation+1))),r=Math.min(100,Math.max(1,r));const v=c===ge.TOWER,b=Lh(c,r),R=Math.pow(mn,r-1);if(v){let se=1,W=7.5,Q=9;r<=20?(se=1,W=7.5,Q=9):r<=40?(se=1.5,W=6.5,Q=11):r<=60?(se=2.5,W=5.5,Q=13):r<=80?(se=4,W=4.5,Q=15):r<100?(se=7,W=3.5,Q=17):(se=7,W=2+Math.random()*2,Q=10+Math.random()*10);const te=400*R*se,ue=100*R+r*2*10+te,de=15*R+r*3*2+30*R*se,A=.65,H=.5,D=Math.floor(ue/(W*A)),J=Math.floor(de*Q*H),V=Math.floor(Pe.BASE_VALS.DEF*R*1.5);return{name:b.name,level:r,isBoss:!0,lootTable:b.loot,goldReward:Math.floor(10*R*Pe.BOSS_MULTIPLIERS.GOLD),description:b.description,stats:{hp:J,maxHp:J,atk:D,matk:Math.floor(D*.9),def:V,mdef:V,crit:5+Math.floor(r/8)+10,critDamage:150+r/2,luck:r*2,dodge:10+r/10,hit:95+r/20},activeEffects:[],skills:b.skills||[],skillChanceNormal:b.skillChanceNormal??.15,skillChanceEnrage:b.skillChanceEnrage??.25}}const S=Pe.BASE_VALS.HP*R+r*5*Pe.ATTRIBUTE_SCALING.VIT_TO_HP,y=(r-1)/99,j=ms.SURVIVAL_TURNS.START-y*(ms.SURVIVAL_TURNS.START-ms.SURVIVAL_TURNS.END),E=S/j*1.2;let B=Math.floor(S*.7),G=Math.floor(E),ee=Math.floor(E*.8),Y=Math.floor(Pe.BASE_VALS.DEF*R),le=Math.floor(Pe.BASE_VALS.MDEF*R);return{name:b.name,level:r,isBoss:!1,lootTable:b.loot,goldReward:Math.floor(10*R),description:b.description,stats:{hp:B,maxHp:B,atk:G,matk:ee,def:Y,mdef:le,crit:5+Math.floor(r/15),critDamage:150,luck:Math.floor(r*.5),dodge:5,hit:95},activeEffects:[],skills:b.skills||[],skillChanceNormal:b.skillChanceNormal??.1,skillChanceEnrage:b.skillChanceEnrage??.2}},V0=c=>{const u=(c.towerFloor-1)*20,f=c.level*10,r=Math.floor(c.gold/500),m=c.soulBonus||0;return u+f+r+m},M0="https://script.google.com/macros/s/AKfycbzXofZeRg2WQtkjs61XL1-HTXUiN1aiOst1mtx9h0HsTweyo_eM7WF_kYQ_RgKgBQCx/exec",hn={fetchGlobalStats:async()=>{try{const c=await fetch(M0);if(!c.ok)throw new Error("Network response was not ok");return await c.json()}catch(c){return console.warn("Failed to fetch global stats:",c),null}},reportAction:async c=>{try{await fetch(M0,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(c)})}catch(u){console.warn("Failed to report game action:",u)}}},xs=[{id:"floor_10",title:"",description:" 10 ",type:"floor",rarity:"",targetValue:10,rewardShards:100},{id:"floor_50",title:"",description:" 50 ",type:"floor",rarity:"",targetValue:50,rewardShards:500},{id:"floor_100",title:"",description:" 100 ",type:"floor",rarity:"",targetValue:100,rewardShards:2e3},{id:"gold_100k",title:"",description:" 100,000",type:"gold",rarity:"",targetValue:1e5,rewardShards:200},{id:"gold_1m",title:"",description:" 1,000,000",type:"gold",rarity:"",targetValue:1e6,rewardShards:1e3},{id:"master_knight",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:re.KNIGHT,rewardShards:300},{id:"master_warrior",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:re.WARRIOR,rewardShards:300},{id:"master_rogue",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:re.ROGUE,rewardShards:300},{id:"master_archer",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:re.ARCHER,rewardShards:300},{id:"master_mage",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:re.MAGE,rewardShards:300},{id:"master_beater",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:re.BEATER,rewardShards:500},{id:"master_kayaba",title:"",description:"GM  50 ",type:"class_level",rarity:"",targetValue:50,targetClass:re.KAYABA,rewardShards:1e3},{id:"zenith_knight",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:re.KNIGHT,rewardShards:1e3},{id:"zenith_warrior",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:re.WARRIOR,rewardShards:1e3},{id:"zenith_rogue",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:re.ROGUE,rewardShards:1e3},{id:"zenith_archer",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:re.ARCHER,rewardShards:1e3},{id:"zenith_mage",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:re.MAGE,rewardShards:1e3},{id:"zenith_beater",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:re.BEATER,rewardShards:1500},{id:"zenith_kayaba",title:"",description:"GM  100 ",type:"class_level",rarity:"",targetValue:100,targetClass:re.KAYABA,rewardShards:5e3}],ar="ETHEREAL_TOWER_SAVE_DATA_V1",C0="ETHEREAL_RPG_SECURE_KEY_v1",q0=c=>{let u="";for(let f=0;f<c.length;f++)u+=String.fromCharCode(c.charCodeAt(f)^C0.charCodeAt(f%C0.length));return u},Qh=c=>{try{const u=JSON.stringify(c),f=q0(u);return btoa(encodeURIComponent(f).replace(/%([0-9A-F]{2})/g,(r,m)=>String.fromCharCode(parseInt(m,16))))}catch(u){return console.error("Encryption failed",u),""}},Kh=c=>{try{const u=decodeURIComponent(atob(c).split("").map(r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join("")),f=q0(u);return JSON.parse(f)}catch(u){return console.error("Decryption failed",u),null}},Zh=()=>{const[c]=w.useState(()=>{try{const r=localStorage.getItem(ar);if(!r)return null;try{if(r.startsWith("{")){const v=JSON.parse(r);if(v&&v.gameState)return{...v,legacy:v.legacy||sr}}}catch{}const m=Kh(r);return m?{...m,legacy:m.legacy||sr}:null}catch(r){return console.error("Failed to load save data:",r),null}});return{savedData:c,saveGame:r=>{try{const m=Qh(r);m&&localStorage.setItem(ar,m)}catch(m){console.error("Failed to save data:",m)}},clearSave:()=>{localStorage.removeItem(ar)}}},$h=1.1,X0=c=>Math.pow($h,Math.max(1,c)-1),Q0=(c,u,f,r)=>{const m=f/36e5,v=X0(r);return{gold:Math.floor(c*m*v),exp:Math.floor(u*m*v)}},la=(c,u)=>Math.floor(c*X0(u)),Jh=(c,u)=>{const f=Math.random();let r="";f>Ri.MYTHIC?r="":f>Ri.LEGENDARY?r="":f>Ri.RARE?r="":f>Ri.UNCOMMON?r="":r="";let m;return u==="mystery_weapon_box"?m=[T.MAIN_HAND,T.OFF_HAND]:u==="mystery_armor_box"&&(m=[T.HEAD,T.BODY,T.LEGS,T.HANDS,T.FEET,T.BACK,T.ACCESSORY]),dr(c,ge.TOWER,r,0,m)},ze={POTION_SMALL:{healPercent:.25,basePrice:50,name:" ()"},STAT_POTIONS:{percentBuff:.15,flatBuffBase:5,basePrice:100,duration:50},WEAPON_BOX:{basePrice:500,name:""},ARMOR_BOX:{basePrice:500,name:""}},K0=c=>{const u=Math.max(1,c),f=ze.STAT_POTIONS.flatBuffBase*u,r=`${(ze.STAT_POTIONS.percentBuff*100).toFixed(0)}%`;return[{id:"potion_small",name:ze.POTION_SMALL.name,description:` ${ze.POTION_SMALL.healPercent*100}% `,price:la(ze.POTION_SMALL.basePrice,u),icon:"",type:"consumable_potion",effectDisplay:`HP +${ze.POTION_SMALL.healPercent*100}%`},{id:"potion_str",name:"",description:` ${r} + ${f} `,price:la(ze.STAT_POTIONS.basePrice,u),icon:"",type:"consumable_potion",effectDisplay:`STR +${r} +${f}`},{id:"potion_vit",name:"",description:` ${r} + ${f} `,price:la(ze.STAT_POTIONS.basePrice,u),icon:"",type:"consumable_potion",effectDisplay:`VIT +${r} +${f}`},{id:"potion_agi",name:"",description:` ${r} + ${f} `,price:la(ze.STAT_POTIONS.basePrice,u),icon:"",type:"consumable_potion",effectDisplay:`AGI +${r} +${f}`},{id:"potion_int",name:"",description:` ${r} + ${f} `,price:la(ze.STAT_POTIONS.basePrice,u),icon:"",type:"consumable_potion",effectDisplay:`INT +${r} +${f}`},{id:"potion_luk",name:"",description:` ${r} + ${f} `,price:la(ze.STAT_POTIONS.basePrice,u),icon:"",type:"consumable_potion",effectDisplay:`LUK +${r} +${f}`},{id:"mystery_weapon_box",name:ze.WEAPON_BOX.name,description:"",price:la(ze.WEAPON_BOX.basePrice,u),icon:"",type:"gacha_box",effectDisplay:` Lv.${u}`},{id:"mystery_armor_box",name:ze.ARMOR_BOX.name,description:"",price:la(ze.ARMOR_BOX.basePrice,u),icon:"",type:"gacha_box",effectDisplay:` Lv.${u}`}]},Fh={potion_str:{id:"potion_str",name:"",icon:"",effects:[{targetStat:"str",type:"percent",duration:ze.STAT_POTIONS.duration,getPower:()=>1+ze.STAT_POTIONS.percentBuff},{targetStat:"str",type:"flat",duration:ze.STAT_POTIONS.duration,getPower:c=>ze.STAT_POTIONS.flatBuffBase*c}],logMessage:(c,u)=>`${u}  ${c}`},potion_vit:{id:"potion_vit",name:"",icon:"",effects:[{targetStat:"vit",type:"percent",duration:ze.STAT_POTIONS.duration,getPower:()=>1+ze.STAT_POTIONS.percentBuff},{targetStat:"vit",type:"flat",duration:ze.STAT_POTIONS.duration,getPower:c=>ze.STAT_POTIONS.flatBuffBase*c}],logMessage:(c,u)=>`${u}  ${c}`},potion_agi:{id:"potion_agi",name:"",icon:"",effects:[{targetStat:"agi",type:"percent",duration:ze.STAT_POTIONS.duration,getPower:()=>1+ze.STAT_POTIONS.percentBuff},{targetStat:"agi",type:"flat",duration:ze.STAT_POTIONS.duration,getPower:c=>ze.STAT_POTIONS.flatBuffBase*c}],logMessage:(c,u)=>`${u}  ${c}`},potion_int:{id:"potion_int",name:"",icon:"",effects:[{targetStat:"int",type:"percent",duration:ze.STAT_POTIONS.duration,getPower:()=>1+ze.STAT_POTIONS.percentBuff},{targetStat:"int",type:"flat",duration:ze.STAT_POTIONS.duration,getPower:c=>ze.STAT_POTIONS.flatBuffBase*c}],logMessage:(c,u)=>`${u}  ${c}`},potion_luk:{id:"potion_luk",name:"",icon:"",effects:[{targetStat:"luk",type:"percent",duration:ze.STAT_POTIONS.duration,getPower:()=>1+ze.STAT_POTIONS.percentBuff},{targetStat:"luk",type:"flat",duration:ze.STAT_POTIONS.duration,getPower:c=>ze.STAT_POTIONS.flatBuffBase*c}],logMessage:(c,u)=>`${u}  ${c}`}},Ih=c=>Fh[c],Wh=({player:c,setPlayer:u,gameState:f,addLog:r,setIsAutoBattling:m,legacy:v})=>{const b=w.useCallback(A=>{u(H=>{if(!H||H.statPoints<=0)return H;const D={...H.attributes,[A]:H.attributes[A]+1},J=H.statPoints-1,V={...H,attributes:D},{stats:ie}=yt(V,v),ce=Math.min(H.stats.hp,ie.maxHp);return{...H,attributes:D,statPoints:J,stats:{...ie,hp:ce}}})},[u,v]),R=w.useCallback(A=>{u(H=>{if(!H)return null;let D=0;const J={...H.attributes};if(Object.entries(A).forEach(([I,ae])=>{const h=I;ae&&ae>0&&(J[h]+=ae,D+=ae)}),D>H.statPoints)return H;const V={...H,attributes:J},{stats:ie}=yt(V,v),ce=Math.min(H.stats.hp,ie.maxHp);return r(` ${D} `,"info"),{...H,attributes:J,statPoints:H.statPoints-D,stats:{...ie,hp:ce}}})},[u,r,v]),S=w.useCallback(A=>{u(H=>H?{...H,skipBossWarning:A}:null)},[u]),y=w.useCallback((A,H)=>{if(!c)return[];const J=K0(c.towerFloor).find(ce=>ce.id===A);if(!J)return[];const V=J.price*H;if(c.gold<V)return r("","info"),[];let ie=[];if(J.type==="gacha_box"){for(let ce=0;ce<H;ce++)ie.push(Jh(c.towerFloor,J.id));return r(` ${H}  ${J.name} ${V} `,"reward"),ie.forEach(ce=>{r(`>>  :::${ce.rarity}|${ce.name}:::`,"reward")}),u(ce=>ce?{...ce,gold:ce.gold-V,inventory:[...ce.inventory,...ie]}:null),ie}return r(` ${H}  ${J.name} ${V} `,"reward"),u(ce=>{if(!ce)return null;let I={...ce.consumables};return A==="potion_small"?I.healthPotion={...I.healthPotion,count:I.healthPotion.count+H}:I.inventory[A]=(I.inventory[A]||0)+H,{...ce,gold:ce.gold-V,consumables:I}}),[]},[c,r,u]),j=w.useCallback(A=>{u(H=>{if(!H)return null;const D=Ih(A);if(!D)return H;const J=H.consumables.inventory[A]||0;if(J<=0)return r(`${D.name} `,"info"),H;const V=Math.max(1,H.towerFloor),ie=D.effects.map(ae=>({id:xn(),name:D.name,type:"buff",source:"player",targetStat:ae.targetStat,power:ae.getPower(V),valueType:ae.type,duration:ae.duration})),I=((ae,h)=>{let _=[...ae];return h.forEach(q=>{const P=_.findIndex(ne=>ne.name===q.name&&ne.targetStat===q.targetStat&&ne.valueType===q.valueType);P>-1?_[P]={...q,id:_[P].id}:_.push(q)}),_})(H.activeEffects,ie);return D.effects.forEach(ae=>{const h=ae.getPower(V),_=ae.type==="percent"?`${Math.round((h-1)*100)}%`:`${h}`;r(D.logMessage(_,ae.targetStat.toUpperCase()),"buff")}),{...H,activeEffects:I,consumables:{...H.consumables,inventory:{...H.consumables.inventory,[A]:J-1}}}})},[r,u]),E=w.useCallback((A,H)=>{u(D=>D?{...D,consumables:{...D.consumables,healthPotion:{...D.consumables.healthPotion,autoUse:A,threshold:H}}}:null)},[u]),B=w.useCallback(A=>{if(!c||f==="GAME_OVER")return;if(f==="COMBAT"){r("","info");return}if(A.type===Cl.WEAPON){const h=S0[c.classType];if(A.weaponType&&!h.includes(A.weaponType)){r(`${c.classType}  ${A.weaponType}`,"info");return}}let H=A.slot;_h(c.classType)&&A.slot===T.MAIN_HAND&&Eh(A.weaponType)&&c.equipment[T.MAIN_HAND]&&!c.equipment[T.OFF_HAND]&&(H=T.OFF_HAND),A.slot===T.ACCESSORY&&c.equipment[T.ACCESSORY]&&!c.equipment[T.ACCESSORY_2]&&(H=T.ACCESSORY_2);const D=c.inventory.findIndex(h=>h.id===A.id);if(D===-1)return;const J={...c.equipment},V=[...c.inventory],ie=J[H];if(H===T.MAIN_HAND&&fs(A.weaponType)&&J[T.OFF_HAND]){const h=J[T.OFF_HAND];V.push(h),J[T.OFF_HAND]=null,r(`${A.name}`,"info")}if(H===T.OFF_HAND){const h=J[T.MAIN_HAND];h&&fs(h.weaponType)&&(V.push(h),J[T.MAIN_HAND]=null,r(`${A.name}${h.name}`,"info"))}ie?V[D]=ie:V.splice(D,1),J[H]=A;const ce={...c,equipment:J,inventory:V},{stats:I}=yt(ce,v),ae=Math.min(c.stats.hp,I.maxHp);u({...ce,stats:{...I,hp:ae}}),r(` :::${A.rarity}|${A.name}:::`,"info")},[c,f,r,u,v]),G=w.useCallback(A=>{if(!c||!c.equipment[A]||f==="GAME_OVER")return;if(f==="COMBAT"){r("","info");return}const H=c.equipment[A],D={...c.equipment,[A]:null},J=[...c.inventory,H],V={...c,equipment:D,inventory:J},{stats:ie}=yt(V,v),ce=Math.min(c.stats.hp,ie.maxHp);u({...V,stats:{...ie,hp:ce}})},[c,f,r,u,v]),ee=w.useCallback(()=>{if(!c||f==="COMBAT"||f==="GAME_OVER")return;const H=(Z=>{const me={hp:.2,atk:1,matk:1,def:.5,mdef:.5,crit:5,critDamage:.1,agi:3,str:3,vit:3,int:3,luk:2};return Z===re.MAGE?{...me,matk:2,int:6,atk:0,str:0}:Z===re.KNIGHT?{...me,hp:.5,vit:6,def:2,mdef:2}:Z===re.WARRIOR?{...me,atk:2,str:6}:Z===re.ROGUE||Z===re.ARCHER||Z===re.BEATER?{...me,agi:6,crit:10}:me})(c.classType),D=Z=>{let me=0;const ve={...Z.stats,...Z.prefixStats},je={...Z.attributes,...Z.affixAttributes};Object.entries(ve).forEach(([st,be])=>{me+=(be||0)*(H[st]||0)}),Object.entries(je).forEach(([st,be])=>{me+=(be||0)*(H[st]||0)});const Ce={:1,:2,:5,:15,:50}[Z.rarity];return me+=Z.level*2+Ce,me},J=[...c.inventory,...Object.values(c.equipment).filter(Z=>Z!==null)],V={...c.equipment},ie=new Set,ce=S0[c.classType],I=J.filter(Z=>Z.type===Cl.WEAPON&&ce.includes(Z.weaponType)),ae=I.filter(Z=>fs(Z.weaponType)).sort((Z,me)=>D(me)-D(Z))[0],h=I.filter(Z=>!fs(Z.weaponType)&&Z.slot===T.MAIN_HAND).sort((Z,me)=>D(me)-D(Z))[0],_=I.filter(Z=>Z.slot===T.OFF_HAND).sort((Z,me)=>D(me)-D(Z))[0],q=ae?D(ae):-1,P=(h?D(h):0)+(_?D(_):0);q>P&&ae?(V[T.MAIN_HAND]=ae,V[T.OFF_HAND]=null,ie.add(ae.id)):(h&&(V[T.MAIN_HAND]=h,ie.add(h.id)),_&&(V[T.OFF_HAND]=_,ie.add(_.id))),[T.HEAD,T.BODY,T.LEGS,T.HANDS,T.FEET,T.BACK].forEach(Z=>{const me=J.filter(ve=>ve.slot===Z&&!ie.has(ve.id)).sort((ve,je)=>D(je)-D(ve))[0];me&&(V[Z]=me,ie.add(me.id))});const x=J.filter(Z=>Z.slot===T.ACCESSORY&&!ie.has(Z.id)).sort((Z,me)=>D(me)-D(Z));x[0]&&(V[T.ACCESSORY]=x[0],ie.add(x[0].id)),x[1]&&(V[T.ACCESSORY_2]=x[1],ie.add(x[1].id));const k=J.filter(Z=>!ie.has(Z.id)),K={...c,equipment:V,inventory:k},{stats:F}=yt(K,v),fe=Math.min(c.stats.hp,F.maxHp);u({...K,stats:{...F,hp:fe}}),r("","info")},[c,f,r,u,v]),Y=w.useCallback(A=>{u(H=>{if(!H)return null;const D=H.inventory.map(J=>J.id===A.id?{...J,isLocked:!J.isLocked}:J);return{...H,inventory:D}})},[u]),le=w.useCallback(A=>{if(!c||!c.inventory.some(V=>V.id===A.id))return;if(A.isLocked){r("","info");return}const D=ir(A),J=c.inventory.filter(V=>V.id!==A.id);u({...c,inventory:J,gold:(c.gold||0)+D}),r(` :::${A.rarity}|${A.name}::: ${D} `,"reward")},[c,u,r]),se=w.useCallback(()=>{if(!c||c.inventory.length===0){r("","info");return}const A=c.inventory.filter(ce=>!ce.isLocked),H=c.inventory.length-A.length;if(A.length===0){r(H>0?"":"","info");return}const D=A.reduce((ce,I)=>ce+ir(I),0),J=A.length,V=c.inventory.filter(ce=>ce.isLocked);u({...c,inventory:V,gold:c.gold+D});let ie=` ${J}  ${D} `;H>0&&(ie+=` ( ${H} )`),r(ie,"reward")},[c,u,r]),W=w.useCallback(()=>{if(!c)return;const A={:5,:4,:3,:2,:1},H=[...c.inventory].sort((D,J)=>{const V=A[D.rarity]||0,ie=A[J.rarity]||0;return V!==ie?ie-V:D.type!==J.type?D.type==="weapon"?-1:1:D.level!==J.level?J.level-D.level:D.name.localeCompare(J.name)});u({...c,inventory:H}),r("","info")},[c,u,r]),Q=w.useCallback(()=>{if(!c)return;if(f==="COMBAT"){r("","info");return}if(c.workStatus){r("","info");return}const A=Date.now(),H=c.lastRestTime||0;if(A-H<Hi.REST_COOLDOWN_MS){const D=Math.ceil((Hi.REST_COOLDOWN_MS-(A-H))/6e4);r(`...  ${D} `,"info");return}u(D=>{if(!D)return null;const{stats:J}=yt(D,v);return{...D,stats:{...J,hp:J.maxHp},activeEffects:[],lastRestTime:A}}),r("","reward"),m(!1)},[c,f,r,u,m,v]),te=w.useCallback(A=>{u(H=>{if(!H)return null;if(f==="COMBAT")return r("","info"),H;if(H.workStatus)return r("","info"),H;const D=rr.find(V=>V.id===A);if(!D)return H;const J=Q0(D.baseGold,D.baseExp,D.durationMs,H.towerFloor);return r(`${D.name} (${D.label})`,"info"),m(!1),{...H,workStatus:{jobId:D.id,jobName:D.name,startTime:Date.now(),durationMs:D.durationMs,rewardGold:J.gold,rewardExp:J.exp}}})},[f,r,u,m]),ue=w.useCallback(()=>{u(A=>{if(!A||!A.workStatus)return A;const H=Date.now(),D=A.workStatus.startTime+A.workStatus.durationMs;if(H<D)return r("","info"),A;const J=A.workStatus.rewardGold,V=A.workStatus.rewardExp;r(`  ${J}   ${V}`,"reward");let ie=A.exp+V,ce=A.level,I=A.statPoints,ae=ps(ce);for(;ie>=ae;)ie-=ae,ce++,ae=ps(ce),I+=5,r(` ${ce}`,"luckPositive");const h={...A,gold:A.gold+J,exp:ie,level:ce,statPoints:I,maxExp:ae,workStatus:null};if(ce>A.level){const{stats:_}=yt(h,v);h.stats={..._,hp:_.maxHp}}return h})},[r,u,v]),de=w.useCallback(()=>{u(A=>!A||!A.workStatus?A:(r("","info"),{...A,workStatus:null}))},[r,u]);return{allocateAttribute:b,batchAllocateAttributes:R,toggleBossWarning:S,buyShopItem:y,useConsumableItem:j,configurePotion:E,equipItem:B,unequipItem:G,autoEquip:ee,sellItem:le,sellAllItems:se,toggleItemLock:Y,sortInventory:W,returnHome:Q,startWork:te,claimWorkReward:ue,cancelWork:de}},O0=[{effect:"crit",power:1.5,message:"{name} "},{effect:"heal",power:.2,message:"{name}  20% "},{effect:"dodge",power:1,message:"{name} "},{effect:"crit",power:2,message:"{name}  200%"},{effect:"heal",power:.1,message:"{name}  10% "},{effect:"dodge",power:1,message:"{name} "}],k0=[{effect:"selfDamage",power:.1,message:"{name}  10% "},{effect:"stun",power:1,message:"{name} "},{effect:"selfDamage",power:.15,message:"{name}  15% "},{effect:"stun",power:1,message:"{name} "}],R0=(c,u,f=!1)=>{const r=f?.05:Math.min(.5,.05+c*.001);if(Math.random()>r)return{triggered:!1,type:"positive",effect:"none",message:""};const m=f?.5:Math.min(.95,.5+c*.002);if(Math.random()<m){const b=O0[Math.floor(Math.random()*O0.length)];return{triggered:!0,type:"positive",effect:b.effect,power:b.power,message:b.message.replace("{name}",u)}}else{const b=k0[Math.floor(Math.random()*k0.length)];return{triggered:!0,type:"negative",effect:b.effect,power:b.power,message:b.message.replace("{name}",u)}}},Ml={applyVariance:c=>{const m=.95+Math.random()*.10000000000000009;return Math.max(1,Math.floor(c*m))},calculateBaseDamage:(c,u,f,r,m,v="physical",b=null,R="player")=>{const S=v==="physical"?Pe.BASE_VALS.DEF:Pe.BASE_VALS.MDEF,y=Math.pow(mn,f-1);let j=c,E=u,B=m;b===Be.BLOOD_MOON&&R==="enemy"?j*=1.5:b===Be.ARCANE_SURGE?(R==="player"&&v==="magic"&&(j*=1.5),R==="enemy"&&v==="magic"&&(E*=2)):b===Be.RAGE_PLAGUE?R==="player"&&(j*=1.5):b===Be.GRAVITY_FLUX&&R==="player"&&(B*=2);const G=S*y*20,ee=G/(G+E);let Y=j*ee;return r&&(Y*=B/100),Ml.applyVariance(Y)},checkHit:(c,u,f=null,r="player")=>{let m=u,v=c;f===Be.GRAVITY_FLUX&&r==="player"?m+=30:f===Be.VOID_GLITCH&&r==="enemy"&&(v+=50);const b=v-m+85,R=Math.max(5,Math.min(95,b)),S=Math.random()*100;return{isHit:S<=R,isMiss:S>R}},processSkill:(c,u,f,r,m,v=!1,b=null)=>{const R=xn(),S=c.damageType||"physical",y=S==="physical"?u.atk:u.matk,j=S==="physical"?f.def:f.mdef;let E={damage:0,hits:c.hits||1,heal:0,isCrit:!1,effect:null};switch(c.type){case"damage":{const B=b===Be.RAGE_PLAGUE&&m==="enemy"?50:0,G=v||Math.random()*100<u.crit+B||!!c.guaranteedCrit;E.isCrit=G;let ee=c.power;b===Be.ARCANE_SURGE&&m==="player"&&S==="magic"&&(ee*=1.5),b===Be.RAGE_PLAGUE&&m==="player"&&S==="physical"&&(ee*=1.5);let Y=0;m==="player"&&(Y=(S==="magic"?u.int||0:u.str||0)*2.5);let le=y*ee+Y,se=u.critDamage;b===Be.GRAVITY_FLUX&&m==="player"&&(se*=2),G&&(le*=se/100);let W=1,Q=1;b===Be.BLOOD_MOON&&m==="enemy"&&(W=1.5),b===Be.ARCANE_SURGE&&m==="enemy"&&S==="magic"&&(Q=2);const te=j*Q,ue=(S==="physical"?Pe.BASE_VALS.DEF:Pe.BASE_VALS.MDEF)*Math.pow(mn,r-1)*20,de=ue/(ue+te);let A=le*de*W;E.damage=Ml.applyVariance(A),b===Be.BLOOD_MOON&&m==="player"&&(E.heal=Math.floor(E.damage*.15)),c.lifesteal&&(E.heal+=Math.floor(E.damage*c.lifesteal));break}case"heal":{const B=S==="magic"?u.matk:u.atk,G=m==="player"&&u.int?u.int*5:0,ee=m==="player"?B*c.power:f.maxHp*.1*c.power;E.heal=Ml.applyVariance(ee+G);break}case"stun":{E.effect={id:R,name:c.name,type:"stun",power:0,duration:c.duration||1,targetStat:"stun",source:m};break}case"buff":case"debuff":case"dot":{const B=c.type==="dot"?y*.2*c.power:c.power;E.effect={id:R,name:c.name,type:c.type,power:B,duration:c.duration||3,targetStat:c.targetStat,source:m,valueType:c.type==="dot"?"flat":"percent"};break}}return E}},Ph=({player:c,setPlayer:u,enemy:f,setEnemy:r,gameState:m,setGameState:v,activeLocation:b,setActiveLocation:R,logs:S,setLogs:y,addLog:j,isAutoBattling:E,setIsAutoBattling:B,legacy:G,activeAnomalies:ee})=>{const[Y,le]=w.useState(!1),se=w.useRef({playerDodge:!1,enemyDodge:!1}),W=w.useRef(m),Q=w.useRef(f),te=w.useRef(c),ue=w.useRef(b);w.useEffect(()=>{W.current=m},[m]),w.useEffect(()=>{Q.current=f},[f]),w.useEffect(()=>{te.current=c},[c]),w.useEffect(()=>{ue.current=b},[b]);const de=b?ee[b]:null,A=I=>new Promise(ae=>setTimeout(ae,I)),H=(I,ae)=>{const h=I.findIndex(_=>_.name===ae.name&&_.targetStat===ae.targetStat&&_.valueType===ae.valueType);if(h>-1){const _=[...I];return _[h]={...ae,id:_[h].id},_}return[...I,ae]},D=w.useCallback(async()=>{if(W.current!=="COMBAT"||!Q.current){le(!1);return}const I=Q.current;if(I.activeEffects.some(q=>q.targetStat==="stun")){j(`${I.name} `,"info"),r(q=>{if(!q)return null;let P=q.stats.hp;return q.activeEffects.forEach(ne=>{ne.type==="dot"&&(P-=Math.floor(ne.power))}),{...q,stats:{...q.stats,hp:Math.max(0,P)},activeEffects:q.activeEffects.map(ne=>ne.targetStat==="stun"?{...ne,duration:ne.duration-1}:ne).filter(ne=>ne.duration>0)}}),le(!1);return}const h=w0(I),_=R0(h.luck,I.name,!0);if(_.triggered){if(j(_.message,_.type==="positive"?"luckPositive":"luckNegative"),_.effect==="heal"&&_.power){const q=Math.floor(I.stats.maxHp*_.power);r(P=>P?{...P,stats:{...P.stats,hp:Math.min(P.stats.maxHp,P.stats.hp+q)}}:null)}if(_.effect==="selfDamage"&&_.power){const q=Math.floor(I.stats.maxHp*_.power);r(P=>P?{...P,stats:{...P.stats,hp:Math.max(0,P.stats.hp-q)}}:null)}if(_.effect==="stun"){j(`${I.name} `,"info"),le(!1);return}_.effect==="dodge"&&(se.current.enemyDodge=!0)}r(q=>{if(!q)return q;let P=q.stats.hp;return q.activeEffects.forEach(ne=>{ne.type==="dot"&&(P-=Math.floor(ne.power))}),{...q,stats:{...q.stats,hp:Math.max(0,P)},activeEffects:q.activeEffects.map(ne=>({...ne,duration:ne.duration-1})).filter(ne=>ne.duration>0)}}),await A(400),r(q=>{if(!q||q.stats.hp<=0||W.current!=="COMBAT")return le(!1),q;if(se.current.playerDodge)return j(` ${q.name} `,"luckPositive"),se.current.playerDodge=!1,le(!1),q;const{stats:P}=yt(te.current,G),ne=q.isBoss&&q.stats.hp/q.stats.maxHp<.3;let x=null;if(q.skills.length>0){const K=Math.random(),F=_.triggered&&_.type==="positive"?q.skillChanceNormal*1.5:q.skillChanceNormal;K<(ne?q.skillChanceEnrage:F)&&(x=q.skills[Math.floor(Math.random()*q.skills.length)])}return(async()=>{let K=0,F=1,fe=!1,Z=null;const me=_.triggered&&_.effect==="crit"?_.power:1;if(x)j(`${q.name} ${x.name}`,"enemyAction"),Z=Ml.processSkill(x,h,P,q.level,"enemy",_.effect==="crit",de),K=Z.damage*(me||1),F=Z.hits,fe=Z.isCrit;else{if(Ml.checkHit(h.hit,P.dodge,de,"enemy").isMiss){j(`${q.name} `,"info",void 0,!1,!0),le(!1);return}const je=de===Be.RAGE_PLAGUE?50:0;fe=Math.random()*100<h.crit+je||_.effect==="crit",K=Ml.calculateBaseDamage(h.atk,P.def,q.level,fe,h.critDamage,"physical",de,"enemy"),K*=me||1}if(K>0){const ve=Math.max(1,Math.floor(K/F));for(let je=0;je<F&&!(W.current!=="COMBAT"||te.current.stats.hp<=0);je++)u(Ce=>Ce?{...Ce,stats:{...Ce.stats,hp:Math.max(0,Ce.stats.hp-ve)}}:null),j(`${q.name}  ${ve} `,"enemyAction",ve,fe),F>1&&je<F-1&&await A(60)}Z!=null&&Z.heal&&r(ve=>ve?{...ve,stats:{...ve.stats,hp:Math.min(ve.stats.maxHp,ve.stats.hp+Z.heal)}}:null),Z!=null&&Z.effect&&(Z.effect.type==="buff"?r(ve=>ve?{...ve,activeEffects:H(ve.activeEffects,Z.effect)}:null):u(ve=>ve?{...ve,activeEffects:H(ve.activeEffects,Z.effect)}:null)),le(!1)})(),q})},[j,u,r,G,de]),J=w.useCallback(async()=>{if(W.current!=="COMBAT"){le(!1);return}u(I=>{if(!I)return null;if(I.activeEffects.some(x=>x.targetStat==="stun"))return j("","info"),setTimeout(()=>D(),400),{...I,activeEffects:I.activeEffects.map(x=>x.targetStat==="stun"?{...x,duration:x.duration-1}:x).filter(x=>x.duration>0)};const{stats:ae,finalAttributes:h}=yt(I,G);let _=I.stats.hp,q={...I.consumables};if(I.consumables.healthPotion.autoUse&&I.consumables.healthPotion.count>0&&_/ae.maxHp*100<I.consumables.healthPotion.threshold){const x=Math.floor(ae.maxHp*.25);_=Math.min(ae.maxHp,_+x),q.healthPotion={...I.consumables.healthPotion,count:I.consumables.healthPotion.count-1},j(`[]  ${x} `,"item",x)}const P=R0(ae.luck,I.name,!1);if(P.triggered){if(j(P.message,P.type==="positive"?"luckPositive":"luckNegative"),P.effect==="heal"&&P.power){const x=Math.floor(ae.maxHp*P.power);_=Math.min(ae.maxHp,_+x)}if(P.effect==="selfDamage"&&P.power){const x=Math.floor(ae.maxHp*P.power);_=Math.max(0,_-x)}if(P.effect==="stun")return setTimeout(()=>D(),400),{...I,stats:{...I.stats,hp:_}};P.effect==="dodge"&&(se.current.playerDodge=!0)}return(async()=>{const x=Q.current;if(!x)return;if(se.current.enemyDodge){j(`${x.name} `,"info"),se.current.enemyDodge=!1,setTimeout(()=>D(),400);return}const k=w0(x),K=Y0[I.classType].filter(be=>I.level>=be.unlockLevel),F=K.length>0?K[Math.floor(Math.random()*K.length)]:null,fe=Math.random(),Z=F&&fe<(P.triggered&&P.type==="positive"?F.triggerChance*1.5:F.triggerChance)?F:null;let me=0,ve=1,je=!1,Ce=null;const st=P.triggered&&P.effect==="crit"?P.power:1;if(Z)j(`${Z.name}`,"skill"),Ce=Ml.processSkill(Z,{...ae,str:h.str,int:h.int},k,I.level,"player",P.effect==="crit",de),me=Ce.damage*(st||1),ve=Ce.hits,je=Ce.isCrit;else{if(Ml.checkHit(ae.hit,k.dodge,de,"player").isMiss){j("","info",void 0,!1,!0),setTimeout(()=>D(),400);return}je=Math.random()*100<ae.crit||P.effect==="crit",me=Ml.calculateBaseDamage(ae.atk,k.def,I.level,je,ae.critDamage,"physical",de,"player"),me*=st||1}if(me>0){const be=Math.max(1,Math.floor(me/ve));for(let he=0;he<ve&&!(W.current!=="COMBAT"||Q.current.stats.hp<=0);he++)r($=>$?{...$,stats:{...$.stats,hp:Math.max(0,$.stats.hp-be)}}:null),j(` ${be} `,"playerAction",be,je),ve>1&&he<ve-1&&await A(60)}Ce!=null&&Ce.heal&&u(be=>be?{...be,stats:{...be.stats,hp:Math.min(yt(be,G).stats.maxHp,be.stats.hp+Ce.heal)}}:null),Ce!=null&&Ce.effect&&(Ce.effect.type==="buff"?u(be=>be?{...be,activeEffects:H(be.activeEffects,Ce.effect)}:null):r(be=>be?{...be,activeEffects:H(be.activeEffects,Ce.effect)}:null)),setTimeout(()=>{W.current==="COMBAT"&&Q.current.stats.hp>0&&D()},400)})(),{...I,stats:{...I.stats,hp:_},consumables:q,activeEffects:I.activeEffects.map(x=>({...x,duration:x.duration-1})).filter(x=>x.duration>0)}})},[D,j,u,r,G,de]),V=w.useCallback(I=>{if(!c)return;const ae=ee[I];let h=I===ge.TOWER?c.towerFloor:void 0;const _=Xh(I,c.level,h);ae===Be.HARVEST_ERA&&(_.stats.maxHp=Math.floor(_.stats.maxHp*1.5),_.stats.hp=_.stats.maxHp),R(I),v("COMBAT"),se.current={playerDodge:!1,enemyDodge:!1};const q=ae?`${jt[ae].name}`:` Lv.${_.level} ${_.name}`;y([{id:xn(),text:q,type:ae?"effect":"enemyAction",timestamp:Date.now()}]),ae&&j(` Lv.${_.level} ${_.name}`,"enemyAction"),r(_),le(!1)},[c,ee,R,v,y,r,j]),ie=w.useCallback(()=>{m==="COMBAT"&&c&&f&&!Y&&(le(!0),J())},[m,c,f,Y,J]),ce=w.useCallback(()=>{if(Y)return;const I=f!=null&&f.isBoss?ms.FLEE_CHANCE.BOSS:ms.FLEE_CHANCE.NORMAL;Math.random()<I?(j("","info"),v("IDLE"),r(null),B(!1)):(j("","enemyAction"),le(!0),D())},[Y,f,j,v,r,B,D]);return w.useEffect(()=>{let I;return E&&m==="COMBAT"&&!Y&&(I=window.setInterval(()=>{W.current==="COMBAT"&&ie()},1200)),()=>clearInterval(I)},[E,m,Y,ie]),w.useEffect(()=>{var I;if(c&&c.stats.hp<=0&&m!=="GAME_OVER"&&(v("GAME_OVER"),B(!1),hn.reportAction({action:"die"})),f&&f.stats.hp<=0&&m==="COMBAT"){j(` ${f.name}`,"reward");const h=(G.upgrades.legacy_exp||0)*(((I=aa.find(ne=>ne.id==="legacy_exp"))==null?void 0:I.effectValue)||0),_=de===Be.HARVEST_ERA?2:1,q=Math.floor(f.level*10*(f.isBoss?Pe.BOSS_MULTIPLIERS.EXP:1)*Math.pow(mn,f.level/10)*(1+h)),P=Math.floor(f.goldReward*(1+(yt(c,G).stats.goldBonus||0)/100)*_);if(j(` ${q}  ${P}`,"reward"),u(ne=>{if(!ne)return null;let x=ne.exp+q,k=ne.level,K=ne.statPoints,F=ps(k);for(;x>=F;)x-=F,k++,F=ps(k),K+=5,j(` ${k}`,"luckPositive");const fe={...ne,exp:x,level:k,statPoints:K,maxExp:F,gold:ne.gold+P};return de===Be.VOID_GLITCH&&Math.random()<.2&&(fe.consumables.healthPotion.count+=1,j("[] ","item")),k>ne.level&&(fe.stats.hp=yt(fe,G).stats.maxHp),fe}),f.lootTable.forEach(ne=>{if(Math.random()<ne.chance){let x;if(b===ge.TOWER&&f.isBoss){const K=f.level,F=Math.random()*100;K<=40?F<75?x="":F<95?x="":x="":K<=80&&F<90?x="":x=""}const k=ne.type==="unique"?Mh(ne.uniqueId,f.level):dr(f.level,b||void 0,x,0);k&&(j(`:::${k.rarity}|${k.name}:::`,"reward"),u(K=>K?{...K,inventory:[...K.inventory,k]}:null))}}),b===ge.TOWER){const ne=c.towerFloor+1;u(x=>x?{...x,towerFloor:ne}:null),hn.reportAction({action:"update_level",level:ne})}v("IDLE"),r(null)}},[c,f,m,b,j,v,u,r,G,de]),w.useEffect(()=>{let I;if(m==="IDLE"&&E&&b&&c&&c.stats.hp>0)return I=window.setTimeout(()=>{E&&W.current==="IDLE"&&V(b)},1500),()=>window.clearTimeout(I)},[m,E,b,c,V]),{startCombat:V,processTurn:ie,handleFlee:ce,isTurnProcessing:Y}},ep=1800*1e3,tp=()=>{const{savedData:c,saveGame:u,clearSave:f}=Zh(),[r,m]=w.useState((c==null?void 0:c.gameState)||"MENU"),[v,b]=w.useState((c==null?void 0:c.heroName)||""),[R,S]=w.useState((c==null?void 0:c.inviteCode)||""),[y,j]=w.useState((c==null?void 0:c.selectedClass)||re.KNIGHT),[E,B]=w.useState((c==null?void 0:c.player)||null),[G,ee]=w.useState((c==null?void 0:c.enemy)||null),[Y,le]=w.useState((c==null?void 0:c.logs)||[]),[se,W]=w.useState((c==null?void 0:c.activeLocation)||null),[Q,te]=w.useState(!1),[ue,de]=w.useState((c==null?void 0:c.activeAnomalies)||{}),[A,H]=w.useState((c==null?void 0:c.anomalyExpiry)||0),[D,J]=w.useState((c==null?void 0:c.legacy)||{...sr,selectedTitleId:null}),[V,ie]=w.useState([]),ce=w.useCallback((Se,Te="info",He,lt,it)=>{le(St=>[...St.slice(-49),{id:xn(),text:Se,type:Te,value:He,isCrit:lt,isMiss:it,timestamp:Date.now()}])},[]),I=w.useCallback(()=>{const Se=[ge.PLAINS,ge.FOREST,ge.DESERT,ge.CAVE],Te={};[...Se,ge.TOWER].forEach(St=>Te[St]=null);const He=Se[Math.floor(Math.random()*Se.length)],lt=Object.values(Be),it=lt[Math.floor(Math.random()*lt.length)];Te[He]=it,de(Te),H(Date.now()+ep),ce(`${He}...`,"info")},[ce]);w.useEffect(()=>{const Se=Date.now(),Te=Object.values(ue).some(He=>He!==null);(!A||Se>A||!Te)&&I()},[]),w.useEffect(()=>{const Se=setInterval(()=>{Date.now()>A&&I()},3e4);return()=>clearInterval(Se)},[A,I]);const{allocateAttribute:ae,batchAllocateAttributes:h,buyShopItem:_,configurePotion:q,equipItem:P,unequipItem:ne,autoEquip:x,sellItem:k,sellAllItems:K,toggleItemLock:F,sortInventory:fe,returnHome:Z,toggleBossWarning:me,useConsumableItem:ve,startWork:je,claimWorkReward:Ce,cancelWork:st}=Wh({player:E,setPlayer:B,gameState:r,addLog:ce,setIsAutoBattling:te,legacy:D}),{startCombat:be,processTurn:he,handleFlee:$,isTurnProcessing:Re}=Ph({player:E,setPlayer:B,enemy:G,setEnemy:ee,gameState:r,setGameState:m,activeLocation:se,setActiveLocation:W,logs:Y,setLogs:le,addLog:ce,isAutoBattling:Q,setIsAutoBattling:te,legacy:D,activeAnomalies:ue}),Xe=w.useCallback(Se=>{const Te=Date.now(),He=D.lastCheckInTimestamp;if(!(!He||new Date(Te).toDateString()!==new Date(He).toDateString()))return null;const it=Se==="weapon"?[T.MAIN_HAND,T.OFF_HAND]:[T.HEAD,T.BODY,T.LEGS,T.HANDS,T.FEET,T.BACK,T.ACCESSORY],St=[],sa=(E==null?void 0:E.level)||D.lifetimeStats.maxLevel||1;for(let Qt=0;Qt<10;Qt++)St.push(dr(sa,ge.TOWER,void 0,0,it));return J(Qt=>({...Qt,lastCheckInTimestamp:Te})),E&&B(Qt=>Qt?{...Qt,inventory:[...Qt.inventory,...St]}:null),ce(`[] ${Se==="weapon"?"":""} ${St.length} `,"reward"),St},[D,E,ce]),xt=w.useCallback(()=>{E&&J(Se=>{let Te=!1;const He={...Se.achievements},lt={...Se.lifetimeStats};return E.towerFloor>lt.maxFloor&&(lt.maxFloor=E.towerFloor,Te=!0),E.level>lt.maxLevel&&(lt.maxLevel=E.level,Te=!0),E.gold>lt.maxGold&&(lt.maxGold=E.gold,Te=!0),xs.forEach(it=>{var sa;if((sa=He[it.id])!=null&&sa.unlockedAt)return;let St=!1;switch(it.type){case"floor":E.towerFloor>=it.targetValue&&(St=!0);break;case"level":E.level>=it.targetValue&&(St=!0);break;case"gold":E.gold>=it.targetValue&&(St=!0);break;case"class_level":E.classType===it.targetClass&&E.level>=it.targetValue&&(St=!0);break}St&&(He[it.id]={unlockedAt:Date.now(),claimed:!1},ie(Qt=>[...Qt,it.title]),Te=!0)}),Te?{...Se,achievements:He,lifetimeStats:lt}:Se})},[E]);w.useEffect(()=>{(r==="IDLE"||r==="COMBAT")&&xt()},[E==null?void 0:E.level,E==null?void 0:E.towerFloor,E==null?void 0:E.gold,r,xt]);const Xt=Se=>{const Te=xs.find(He=>He.id===Se);Te&&(J(He=>{const lt=He.achievements[Se];return!lt||!lt.unlockedAt||lt.claimed?He:{...He,soulShards:He.soulShards+Te.rewardShards,achievements:{...He.achievements,[Se]:{...lt,claimed:!0}}}}),ce(` ${Te.rewardShards} `,"reward"))},ll=Se=>{if(J(Te=>({...Te,selectedTitleId:Se})),Se){const Te=xs.find(He=>He.id===Se);Te&&ce(`${Te.title}`,"info")}else ce("","info")},Et=()=>{B(qh(v,y,R,D)),m("IDLE"),ee(null),le([]),te(!1),W(null),hn.reportAction({action:"survive"});const Se=ur[R];Se&&Se.startLog&&ce(Se.startLog,Se.logType||"luckPositive"),ce(`${y} ${v}`)},_t=w.useCallback(()=>{if(E){const Se=V0(E);J(Te=>({...Te,soulShards:Te.soulShards+Se,totalSoulShardsEarned:Te.totalSoulShardsEarned+Se,totalRuns:Te.totalRuns+1}))}},[E]),na=(Se=!1)=>{E&&(r!=="GAME_OVER"&&hn.reportAction({action:"die"}),_t()),m("MENU"),B(null),ee(null),le([]),S(""),te(!1),W(null),Se&&f()},Bi=(Se,Te)=>{J(He=>He.soulShards<Te?He:{...He,soulShards:He.soulShards-Te,upgrades:{...He.upgrades,[Se]:(He.upgrades[Se]||0)+1}})};return w.useEffect(()=>{if(r==="MENU"&&!E&&D.totalRuns>0){u({gameState:r,heroName:v,inviteCode:R,selectedClass:y,player:null,enemy:null,logs:[],activeLocation:null,isAutoBattling:!1,legacy:D,activeAnomalies:ue,anomalyExpiry:A});return}const Se={gameState:r,heroName:v,inviteCode:R,selectedClass:y,player:E,enemy:G,logs:Y,activeLocation:se,isAutoBattling:Q,legacy:D,activeAnomalies:ue,anomalyExpiry:A},Te=setTimeout(()=>{u(Se)},1e3);return()=>clearTimeout(Te)},[r,v,R,y,E,G,Y,se,Q,D,ue,A,u]),{gameState:r,heroName:v,setHeroName:b,inviteCode:R,setInviteCode:S,selectedClass:y,setSelectedClass:j,player:E,enemy:G,logs:Y,activeLocation:se,setActiveLocation:W,isAutoBattling:Q,setIsAutoBattling:te,startGame:Et,resetGame:na,legacy:D,buyLegacyUpgrade:Bi,claimAchievement:Xt,selectTitle:ll,claimDailyCheckIn:Xe,unlockedAchievements:V,setUnlockedAchievements:ie,activeAnomalies:ue,anomalyExpiry:A,equipItem:P,unequipItem:ne,autoEquip:x,sellItem:k,sellAllItems:K,toggleItemLock:F,sortInventory:fe,buyShopItem:_,configurePotion:q,allocateAttribute:ae,batchAllocateAttributes:h,returnHome:Z,toggleBossWarning:me,useConsumableItem:ve,startWork:je,claimWorkReward:Ce,cancelWork:st,startCombat:be,processTurn:he,handleFlee:$,isTurnProcessing:Re}},nr={[re.KNIGHT]:{icon:"",desc:"",color:"text-blue-200",bgGradient:"from-blue-900/80 to-stone-950",accentBorder:"border-blue-500"},[re.WARRIOR]:{icon:"",desc:"",color:"text-red-300",bgGradient:"from-red-900/80 to-stone-950",accentBorder:"border-red-600"},[re.ROGUE]:{icon:"",desc:"",color:"text-stone-300",bgGradient:"from-stone-800 to-stone-950",accentBorder:"border-stone-400"},[re.ARCHER]:{icon:"",desc:"",color:"text-emerald-300",bgGradient:"from-emerald-900/80 to-stone-950",accentBorder:"border-emerald-500"},[re.MAGE]:{icon:"",desc:"",color:"text-purple-300",bgGradient:"from-purple-900/80 to-stone-950",accentBorder:"border-purple-500"},[re.BEATER]:{icon:"",desc:"",color:"text-stone-100",bgGradient:"from-black to-stone-900",accentBorder:"border-stone-200"},[re.KAYABA]:{icon:"",desc:" (GM)",color:"text-red-100",bgGradient:"from-red-950 to-stone-950",accentBorder:"border-red-500"}},lp=()=>{const c=w.useMemo(()=>Array.from({length:40}).map((u,f)=>({id:f,left:`${Math.random()*100}%`,size:Math.random()*3+2+"px",animationDuration:Math.random()*8+6+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.6+.3,color:Math.random()>.6?"#fbbf24":"#78716c"})),[]);return s.jsx("div",{className:"fixed inset-0 pointer-events-none z-10 overflow-hidden",children:c.map(u=>s.jsx("div",{className:"absolute rounded-full animate-rise",style:{left:u.left,top:"100%",width:u.size,height:u.size,backgroundColor:u.color,opacity:u.opacity,animationDuration:u.animationDuration,animationDelay:u.animationDelay,boxShadow:u.color==="#fbbf24"?"0 0 6px #f59e0b":"none"}},u.id))})},ap=({heroName:c,setHeroName:u,inviteCode:f,setInviteCode:r,selectedClass:m,setSelectedClass:v,onStartGame:b,onOpenLegacy:R})=>{const[S,y]=w.useState("idle"),[j,E]=w.useState(!1),[B,G]=w.useState(!1),[ee,Y]=w.useState(""),[le,se]=w.useState(null),W=w.useRef(null),Q=w.useRef({}),[te,ue]=w.useState(!1);w.useEffect(()=>{ue(!0);const V=setTimeout(()=>ue(!1),300);return()=>clearTimeout(V)},[m]),w.useEffect(()=>{hn.fetchGlobalStats().then(se)},[]),w.useEffect(()=>{const V=Q.current[m];V&&W.current&&V.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[m]);const de=()=>{const V=ur[f];V?(y("success"),Y(V.feedback),V.unlockHiddenClass&&E(!0),V.unlockGMClass&&G(!0),V.forceClass&&v(V.forceClass)):(y("error"),Y(" "),setTimeout(()=>{y("idle"),Y("")},2e3))},A=Object.values(re).filter(V=>!(V===re.BEATER&&!j||V===re.KAYABA&&!B)),H=()=>{const ie=(A.indexOf(m)+1)%A.length;v(A[ie])},D=()=>{const ie=(A.indexOf(m)-1+A.length)%A.length;v(A[ie])},J=nr[m];return s.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center p-4 font-sans overflow-hidden relative z-0",children:[s.jsx("div",{className:"fixed inset-0 bg-[#0c0a09] -z-20"}),s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-stone-900 via-stone-950 to-black opacity-60 -z-10"}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-[70vh] bg-gradient-to-t from-amber-900/50 via-stone-950/80 to-transparent z-0 pointer-events-none"}),s.jsx("div",{className:"fixed inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20 z-0 animate-pulse-slow pointer-events-none"}),s.jsx(lp,{}),s.jsx("div",{className:"fixed top-4 right-4 z-[50] flex flex-col items-end gap-2 animate-fade-in-slow",children:s.jsxs("div",{className:"bg-stone-950/80 backdrop-blur-md border border-amber-900/50 rounded-lg p-2 md:p-3 shadow-2xl flex flex-col gap-1.5 md:gap-2 min-w-[120px] md:min-w-[140px]",children:[s.jsx("div",{className:"text-[10px] text-stone-500 font-bold uppercase tracking-widest text-center border-b border-stone-800 pb-1 mb-1 hidden md:block",children:"Server Statistics"}),le?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-[10px] md:text-xs text-stone-400 font-bold",children:" "}),s.jsx("span",{className:"text-red-500 font-mono font-bold text-xs md:text-sm",children:le.death.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-[10px] md:text-xs text-stone-400 font-bold",children:" "}),s.jsx("span",{className:"text-blue-400 font-mono font-bold text-xs md:text-sm",children:le.alive.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-[10px] md:text-xs text-stone-400 font-bold",children:" "}),s.jsxs("span",{className:"text-amber-400 font-mono font-bold text-xs md:text-sm",children:[le.maxLevel,"F"]})]})]}):s.jsx("div",{className:"flex justify-center py-2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-stone-600 border-t-amber-500 rounded-full animate-spin"})})]})}),s.jsxs("div",{className:"mb-4 md:mb-6 text-center relative z-20 shrink-0",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-black font-fantasy tracking-wider text-transparent bg-clip-text bg-gradient-to-b from-amber-100 to-amber-600 animate-fade-in-out",children:"ETHEREAL TOWER"}),s.jsxs("div",{className:"flex items-center justify-center gap-4 text-stone-500 font-serif text-[10px] md:text-xs uppercase tracking-[0.4em] mt-1 md:mt-2",children:[s.jsx("span",{className:"h-px w-8 md:w-12 bg-stone-800"}),s.jsx("span",{children:"Role Playing Game"}),s.jsx("span",{className:"h-px w-8 md:w-12 bg-stone-800"})]})]}),s.jsxs("div",{className:"w-full max-w-4xl bg-stone-900 border border-stone-800 rounded-2xl shadow-2xl flex flex-col md:flex-row overflow-hidden relative z-30 transition-all duration-500 max-h-[85vh] md:max-h-none flex-shrink-0",children:[s.jsxs("div",{className:`relative w-full md:w-5/12 p-5 md:p-10 flex flex-col items-center justify-center text-center overflow-hidden bg-gradient-to-br ${J.bgGradient} transition-colors duration-700`,children:[s.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-${J.accentBorder.split("-")[1]} to-transparent opacity-50`}),s.jsx("div",{className:"absolute inset-0 border-r border-stone-800/50 hidden md:block"}),s.jsx("div",{className:`hidden md:block text-7xl md:text-8xl mb-4 md:mb-6 transition-all duration-500 filter drop-shadow-[0_0_20px_rgba(0,0,0,0.5)] select-none ${te?"scale-90 opacity-50 blur-sm":"scale-100 opacity-100 blur-0"}`,children:J.icon}),s.jsx("h2",{className:`text-xl md:text-3xl font-fantasy font-bold mb-2 md:mb-3 tracking-widest uppercase transition-colors duration-300 ${J.color} drop-shadow-md`,children:m}),s.jsx("div",{className:"w-10 md:w-12 h-0.5 md:h-1 bg-white/10 rounded-full mb-3 md:mb-6"}),s.jsx("p",{className:"text-stone-300 font-serif italic text-xs md:text-base leading-relaxed max-w-sm opacity-90 px-4 md:px-0",children:J.desc})]}),s.jsxs("div",{className:"w-full md:w-7/12 p-6 md:p-8 bg-stone-950/50 backdrop-blur-sm flex flex-col justify-center gap-5 md:gap-6",children:[s.jsxs("div",{className:"space-y-1.5 group",children:[s.jsx("label",{className:"block text-stone-300 text-[10px] md:text-xs font-bold uppercase tracking-widest group-focus-within:text-amber-500 transition-colors",children:" (Name)"}),s.jsx("input",{value:c,onChange:V=>u(V.target.value),className:"w-full bg-transparent border-b border-stone-800 py-2 text-xs md:text-sm text-stone-200 font-sans focus:outline-none focus:border-amber-500 transition-all placeholder-stone-500",placeholder:"...",maxLength:12})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx("label",{className:"block text-stone-300 text-[10px] md:text-xs font-bold uppercase tracking-widest",children:" (Select Class)"}),s.jsxs("span",{className:"text-[10px] text-stone-600 font-mono hidden md:inline-block",children:[A.indexOf(m)+1," / ",A.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:D,className:"h-14 md:h-16 w-8 md:w-10 rounded-lg bg-stone-900 border border-stone-800 text-stone-500 hover:text-amber-400 hover:border-amber-900/50 hover:bg-stone-800 transition-all flex items-center justify-center flex-shrink-0 active:scale-95",children:""}),s.jsx("div",{className:"relative group/scroll flex-1 min-w-0",children:s.jsx("div",{ref:W,className:"flex overflow-x-auto gap-3 py-5 px-2 snap-x scrollbar-hide mask-fade-right scroll-smooth items-center",children:A.map(V=>s.jsxs("button",{ref:ie=>{Q.current[V]=ie},onClick:()=>v(V),className:`flex-shrink-0 w-14 h-14 md:w-18 md:h-18 rounded-xl border-2 flex items-center justify-center text-2xl md:text-3xl transition-all duration-300 relative overflow-visible group snap-center
                                        ${m===V?`bg-stone-800 ${nr[V].accentBorder} shadow-[0_0_15px_rgba(0,0,0,0.5)] scale-110 z-10`:"bg-stone-900 border-stone-800 text-stone-600 hover:border-stone-600 hover:bg-stone-800 hover:scale-105 opacity-80 hover:opacity-100"}`,children:[s.jsx("span",{className:`transition-transform duration-300 ${m===V?"scale-110":"grayscale group-hover:grayscale-0"}`,children:nr[V].icon}),m===V&&s.jsx("div",{className:"absolute inset-0 bg-white/5 animate-pulse rounded-xl pointer-events-none"}),s.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-[8px] md:text-[10px] text-center uppercase tracking-wider font-bold opacity-0 group-hover:opacity-100 transition-opacity text-stone-400 bg-black/80 px-2 py-0.5 rounded pointer-events-none z-20 whitespace-nowrap",children:V})]},V))})}),s.jsx("button",{onClick:H,className:"h-14 md:h-16 w-8 md:w-10 rounded-lg bg-stone-900 border border-stone-800 text-stone-500 hover:text-amber-400 hover:border-amber-900/50 hover:bg-stone-800 transition-all flex items-center justify-center flex-shrink-0 active:scale-95",children:""})]})]}),s.jsxs("div",{className:"space-y-1.5 group",children:[s.jsx("label",{className:"block text-stone-300 text-[10px] md:text-xs font-bold uppercase tracking-widest group-focus-within:text-amber-500 transition-colors",children:" (Optional Code)"}),s.jsxs("div",{className:"flex gap-2 relative h-10",children:[s.jsx("input",{value:f,onChange:V=>{r(V.target.value),S!=="idle"&&(y("idle"),Y(""))},disabled:S==="success",className:`flex-1 bg-stone-900 border rounded-lg px-3 py-2 text-xs md:text-sm font-sans tracking-wide text-stone-300 focus:outline-none transition-colors placeholder-stone-500
                                ${S==="success"?"border-green-900/50 text-green-400 bg-green-950/10":S==="error"?"border-red-900/50 text-red-400":"border-stone-800 focus:border-stone-600"}`,placeholder:"...",maxLength:20}),s.jsx("button",{onClick:de,disabled:!f||S==="success",className:`px-4 md:px-6 rounded-lg text-[10px] md:text-xs font-bold tracking-widest uppercase transition-all
                                ${S==="success"?"bg-transparent text-green-500 border border-green-800 cursor-default":"bg-stone-800 text-stone-300 border border-stone-700 hover:bg-stone-700 hover:text-stone-200"}`,children:S==="success"?"":""})]}),s.jsx("div",{className:`text-[10px] h-3 font-bold transition-opacity duration-300 ${ee?"opacity-100":"opacity-0"} ${S==="success"?"text-green-500":"text-red-500"}`,children:ee})]}),s.jsx("div",{className:"pt-2",children:s.jsxs("button",{onClick:b,disabled:!c.trim(),className:`w-full py-4 text-base md:text-lg font-fantasy font-black tracking-[0.2em] uppercase rounded-lg border-2 transition-all duration-300 relative overflow-hidden group
                        ${c.trim()?"bg-amber-700 border-amber-500 text-amber-100 shadow-[0_0_20px_rgba(180,83,9,0.4)] hover:shadow-[0_0_30px_rgba(180,83,9,0.6)] hover:bg-amber-600 hover:-translate-y-1":"bg-stone-800 border-stone-800 text-stone-600 cursor-not-allowed opacity-50"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[" ",s.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:""})]}),c.trim()&&s.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent z-0"})]})})]})]}),s.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex flex-col items-center gap-2",children:[s.jsx("button",{onClick:R,className:"w-14 h-14 md:w-16 md:h-16 bg-stone-900 border-2 border-amber-600/50 rounded-full flex items-center justify-center text-2xl md:text-3xl shadow-[0_0_20px_rgba(0,0,0,0.5)] hover:border-amber-500 hover:scale-110 hover:shadow-[0_0_25px_rgba(245,158,11,0.4)] transition-all active:scale-95 group",children:s.jsx("span",{className:"group-hover:animate-pulse",children:""})}),s.jsx("span",{className:"text-[10px] md:text-xs font-fantasy font-bold text-amber-500/80 uppercase tracking-[0.3em] drop-shadow-sm pointer-events-none",children:""})]}),s.jsx("div",{className:"fixed bottom-2 left-4 text-[10px] text-stone-500 font-serif tracking-widest select-none z-30",children:L0.VERSION})]})},np=({player:c,onHardReset:u,onToggleStealth:f})=>{const[r,m]=w.useState(!1),[v,b]=w.useState(!1),[R,S]=w.useState(null),[y,j]=w.useState(0),E=async()=>{const Y=await hn.fetchGlobalStats();Y&&S(Y)};w.useEffect(()=>{E()},[]);const B=()=>{y>0||(E(),j(60))};w.useEffect(()=>{if(y>0){const Y=setInterval(()=>j(le=>le-1),1e3);return()=>clearInterval(Y)}},[y]);const G=()=>{r?u():(m(!0),setTimeout(()=>m(!1),3e3))},ee=()=>{navigator.clipboard.writeText(L0.SHARE_URL).then(()=>{b(!0),setTimeout(()=>b(!1),2e3)})};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"w-full h-full flex justify-between items-center px-2 md:px-4 bg-stone-950/90 backdrop-blur-md border-b border-white/10 text-[10px] md:text-xs font-mono text-stone-400 select-none shadow-sm pointer-events-auto relative",children:[s.jsx("div",{className:"flex items-center gap-2 md:gap-4 z-10",children:R?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-1",title:"",children:[s.jsx("span",{className:"text-red-900 text-[10px] md:text-xs",children:""}),s.jsx("span",{className:"text-red-400 font-bold",children:R.death.toLocaleString()})]}),s.jsx("div",{className:"w-px h-3 bg-stone-800 hidden sm:block"}),s.jsxs("div",{className:"hidden sm:flex items-center gap-1.5",title:"",children:[s.jsx("span",{className:"text-blue-900 text-xs",children:""}),s.jsx("span",{className:"text-blue-400 font-bold",children:R.alive.toLocaleString()})]}),s.jsx("div",{className:"w-px h-3 bg-stone-800 hidden sm:block"}),s.jsxs("div",{className:"hidden sm:flex items-center gap-1.5",title:"",children:[s.jsx("span",{className:"text-amber-900 text-xs",children:""}),s.jsxs("span",{className:"text-amber-400 font-bold",children:[R.maxLevel,"F"]})]}),s.jsx("button",{onClick:B,disabled:y>0,className:`ml-1 hover:text-white transition-opacity hidden sm:block ${y>0?"opacity-20":"opacity-50"}`,title:"",children:""})]}):s.jsx("span",{className:"animate-pulse text-stone-600 text-[9px]",children:"Connecting..."})}),s.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 flex items-center justify-center pointer-events-none w-full max-w-[120px] md:max-w-none",children:s.jsx("h1",{className:"font-fantasy font-black tracking-[0.1em] md:tracking-[0.2em] text-transparent bg-clip-text bg-gradient-to-b from-amber-200 to-amber-600 text-[10px] sm:text-xs md:text-base drop-shadow-md whitespace-nowrap text-center",children:"ETHEREAL TOWER RPG"})}),s.jsxs("div",{className:"flex items-center gap-1 md:gap-2 z-10",children:[s.jsx("button",{onClick:f,className:"p-1.5 rounded hover:bg-stone-800 text-stone-500 hover:text-stone-300 transition-colors",title:" (Stealth Mode) [Alt+S]",children:""}),s.jsx("button",{onClick:ee,className:`p-1.5 rounded hover:bg-stone-800 transition-colors ${v?"text-green-500":"text-stone-500 hover:text-stone-300"}`,title:" (Share)",children:v?"":""}),s.jsx("button",{onClick:G,className:`p-1.5 rounded hover:bg-red-900/30 transition-colors ${r?"text-red-500 animate-pulse":"text-stone-600 hover:text-red-400"}`,title:r?"?":" (Reset)",children:""})]})]})})},sp={[re.KNIGHT]:{color:"#fef3c7",glow:"rgba(251, 191, 36, 0.6)",type:"slash",scale:1.2},[re.WARRIOR]:{color:"#ef4444",glow:"rgba(239, 68, 68, 0.6)",type:"slash",scale:1.5},[re.ROGUE]:{color:"#10b981",glow:"rgba(16, 185, 129, 0.6)",type:"slash",scale:1},[re.ARCHER]:{color:"#fbbf24",glow:"rgba(251, 191, 36, 0.6)",type:"shoot-up",scale:1},[re.MAGE]:{color:"#3b82f6",glow:"rgba(59, 130, 246, 0.6)",type:"blast",scale:1.3},[re.BEATER]:{color:"#6366f1",glow:"rgba(99, 102, 241, 0.8)",type:"slash",scale:1.2},[re.KAYABA]:{color:"#ffffff",glow:"rgba(255, 255, 255, 0.9)",type:"blast",scale:2}},ip=c=>sp[c]||{color:"#ffffff",glow:"rgba(255,255,255,0.5)",type:"slash"},cp={[ge.PLAINS]:"from-sky-900/40 to-transparent",[ge.FOREST]:"from-emerald-900/30 to-transparent",[ge.DESERT]:"from-amber-900/30 to-transparent",[ge.CAVE]:"from-indigo-950/50 to-stone-950/50",[ge.TOWER]:"from-red-950/40 to-stone-950/60"},D0=c=>c?{str:"",agi:"",int:"",vit:"",luk:"",atk:"",matk:"",def:"",mdef:"",all_defense:"",all_attack:"",all:"",dodge:"",hit:"",crit:"",critDamage:"",stun:""}[c]||c:"",op=c=>c?c==="all"?"ALL":{str:"STR",agi:"AGI",int:"INT",vit:"VIT",luk:"LUK",atk:"ATK",matk:"MATK",def:"DEF",mdef:"MDEF",crit:"CRT",dodge:"DGE",hit:"HIT",stun:"STN"}[c]||c.substring(0,3).toUpperCase():"EFF",cr=({effect:c})=>{const{showGenericTooltip:u,hideTooltip:f}=pn();let r="bg-stone-700 border-stone-500 text-stone-200",m="",v="";const b=c.valueType==="percent"?c.power>1?`+${Math.round((c.power-1)*100)}%`:`-${Math.round((1-c.power)*100)}%`:c.type==="buff"?`+${c.power}`:`-${c.power}`;return c.type==="buff"?(r="bg-blue-900/80 border-blue-500 text-blue-200",m="",v=` ${D0(c.targetStat)} ${b}`):c.type==="debuff"?(r="bg-purple-900/80 border-purple-500 text-purple-200",m="",v=` ${D0(c.targetStat)} ${b}`):c.type==="dot"?(r="bg-red-900/80 border-red-500 text-red-200",m="",v=` ${Math.round(c.power)} `):c.type==="stun"&&(r="bg-amber-900/80 border-amber-500 text-amber-200 animate-pulse",m="",v=""),s.jsxs("div",{onMouseEnter:R=>u(c.name,s.jsxs("div",{children:[s.jsx("p",{className:"text-amber-400 font-bold mb-1",children:v}),s.jsxs("p",{className:"text-[10px] opacity-60 italic",children:[": ",c.duration," "]})]}),R.clientX,R.clientY),onMouseLeave:f,className:"pointer-events-auto h-6 md:h-8 px-1.5 md:px-2 rounded flex items-center justify-center gap-1 text-[10px] md:text-xs border shadow-md cursor-help transition-all hover:scale-105",style:{backgroundColor:r.split(" ")[0],borderColor:r.split(" ")[1],color:r.split(" ")[2]},children:[s.jsx("span",{className:"font-black",children:m}),s.jsx("span",{className:"font-bold uppercase tracking-tighter opacity-90",children:op(c.targetStat)}),s.jsxs("span",{className:"font-mono opacity-50 text-[8px] md:text-[10px]",children:["(",c.duration,")"]})]})},rp=({current:c,max:u,isPlayer:f,isEnraged:r})=>{const[m,v]=w.useState(c),b=Math.max(0,Math.min(100,c/u*100)),R=Math.max(0,Math.min(100,m/u*100));return w.useEffect(()=>{const S=setTimeout(()=>{v(c)},500);return()=>clearTimeout(S)},[c]),s.jsxs("div",{className:"relative w-full h-3 md:h-4 bg-stone-900 rounded border border-stone-800 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-stone-950"}),s.jsx("div",{className:"absolute h-full bg-amber-100 transition-all duration-700 ease-out",style:{width:`${R}%`}}),s.jsx("div",{className:`absolute h-full transition-all duration-200 ease-out ${f?"bg-gradient-to-r from-red-800 to-red-500":r?"bg-gradient-to-r from-red-600 to-orange-500 animate-pulse":"bg-gradient-to-r from-red-800 to-red-500"}`,style:{width:`${b}%`}}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] md:text-[10px] font-bold text-white drop-shadow-md z-10",children:[c," / ",u]})]})},ds=({id:c,count:u,onUse:f})=>{const{showGenericTooltip:r,hideTooltip:m}=pn();let v="",b="",R="";switch(c){case"potion_str":v="",b="border-red-600 hover:bg-red-900/50",R="";break;case"potion_vit":v="",b="border-green-600 hover:bg-green-900/50",R="";break;case"potion_agi":v="",b="border-emerald-600 hover:bg-emerald-900/50",R="";break;case"potion_int":v="",b="border-blue-600 hover:bg-blue-900/50",R="";break;case"potion_luk":v="",b="border-amber-600 hover:bg-amber-900/50",R="";break;default:v="",b="border-stone-600 hover:bg-stone-900/50",R="";break}return u<=0?null:s.jsxs("button",{onClick:f,onMouseEnter:S=>r(R,s.jsx("div",{children:" Buff "}),S.clientX,S.clientY),onMouseLeave:m,className:`w-8 h-8 md:w-10 md:h-10 rounded-full bg-stone-900/80 backdrop-blur-sm border flex items-center justify-center relative transition-all active:scale-95 group ${b}`,children:[s.jsx("span",{className:"text-base md:text-xl filter drop-shadow-md",children:v}),s.jsx("span",{className:"absolute -bottom-1 -right-1 bg-black text-[8px] md:text-[9px] text-white px-1 rounded-full border border-stone-600 min-w-[14px] md:min-w-[16px] text-center font-bold",children:u})]})},up=({config:c,onConfigure:u})=>{const[f,r]=w.useState(!1),[m,v]=w.useState(c.threshold.toString());w.useEffect(()=>{f||v(c.threshold.toString())},[c.threshold,f]);const b=()=>{let S=parseInt(m);isNaN(S)&&(S=c.threshold),S=Math.max(5,Math.min(95,S)),u(c.autoUse,S),r(!1)},R=S=>{S.stopPropagation();let y=parseInt(m);isNaN(y)&&(y=c.threshold),u(!c.autoUse,y)};return s.jsxs("div",{className:"relative",children:[f&&s.jsx("div",{className:"fixed inset-0 z-40 bg-black/5 md:bg-transparent",onClick:b}),f&&s.jsxs("div",{className:"absolute bottom-12 right-0 md:left-1/2 md:-translate-x-1/2 w-40 md:w-44 bg-stone-950 border border-stone-600 rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.9)] p-3 z-50 flex flex-col gap-3 animate-fade-in text-xs font-sans ring-1 ring-white/10",onClick:S=>S.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-stone-800 pb-2",children:[s.jsx("span",{className:"font-bold text-stone-400 uppercase tracking-widest text-[9px]",children:""}),s.jsx("div",{onClick:R,className:`w-8 h-4 rounded-full relative cursor-pointer transition-colors ${c.autoUse?"bg-green-600":"bg-stone-800"}`,children:s.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${c.autoUse?"translate-x-4":"translate-x-0"}`})})]}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsx("div",{className:"text-[10px] text-stone-400 uppercase font-bold",children:" (HP %)"}),s.jsxs("div",{className:"flex items-center gap-2 bg-stone-900/50 p-2 rounded-lg border border-stone-800",children:[s.jsx("input",{type:"number",value:m,onChange:S=>v(S.target.value),onBlur:b,className:"w-full bg-transparent text-center text-stone-400 font-mono font-bold focus:outline-none p-0 text-sm"}),s.jsx("span",{className:"text-stone-600 font-bold",children:"%"})]})]}),s.jsx("button",{onClick:b,className:"w-full bg-stone-800 hover:bg-stone-700 text-stone-200 py-1.5 rounded-lg text-[10px] font-bold border border-stone-700 transition-colors uppercase tracking-widest",children:"OK"})]}),s.jsxs("button",{onClick:S=>{S.stopPropagation(),r(!f)},className:`w-8 h-8 md:w-10 md:h-10 rounded border flex items-center justify-center relative transition-all duration-300 ${c.autoUse?"bg-green-900/20 border-green-600 shadow-[0_0_15px_rgba(34,197,94,0.3)]":"bg-stone-800 border-stone-600 hover:border-stone-500"} ${f?"scale-110 border-amber-500":""}`,title:"",children:[s.jsx("span",{className:`text-base md:text-xl filter drop-shadow-sm transition-transform ${f?"scale-110":""}`,children:""}),s.jsx("span",{className:`absolute -top-1 -right-1 text-[8px] md:text-[9px] text-white px-1 rounded-full border min-w-[14px] md:min-w-[16px] text-center font-bold ${c.count<=0?"bg-red-900 border-red-700 animate-pulse":"bg-black border-stone-600"}`,children:c.count}),c.autoUse&&s.jsx("div",{className:"absolute -bottom-1 -left-1 w-2.5 h-2.5 bg-green-500 rounded-full border border-stone-950 animate-pulse"})]})]})},dp=({gameState:c,player:u,enemy:f,logs:r,activeLocation:m,isAutoBattling:v,setIsAutoBattling:b,onAttack:R,onFlee:S,isTurnProcessing:y,onUseConsumable:j,onConfigurePotion:E,onStartCombat:B,onCancelWork:G,onClaimWorkReward:ee,activeAnomalies:Y={},anomalyExpiry:le=0})=>{const se=w.useRef(null),[W,Q]=w.useState([]),[te,ue]=w.useState([]),[de,A]=w.useState(!1),[H,D]=w.useState(!1),J=w.useRef(new Set),[V,ie]=w.useState(""),[ce,I]=w.useState(0),[ae,h]=w.useState(""),{showGenericTooltip:_,hideTooltip:q}=pn(),P=m?Y[m]:null;w.useEffect(()=>{const he=setInterval(()=>{const $=Date.now();if(le&&$<le){const Re=le-$,Xe=Math.floor(Re/6e4),xt=Math.floor(Re%6e4/1e3);h(`${Xe}m ${xt}s`)}else h("")},1e3);return()=>clearInterval(he)},[le]),w.useEffect(()=>{if(!u.workStatus)return;const he=setInterval(()=>{if(u.workStatus){const $=Date.now(),Re=u.workStatus.startTime+u.workStatus.durationMs-$,Xe=Math.min(100,Math.max(0,($-u.workStatus.startTime)/u.workStatus.durationMs*100));if(I(Xe),Re>0){const xt=Math.floor(Re/36e5),Xt=Math.floor(Re%36e5/6e4),ll=Math.floor(Re%6e4/1e3);ie(`${xt>0?xt+"h ":""}${Xt}m ${ll}s`)}else ie("")}},1e3);return()=>clearInterval(he)},[u.workStatus]);const ne=w.useMemo(()=>yt(u),[u]),x=(f==null?void 0:f.isBoss)&&f.stats.hp>0&&f.stats.hp/f.stats.maxHp<.3,k=(f==null?void 0:f.isBoss)&&(f==null?void 0:f.level)===100,K=u.stats.hp>0&&u.stats.hp/ne.stats.maxHp<=.25,F=w.useRef(f);w.useEffect(()=>{F.current=f},[f]),w.useEffect(()=>{Q([]),ue([]),f&&(J.current=new Set)},[f==null?void 0:f.name]);const fe=(he,$,Re)=>{const Xe=xn(),xt=(Math.random()-.5)*80,Xt=(Math.random()-.5)*40,ll=Re==="enemy"?0:-100,Et=Re==="enemy"?-50:100;Q(_t=>[..._t,{id:Xe,x:ll+xt,y:Et+Xt,text:he,type:$}]),setTimeout(()=>{Q(_t=>_t.filter(na=>na.id!==Xe))},1e3)},Z=()=>{const he=xn(),$=ip(u.classType);ue(Re=>[...Re,{id:he,type:$.type,color:$.color,glow:$.glow,scale:$.scale}]),setTimeout(()=>ue(Re=>Re.filter(Xe=>Xe.id!==he)),500)};w.useEffect(()=>{if(r.length===0)return;const he=r.filter($=>!J.current.has($.id));if(he.length!==0){if(he.forEach($=>{J.current.add($.id),($.type==="playerAction"||$.type==="skill")&&(F.current&&$.value&&$.value>0?(fe($.value.toString(),$.isCrit?"crit":"damage","enemy"),Z(),A(!0),setTimeout(()=>A(!1),200),$.isCrit&&(D(!0),setTimeout(()=>D(!1),200))):F.current&&$.isMiss&&fe("MISS","miss","enemy")),($.type==="enemyAction"||$.type==="effect"&&$.value)&&($.value&&$.value>0?(fe($.value.toString(),"damage","player"),D(!0),setTimeout(()=>D(!1),300)):$.isMiss&&fe("DODGE","miss","player")),($.type==="heal"||$.type==="luckPositive"||$.type==="item"&&$.value&&$.value>0)&&$.value&&$.value>0&&fe(`+${$.value}`,"heal","player")}),J.current.size>200){const $=Array.from(J.current);J.current=new Set($.slice(-100))}se.current&&(se.current.scrollTop=se.current.scrollHeight)}},[r]);const me=he=>{const $=jt[he];return s.jsxs("div",{className:"space-y-3 min-w-[180px]",children:[s.jsx("p",{className:"text-xs text-stone-400 italic border-b border-stone-800 pb-2 mb-2",children:$.description}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-red-500 font-bold text-[10px]",children:" "}),s.jsx("span",{className:"text-[11px] text-stone-200 font-bold",children:$.monsterEffect})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-500 font-bold text-[10px]",children:" "}),s.jsx("span",{className:"text-[11px] text-stone-200 font-bold",children:$.playerEffect})]})]})]})},ve=()=>{var he;return s.jsxs("div",{className:`absolute inset-0 flex items-center justify-center transition-all duration-1000 bg-gradient-to-b ${m?cp[m]:"from-transparent to-transparent"} ${H?"animate-shake-hard":""}`,children:[P&&s.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10 mix-blend-overlay",style:{backgroundColor:jt[P].color}}),u.workStatus?s.jsxs("div",{className:"flex flex-col items-center gap-6 animate-fade-in max-w-sm w-full px-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 bg-stone-900/60 backdrop-blur-xl border-2 border-amber-600/30 rounded-full flex items-center justify-center text-5xl md:text-6xl animate-breathe shadow-[0_0_40px_rgba(245,158,11,0.2)]",children:((he=rr.find($=>{var Re;return $.id===((Re=u.workStatus)==null?void 0:Re.jobId)}))==null?void 0:he.icon)||""}),s.jsx("div",{className:"absolute inset-0 rounded-full border border-amber-500/20 animate-ping"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-fantasy font-black text-amber-100 tracking-[0.1em] mb-1",children:u.workStatus.jobName}),s.jsx("p",{className:"text-[10px] md:text-xs text-stone-500 uppercase tracking-[0.3em] font-bold",children:""})]}),s.jsxs("div",{className:"w-full space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-end px-1",children:[s.jsx("span",{className:"text-[10px] font-mono text-stone-600 font-bold uppercase tracking-widest",children:""}),s.jsxs("span",{className:"text-sm font-mono text-amber-400 font-black",children:[ce.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-stone-950 h-2.5 md:h-3 rounded-full border border-stone-800 overflow-hidden relative shadow-inner",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-amber-800 to-amber-500 transition-all duration-1000 relative overflow-hidden",style:{width:`${ce}%`},children:s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(90deg,transparent_0%,rgba(255,255,255,0.2)_50%,transparent_100%)] animate-[shimmer_2s_infinite]"})})}),s.jsx("div",{className:"text-center font-mono text-xl md:text-2xl text-stone-200 tracking-widest pt-1",children:V})]}),s.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-stone-900/80 px-4 py-1.5 rounded-full border border-stone-800 shadow-sm",children:[s.jsx("span",{className:"text-amber-500 text-xs",children:""}),s.jsx("span",{className:"text-stone-300 font-mono text-xs font-bold",children:u.workStatus.rewardGold.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-stone-900/80 px-4 py-1.5 rounded-full border border-stone-800 shadow-sm",children:[s.jsx("span",{className:"text-blue-400 text-[10px] font-black",children:"EXP"}),s.jsx("span",{className:"text-stone-300 font-mono text-xs font-bold",children:u.workStatus.rewardExp.toLocaleString()})]})]}),s.jsx("div",{className:"w-full max-w-[200px] space-y-2",children:ce>=100?s.jsx("button",{onClick:ee,className:"w-full py-3 bg-amber-600 border border-amber-400 text-white rounded-lg font-black uppercase tracking-widest text-xs shadow-[0_0_15px_rgba(245,158,11,0.4)] animate-pulse hover:bg-amber-500 transition-all active:scale-95 pointer-events-auto",children:" (Claim)"}):s.jsx("button",{onClick:G,className:"w-full py-2.5 bg-stone-900/80 border border-stone-700 text-stone-500 rounded-lg font-bold uppercase tracking-widest text-[10px] hover:text-red-400 hover:border-red-900/50 transition-all active:scale-95 pointer-events-auto",children:" (Cancel)"})})]})]}):f?s.jsxs("div",{className:"relative flex flex-col items-center justify-center mb-16 md:mb-0",children:[s.jsx("div",{className:"absolute inset-0 z-50 pointer-events-none flex items-center justify-center",children:W.filter($=>$.y<0).map($=>s.jsx("div",{className:`absolute font-black text-4xl damage-text-shadow animate-float-up z-50 whitespace-nowrap ${$.type==="crit"?"text-yellow-400 text-6xl animate-crit-scale":$.type==="heal"?"text-green-400":$.type==="miss"?"text-stone-500 text-2xl":"text-white"}`,style:{transform:`translate(${$.x}px, ${$.y}px)`},children:$.text},$.id))}),s.jsxs("div",{className:`flex flex-col items-center gap-2 md:gap-4 transition-transform duration-100 relative ${k?"animate-pulse":""}`,children:[te.map($=>s.jsxs("div",{className:"absolute inset-0 z-40 pointer-events-none flex items-center justify-center",style:{transform:`scale(${$.scale||1})`},children:[$.type==="slash"&&s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[250px] md:w-[450px] h-[250px] md:h-[450px] flex items-center justify-center rotate-[45deg]",children:s.jsx("div",{className:"w-full h-2 md:h-3 animate-slash rounded-full mix-blend-screen",style:{backgroundColor:$.color,boxShadow:`0 0 25px ${$.glow}`}})}),$.type==="shoot-up"&&s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 md:w-6 h-full flex items-center justify-center",children:s.jsx("div",{className:"w-1 md:w-1.5 h-32 md:h-48 animate-shoot-up rounded-full mix-blend-screen",style:{backgroundColor:$.color,boxShadow:`0 0 20px ${$.glow}`}})}),$.type==="pierce"&&s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 md:w-48 h-32 md:h-48 flex items-center justify-center",children:s.jsx("div",{className:"w-full h-full animate-pierce rounded-full",style:{border:`4px solid ${$.color}`,boxShadow:`inset 0 0 40px ${$.glow}, 0 0 20px ${$.glow}`}})}),$.type==="blast"&&s.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 md:w-72 h-48 md:h-72 flex items-center justify-center",children:[s.jsx("div",{className:"w-full h-full animate-pulse-fast rounded-full blur-xl opacity-60",style:{backgroundColor:$.color}}),s.jsx("div",{className:"absolute w-1/2 h-1/2 animate-ping rounded-full",style:{backgroundColor:$.color}})]})]},$.id)),s.jsx("div",{className:`w-32 h-32 md:w-64 md:h-64 flex items-center justify-center text-[80px] md:text-[120px] drop-shadow-[0_10px_10px_rgba(0,0,0,0.5)] transition-all ${x?"scale-110 filter hue-rotate-[-20deg] brightness-75":"scale-100"} ${de?"animate-flash-white":""}`,children:f.isBoss?"":""}),s.jsx("div",{className:"flex justify-center gap-2 min-h-[24px] md:min-h-[32px]",children:f.activeEffects.map($=>s.jsx(cr,{effect:$},$.id))})]})]}):s.jsxs("div",{className:"flex flex-col items-center gap-4 md:gap-6 animate-fade-in mb-10 md:mb-0",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-5xl md:text-7xl mb-2 opacity-50",children:m?m===ge.PLAINS?"":m===ge.FOREST?"":m===ge.DESERT?"":m===ge.CAVE?"":"":""}),s.jsx("h2",{className:"text-2xl md:text-4xl font-fantasy font-bold text-stone-300 tracking-[0.2em] uppercase",children:m?hs[m].name:""}),!m&&s.jsx("div",{className:"text-stone-500 font-serif italic text-sm animate-pulse mt-2",children:"..."}),m===ge.TOWER&&s.jsxs("div",{className:"text-red-500 font-mono font-bold mt-2",children:["Floor ",u.towerFloor]}),P&&s.jsxs("div",{className:"flex flex-col items-center gap-2 mt-4",children:[s.jsxs("div",{onMouseEnter:$=>_(`${jt[P].name}`,me(P),$.clientX,$.clientY),onMouseLeave:q,className:"px-6 py-2 rounded-full border bg-black/40 backdrop-blur-md shadow-lg cursor-help transition-transform hover:scale-105",style:{borderColor:jt[P].color},children:[s.jsxs("span",{className:"text-xs font-black uppercase tracking-widest",style:{color:jt[P].color},children:["",jt[P].name]}),s.jsx("p",{className:"text-[9px] text-stone-500 font-bold uppercase mt-0.5",children:""})]}),ae&&s.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-mono text-stone-500",children:[s.jsx("span",{className:"animate-pulse",children:""}),s.jsxs("span",{children:[": ",s.jsx("span",{className:"text-stone-300",children:ae})]})]})]})]}),m&&(v?s.jsxs("div",{className:"flex flex-col items-center gap-3 py-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),s.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),s.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full animate-bounce"})]}),s.jsx("div",{className:"text-amber-500 font-fantasy font-bold tracking-[0.3em] uppercase animate-pulse text-sm md:text-lg",children:"..."}),s.jsx("button",{onClick:()=>b(!1),className:"px-6 py-2 bg-stone-900/80 border border-stone-700 text-stone-400 text-[10px] uppercase tracking-widest rounded hover:bg-red-950/20 hover:border-red-800 hover:text-red-400 transition-all active:scale-95 pointer-events-auto",children:" (Cancel)"})]}):s.jsxs("button",{onClick:B,className:"group relative px-8 py-4 bg-stone-900/80 backdrop-blur-sm border-2 border-amber-600/50 hover:border-amber-500 rounded-lg overflow-hidden transition-all hover:scale-105 active:scale-95 shadow-[0_0_20px_rgba(0,0,0,0.5)]",children:[s.jsx("div",{className:"absolute inset-0 bg-amber-600/10 group-hover:bg-amber-600/20 transition-colors"}),s.jsx("span",{className:"relative z-10 text-xl md:text-2xl font-fantasy font-bold text-amber-100 tracking-[0.1em] uppercase group-hover:text-white transition-colors",children:""}),s.jsx("div",{className:"absolute inset-0 border border-amber-400/30 rounded-lg animate-ping opacity-0 group-hover:opacity-50"})]}))]})]})},je=()=>u.activeEffects.length===0?null:s.jsx("div",{className:"fixed top-14 right-6 hidden md:flex flex-wrap justify-end gap-2 max-w-[450px] pointer-events-none z-[60]",children:u.activeEffects.map(he=>s.jsx(cr,{effect:he},he.id))}),Ce=()=>f?s.jsxs("div",{className:"fixed top-12 right-2 w-[140px] md:top-10 md:left-1/2 md:right-auto md:-translate-x-1/2 md:w-[300px] bg-stone-950/80 backdrop-blur-md border border-stone-700 rounded-lg p-2 md:p-3 shadow-2xl z-40 transition-transform cursor-default pointer-events-auto flex flex-col md:flex-row items-center md:items-center gap-2 md:gap-3",children:[s.jsxs("div",{className:`hidden md:flex relative w-16 h-16 rounded bg-stone-900 border border-stone-600 items-center justify-center text-3xl shadow-inner shrink-0 ${f.isBoss?"border-red-800":""}`,children:[f.isBoss?"":"",f.isBoss&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 text-sm filter drop-shadow-md",children:""})]}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center gap-1 w-full",children:[s.jsx("div",{className:"flex justify-between items-end",children:s.jsxs("span",{className:`font-bold font-fantasy tracking-wide truncate text-[10px] md:text-base ${f.isBoss?"text-red-500":"text-stone-300"}`,children:[s.jsxs("span",{className:"text-stone-500 font-mono text-[9px] md:text-xs mr-1",children:["Lv.",f.level]}),f.name]})}),s.jsx(rp,{current:f.stats.hp,max:f.stats.maxHp,isEnraged:x})]})]}):null,st=()=>s.jsxs("div",{className:"fixed bottom-48 md:bottom-10 left-1/2 transform -translate-x-1/2 z-50 flex items-end justify-center pointer-events-none w-full max-w-md px-4",children:[s.jsxs("div",{className:"relative flex flex-col items-center pointer-events-auto w-full md:w-auto",children:[s.jsx("button",{onClick:R,disabled:!f||v||y,className:`w-20 h-20 md:w-20 md:h-20 rounded-full border-4 shadow-[0_0_20px_rgba(0,0,0,0.5)] flex items-center justify-center text-3xl transition-all active:scale-95 z-20 mx-auto ${f?y?"bg-stone-800 border-stone-600 text-stone-500":"bg-red-900 border-red-500 text-red-100 hover:bg-red-800 hover:scale-105":"bg-stone-900 border-stone-700 text-stone-600 cursor-not-allowed opacity-0"}`,children:""}),f&&s.jsx("span",{className:"text-[10px] text-stone-400 font-bold uppercase tracking-wider bg-black/60 px-2 rounded mt-1",children:"Attack"}),f&&s.jsxs("div",{className:"absolute left-0 bottom-4 md:right-[100%] md:left-auto md:bottom-6 md:pr-6 flex items-center justify-center gap-1 md:gap-2 pointer-events-auto w-1/3 md:w-auto",children:[s.jsx(ds,{id:"potion_luk",count:u.consumables.inventory.potion_luk||0,onUse:()=>j("potion_luk")}),s.jsx(ds,{id:"potion_int",count:u.consumables.inventory.potion_int||0,onUse:()=>j("potion_int")}),s.jsx(ds,{id:"potion_agi",count:u.consumables.inventory.potion_agi||0,onUse:()=>j("potion_agi")}),s.jsx(ds,{id:"potion_vit",count:u.consumables.inventory.potion_vit||0,onUse:()=>j("potion_vit")}),s.jsx(ds,{id:"potion_str",count:u.consumables.inventory.potion_str||0,onUse:()=>j("potion_str")})]}),s.jsxs("div",{className:"absolute right-0 bottom-4 md:left-[100%] md:right-auto md:bottom-6 md:pl-6 flex items-center justify-center gap-2 pointer-events-auto w-1/3 md:w-auto",children:[f&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:S,disabled:!f||v,className:"w-8 h-8 md:w-10 md:h-10 bg-stone-800 border border-stone-600 rounded flex items-center justify-center hover:bg-stone-700 active:scale-95 disabled:opacity-50",title:"Flee",children:""}),s.jsx("div",{className:"w-px h-6 md:h-8 bg-stone-700/50"})]}),f&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:`w-8 h-8 md:w-10 md:h-10 rounded border flex items-center justify-center cursor-pointer transition-colors ${v?"bg-amber-900 border-amber-500 text-amber-100 animate-pulse":"bg-stone-800 border-stone-600 text-stone-400"}`,children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:v,onChange:he=>b(he.target.checked)}),s.jsx("span",{className:"text-sm md:text-base",children:""})]}),s.jsx(up,{config:u.consumables.healthPotion,onConfigure:E})]})]})]}),s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-24 w-64 h-32 pointer-events-none flex items-end justify-center",children:W.filter(he=>he.y>0).map(he=>s.jsx("div",{className:`absolute font-black text-2xl damage-text-shadow animate-float-up z-50 whitespace-nowrap ${he.type==="heal"?"text-green-400":he.type==="miss"?"text-stone-500":"text-red-500"}`,style:{transform:`translate(${he.x}px, ${he.y-100}px)`},children:he.text},he.id))})]}),be=()=>s.jsxs("div",{className:"fixed z-30 pointer-events-auto flex flex-col font-sans text-xs transition-opacity md:bottom-6 md:left-4 md:right-auto md:w-96 md:h-48 md:rounded-lg md:opacity-80 md:hover:opacity-100 bottom-6 left-2 right-2 h-24 opacity-80 pointer-events-none",children:[s.jsx("div",{className:"bg-black/60 backdrop-blur-sm px-3 py-1 text-stone-500 uppercase font-bold text-[10px] border-stone-800 flex justify-between md:rounded-t-lg md:border-t md:border-x border-t rounded-t-lg border-x",children:s.jsx("span",{children:""})}),s.jsxs("div",{ref:se,className:"flex-1 bg-black/40 backdrop-blur-sm border-stone-800 overflow-y-auto scrollbar-hide flex flex-col gap-1 shadow-lg p-3 md:border md:rounded-b-lg border-b border-x rounded-b-lg",children:[r.map(he=>s.jsxs("div",{className:`leading-snug break-words flex items-start gap-1 ${he.isCrit?"font-black":""} ${he.type==="playerAction"?he.isCrit?"text-amber-400":"text-stone-300":he.type==="enemyAction"?he.isCrit?"text-red-500":"text-red-400":he.type==="skill"?he.isCrit?"text-amber-400":"text-blue-300":he.type==="reward"?"text-amber-300":he.type==="heal"?"text-green-400":he.type==="luckPositive"?"text-amber-400":he.type==="luckNegative"?"text-purple-400":"text-stone-500"}`,children:[s.jsxs("span",{className:"text-stone-500 font-mono text-[9px] md:text-[10px] shrink-0 mt-0.5",children:["[",new Date(he.timestamp).toLocaleTimeString([],{hour12:!1,minute:"2-digit",second:"2-digit"}),"]"]}),s.jsxs("div",{className:"flex-1",children:[he.isCrit&&s.jsx("span",{className:"mr-1",children:""}),he.isMiss&&s.jsx("span",{className:"mr-1",children:""}),he.text.split(":::").map(($,Re)=>{if(Re%2===0)return $;const[Xe,xt]=$.split("|"),Xt=Vh[Xe]||"text-amber-200";return s.jsx("span",{className:`${Xt} font-bold`,children:xt},Re)})]})]},he.id)),s.jsx("div",{className:"h-4"})]})]});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 pointer-events-none z-30 transition-opacity duration-1000 enrage-vignette ${K?"opacity-100":"opacity-0"}`}),ve(),je(),Ce(),st(),be()]})},fp=w.memo(dp),mp={:"",:"",:"",:"",:"",:"",GM:""},xp={:"border-stone-700 shadow-2xl",:"border-blue-600 shadow-[0_0_15px_rgba(59,130,246,0.3)]",:"border-purple-600 shadow-[0_0_15px_rgba(168,85,247,0.3)]",:"border-amber-500 shadow-[0_0_20px_rgba(251,191,36,0.4)]",:"border-red-600 shadow-[0_0_25px_rgba(239,68,68,0.5)] animate-pulse-slow"},hp={:"text-stone-400",:"text-blue-400",:"text-purple-400",:"text-amber-400",:"text-red-500 font-black"},pp=({current:c,max:u})=>{const[f,r]=w.useState(c),m=Math.max(0,Math.min(100,c/u*100)),v=Math.max(0,Math.min(100,f/u*100));return w.useEffect(()=>{const b=setTimeout(()=>{r(c)},500);return()=>clearTimeout(b)},[c]),s.jsxs("div",{className:"relative w-full h-3 md:h-4 bg-stone-900 rounded border border-stone-800 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-stone-950"}),s.jsx("div",{className:"absolute h-full bg-amber-100 transition-all duration-700 ease-out",style:{width:`${v}%`}}),s.jsx("div",{className:"absolute h-full bg-gradient-to-r from-red-800 to-red-500 transition-all duration-200 ease-out",style:{width:`${m}%`}}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] md:text-[10px] font-bold text-white drop-shadow-md z-10",children:[c," / ",u]})]})},bp=({player:c,legacy:u})=>{const f=w.useMemo(()=>yt(c,u),[c,u]),r=w.useMemo(()=>u.selectedTitleId&&xs.find(v=>v.id===u.selectedTitleId)||null,[u.selectedTitleId]),m=r?xp[r.rarity]:"border-stone-700 shadow-2xl";return s.jsxs("div",{className:"flex flex-col gap-2 pointer-events-none",children:[s.jsxs("div",{className:`w-[140px] md:w-[300px] bg-stone-950/85 backdrop-blur-md border rounded-lg p-2 md:p-3 flex items-center gap-2 md:gap-3 transition-all pointer-events-auto ${m}`,children:[s.jsxs("div",{className:"hidden md:flex relative w-12 h-12 md:w-16 md:h-16 rounded bg-stone-900 border border-stone-800 items-center justify-center text-2xl md:text-3xl shadow-inner shrink-0 overflow-hidden",children:[mp[c.classType],(r==null?void 0:r.rarity)===""&&s.jsx("div",{className:"absolute inset-0 bg-red-500/10 animate-pulse"})]}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center gap-1 md:gap-1.5",children:[s.jsxs("div",{className:"flex items-baseline flex-wrap gap-x-1 md:gap-x-1.5 min-w-0",children:[r&&s.jsxs("span",{className:`text-[8px] md:text-[10px] font-black uppercase tracking-tighter shrink-0 ${hp[r.rarity]}`,children:["[",r.title,"]"]}),s.jsxs("span",{className:"text-stone-400 font-mono text-[9px] md:text-[11px] shrink-0",children:["Lv.",c.level]}),s.jsx("span",{className:"text-stone-100 font-bold font-fantasy tracking-wide truncate text-[10px] md:text-sm",children:c.name})]}),s.jsx(pp,{current:c.stats.hp,max:f.stats.maxHp})]})]}),c.activeEffects.length>0&&s.jsx("div",{className:"flex md:hidden flex-wrap gap-1 px-1 pointer-events-auto max-w-[140px] animate-fade-in",children:c.activeEffects.map(v=>s.jsx(cr,{effect:v},v.id))})]})},gp=w.memo(bp);var Dt=G0();const vp=[{key:"str",label:" (STR)",color:"text-red-400",icon:"",desc:" (ATK)"},{key:"vit",label:" (VIT)",color:"text-green-400",icon:"",desc:""},{key:"agi",label:" (AGI)",color:"text-emerald-400",icon:"",desc:""},{key:"int",label:" (INT)",color:"text-blue-400",icon:"",desc:" (MATK)"},{key:"luk",label:" (LUK)",color:"text-amber-400",icon:"",desc:""}],yp=({attr:c,finalVal:u,rawVal:f,addedVal:r,remainingPoints:m,onAllocate:v})=>{const{showGenericTooltip:b,hideTooltip:R}=pn(),S=u-(f+r);return s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${r>0?"bg-amber-900/10 border-amber-800/50":"bg-stone-900/20 border-stone-800/50 hover:bg-stone-900/40"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 cursor-help select-none",onMouseEnter:y=>b(c.label,c.desc,y.clientX,y.clientY),onMouseLeave:R,children:[s.jsx("span",{className:"text-base grayscale opacity-70",children:c.icon}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`text-xs font-bold ${c.color}`,children:c.label.split(" ")[0]}),s.jsx("span",{className:"text-[10px] text-stone-600 font-mono",children:c.label.split(" ")[1]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-baseline justify-end gap-1",children:[s.jsx("span",{className:`font-mono text-sm font-bold ${S>0?"text-green-400":"text-stone-200"}`,children:u}),S>0&&s.jsx("span",{className:"text-[9px] text-green-600 font-bold",children:"()"})]}),r>0&&s.jsxs("div",{className:"text-[10px] text-amber-500 font-bold",children:[": +",r]})]}),s.jsx("button",{onClick:()=>v(c.key),disabled:m<=0,className:`w-8 h-8 rounded-lg border flex items-center justify-center font-bold text-sm transition-all active:scale-90 ${m>0?"bg-stone-800 border-stone-600 text-stone-300 hover:border-amber-500 hover:text-amber-400":"bg-stone-900 border-stone-800 text-stone-700 cursor-not-allowed opacity-50"}`,children:"+"})]})]})},Sp=({player:c,legacy:u,onBatchAllocate:f,onClose:r})=>{const[m,v]=w.useState(1),[b,R]=w.useState({}),S=Object.values(b).reduce((W,Q)=>W+Q,0),y=c.statPoints-S,{stats:j,finalAttributes:E,rawAttributes:B}=w.useMemo(()=>yt(c,u),[c,u]),{stats:G}=w.useMemo(()=>{const W={...c,attributes:{...c.attributes}};return Object.entries(b).forEach(([Q,te])=>{W.attributes[Q]+=te}),yt(W,u)},[c,b,u]),ee=({label:W,oldVal:Q,newVal:te,unit:ue="",hasLegacyBonus:de})=>{const A=te-Q,H=ue==="%",D=H?Q.toFixed(1):Q,J=H?te.toFixed(1):te;return s.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-stone-800/50 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-stone-500 font-bold",children:W}),de&&s.jsx("span",{className:"text-[10px] text-amber-500",title:"",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`font-mono ${de?"text-amber-200":"text-stone-300"}`,children:[D,ue]}),A!==0&&s.jsxs("span",{className:"text-green-400 font-mono font-bold animate-pulse",children:[" ",J,ue]})]})]})},Y=(u.upgrades.legacy_atk||0)>0,le=(u.upgrades.legacy_hp||0)>0,se=(u.upgrades.legacy_gold||0)>0;return Dt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/85 backdrop-blur-sm p-4",onClick:r,children:s.jsxs("div",{className:"w-full max-w-4xl bg-stone-950 border border-stone-600 rounded-2xl shadow-2xl flex flex-col max-h-[90dvh] overflow-hidden",onClick:W=>W.stopPropagation(),children:[s.jsxs("div",{className:"bg-stone-900 p-4 border-b border-stone-800 flex justify-between items-center shrink-0",children:[s.jsxs("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em] flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:""})," "]}),s.jsx("button",{onClick:r,className:"text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]}),s.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8 overflow-y-auto scrollbar-hide",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-stone-900/50 p-4 rounded-xl border border-stone-800 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-stone-500 uppercase font-bold",children:""}),s.jsx("div",{className:"text-3xl font-mono font-bold text-amber-400",children:y})]}),s.jsx("div",{className:"flex bg-stone-950 rounded-lg p-1 gap-1 border border-stone-800",children:[1,10,-1].map(W=>s.jsx("button",{onClick:()=>v(W),className:`px-4 py-2 text-[10px] font-bold rounded-md transition-all ${m===W?"bg-amber-600 text-white":"text-stone-500 hover:bg-stone-900"}`,children:W===-1?"MAX":`+${W}`},W))})]}),s.jsx("div",{className:"space-y-2",children:vp.map(W=>s.jsx(yp,{attr:W,finalVal:E[W.key],rawVal:B[W.key],addedVal:b[W.key]||0,remainingPoints:y,onAllocate:Q=>{const te=m===-1?y:Math.min(m,y);te>0&&R(ue=>({...ue,[Q]:(ue[Q]||0)+te}))}},W.key))}),S>0&&s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:()=>R({}),className:"flex-1 py-3 bg-stone-900 border border-stone-700 text-stone-500 rounded-xl text-xs font-bold uppercase",children:""}),s.jsxs("button",{onClick:()=>{f(b),R({})},className:"flex-[2] py-3 bg-amber-600 border border-amber-500 text-white rounded-xl font-bold uppercase shadow-lg text-xs",children:[" (",S,")"]})]})]}),s.jsxs("div",{className:"bg-stone-900/20 rounded-xl border border-stone-800 p-5",children:[s.jsx("h3",{className:"text-[10px] font-bold text-stone-500 uppercase tracking-widest border-b border-stone-800 pb-3 mb-4",children:" ()"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ee,{label:" (HP)",oldVal:j.maxHp,newVal:G.maxHp,hasLegacyBonus:le}),s.jsx(ee,{label:" (ATK)",oldVal:j.atk,newVal:G.atk,hasLegacyBonus:Y}),s.jsx(ee,{label:" (MATK)",oldVal:j.matk,newVal:G.matk,hasLegacyBonus:Y}),s.jsx("div",{className:"h-px bg-stone-800/50 my-3"}),s.jsx(ee,{label:" (DEF)",oldVal:j.def,newVal:G.def}),s.jsx(ee,{label:" (MDEF)",oldVal:j.mdef,newVal:G.mdef}),s.jsx("div",{className:"h-px bg-stone-800/50 my-3"}),s.jsx(ee,{label:" (CRIT)",oldVal:j.crit,newVal:G.crit,unit:"%"}),s.jsx(ee,{label:" (CDMG)",oldVal:j.critDamage,newVal:G.critDamage,unit:"%"}),s.jsx(ee,{label:" (DODGE)",oldVal:j.dodge,newVal:G.dodge,unit:"%"}),s.jsx(ee,{label:" (HIT)",oldVal:j.hit,newVal:G.hit,unit:"%"}),s.jsx("div",{className:"h-px bg-stone-800/50 my-3"}),s.jsx(ee,{label:" (GOLD)",oldVal:j.goldBonus||0,newVal:G.goldBonus||0,unit:"%",hasLegacyBonus:se})]}),s.jsx("div",{className:"mt-6 p-3 bg-amber-900/10 border border-amber-900/30 rounded-lg",children:s.jsxs("p",{className:"text-[10px] text-amber-400 leading-relaxed font-serif italic flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:""})]})})]})]})]})}),document.body)},Np={[T.HEAD]:"",[T.BODY]:"",[T.LEGS]:"",[T.HANDS]:"",[T.FEET]:"",[T.BACK]:"",[T.MAIN_HAND]:"",[T.OFF_HAND]:"",[T.ACCESSORY]:"",[T.ACCESSORY_2]:""},jp={[T.HEAD]:"",[T.BODY]:"",[T.LEGS]:"",[T.HANDS]:"",[T.FEET]:"",[T.BACK]:"",[T.MAIN_HAND]:"",[T.OFF_HAND]:"",[T.ACCESSORY]:"",[T.ACCESSORY_2]:""},Ap=[{title:" (Arms)",slots:[T.MAIN_HAND,T.OFF_HAND]},{title:" (Armor)",slots:[T.HEAD,T.BODY,T.HANDS,T.LEGS,T.FEET,T.BACK]},{title:" (Accessories)",slots:[T.ACCESSORY,T.ACCESSORY_2]}],z0=c=>{switch(c){case"":return"text-red-500 border-red-600 bg-red-900/20 shadow-[0_0_10px_rgba(220,38,38,0.3)]";case"":return"text-amber-400 border-amber-600 bg-amber-900/20 shadow-[0_0_10px_rgba(234,179,8,0.2)]";case"":return"text-purple-400 border-purple-600 bg-purple-900/20 shadow-[0_0_10px_rgba(168,85,247,0.15)]";case"":return"text-blue-400 border-blue-600 bg-blue-900/20";default:return"text-stone-300 border-stone-600 bg-stone-800/50"}},H0=c=>{switch(c.slot){case T.HEAD:return"";case T.BODY:return"";case T.LEGS:return"";case T.HANDS:return"";case T.FEET:return"";case T.BACK:return"";case T.ACCESSORY:case T.ACCESSORY_2:return"";case T.OFF_HAND:return c.weaponType===oe.CATALYST?"":c.weaponType===oe.SWORD_1H?"":c.weaponType===oe.DAGGER?"":"";case T.MAIN_HAND:return c.weaponType===oe.BOW?"":c.weaponType===oe.CROSSBOW?"":c.weaponType===oe.STAFF_1H?"":c.weaponType===oe.STAFF_2H?"":c.weaponType===oe.AXE_1H?"":c.weaponType===oe.AXE_2H?"":c.weaponType===oe.DAGGER?"":c.weaponType===oe.SWORD_2H?"":c.weaponType===oe.SWORD_1H?"":"";default:return""}},Ep=({player:c,gameState:u,onEquip:f,onUnequip:r,onAutoEquip:m,onSell:v,onSellAll:b,onSort:R,onToggleLock:S,onClose:y})=>{const[j,E]=w.useState(null),[B,G]=w.useState(!1),ee=(Q,te)=>{Q.preventDefault(),u!=="COMBAT"&&E({x:Q.clientX,y:Q.clientY,item:te})},Y=()=>{j&&(v(j.item),E(null))},le=()=>{j&&(S(j.item),E(null))},se=()=>{B?(b(),G(!1)):(G(!0),setTimeout(()=>G(!1),3e3))},W=Q=>{const te=c.equipment[Q];return s.jsx("div",{className:"w-20 h-20 relative group",children:s.jsx(_0,{item:te,playerClass:c.classType,children:s.jsxs("div",{onClick:()=>te&&r(Q),className:`w-full h-full rounded-xl flex flex-col items-center justify-center relative transition-all duration-200 select-none
                          ${te?`border-2 cursor-pointer hover:scale-105 hover:shadow-lg hover:z-10 ${z0(te.rarity)}`:"bg-stone-900/30 border-2 border-dashed border-stone-800 cursor-default hover:bg-stone-900/50"}`,children:[s.jsx("span",{className:`text-[9px] uppercase tracking-wider font-bold absolute top-1.5 
                          ${te?"text-stone-400 opacity-80":"text-stone-600"}`,children:Np[Q]}),s.jsx("div",{className:`text-3xl transition-all duration-300 mt-1
                          ${te?"filter drop-shadow-md scale-110 opacity-100":"opacity-20 grayscale scale-90"}`,children:te?H0(te):jp[Q]}),te&&s.jsx("span",{className:"absolute bottom-1.5 px-1.5 max-w-[90%] text-[9px] bg-black/60 rounded text-stone-200 truncate backdrop-blur-[1px]",children:te.name}),te&&s.jsx("div",{className:"absolute inset-0 bg-black/70 hidden group-hover:flex items-center justify-center text-xs text-red-400 font-bold backdrop-blur-[1px] rounded-[10px] z-20",children:""})]})})},Q)};return Dt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in",onClick:y,children:s.jsxs("div",{className:"w-full max-w-4xl bg-stone-950 border border-stone-600 rounded-xl shadow-2xl flex flex-col h-[85vh] overflow-hidden relative",onClick:Q=>Q.stopPropagation(),children:[s.jsxs("div",{className:"bg-stone-900 p-4 md:p-5 border-b border-stone-800 flex justify-between items-center shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl text-amber-500",children:""}),s.jsx("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em]",children:""})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1.5 bg-black/40 px-3 py-1 rounded border border-stone-800",children:[s.jsx("span",{className:"text-amber-500",children:""}),s.jsx("span",{className:"text-amber-100 font-bold",children:c.gold.toLocaleString()})]}),s.jsx("button",{onClick:y,className:"text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]})]}),s.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto scrollbar-hide space-y-6 flex-1 bg-stone-950 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')]",children:[s.jsx("div",{className:"bg-stone-900/60 rounded-xl p-4 border border-stone-800",children:s.jsx("div",{className:"flex flex-wrap justify-center items-start gap-8 md:gap-16",children:Ap.map((Q,te)=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("h4",{className:"text-stone-500 font-fantasy text-[10px] uppercase tracking-[0.2em] mb-3 border-b border-stone-700/50 pb-1 w-full text-center",children:Q.title}),s.jsx("div",{className:"flex flex-wrap justify-center gap-3 max-w-[260px]",children:Q.slots.map(ue=>W(ue))})]},te))})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-3 px-1",children:[s.jsxs("h4",{className:"text-stone-400 font-bold text-sm flex items-center gap-2",children:[s.jsx("span",{children:""}),"",s.jsxs("span",{className:"text-stone-600 text-xs font-normal",children:["(",c.inventory.length,"/)"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:R,className:"text-[10px] md:text-xs px-3 py-1.5 bg-stone-800 rounded border border-stone-700 hover:text-amber-300 hover:border-amber-700 transition-colors",children:""}),s.jsx("button",{onClick:m,className:"text-[10px] md:text-xs px-3 py-1.5 bg-stone-800 rounded border border-stone-700 hover:text-amber-300 hover:border-amber-700 transition-colors active:scale-95",children:""}),s.jsx("button",{onClick:se,className:`text-[10px] md:text-xs px-3 py-1.5 bg-stone-800 rounded border border-stone-700 transition-colors ${B?"text-red-400 border-red-800 bg-red-900/20":"hover:text-red-300 hover:border-red-800"}`,children:B?"?":""})]})]}),s.jsxs("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-2",children:[c.inventory.map(Q=>{const te=c.equipment[Q.slot];return s.jsx(_0,{item:Q,compareItem:te,playerClass:c.classType,children:s.jsxs("div",{onClick:()=>{f(Q),E(null)},onContextMenu:ue=>ee(ue,Q),className:`aspect-square border rounded-lg flex items-center justify-center cursor-pointer relative group hover:scale-105 transition-transform bg-stone-900 shadow-md ${z0(Q.rarity)}`,children:[s.jsx("span",{className:"text-2xl filter drop-shadow-sm",children:H0(Q)}),Q.isLocked&&s.jsx("div",{className:"absolute top-0.5 right-0.5 w-4 h-4 bg-stone-950/80 rounded-full flex items-center justify-center border border-stone-700",children:s.jsx("span",{className:"text-[8px]",children:""})}),s.jsx("div",{className:"absolute inset-0 bg-black/60 hidden group-hover:flex items-center justify-center text-[10px] font-bold backdrop-blur-[1px] rounded-lg text-green-400",children:""})]})},Q.id)}),Array.from({length:Math.max(0,40-c.inventory.length)}).map((Q,te)=>s.jsx("div",{className:"aspect-square border border-stone-800/30 bg-stone-900/20 rounded-lg flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 rounded-full bg-stone-800/50"})},`empty-${te}`))]})]})]}),j&&Dt.createPortal(s.jsxs("div",{className:"fixed bg-stone-800 border border-stone-600 rounded shadow-2xl py-1 z-[250] min-w-[140px] animate-fade-in",style:{top:j.y,left:j.x},onClick:Q=>Q.stopPropagation(),children:[s.jsx("div",{className:"px-3 py-1.5 border-b border-stone-700 mb-1 text-xs font-bold text-stone-400 truncate max-w-[150px]",children:j.item.name}),s.jsx("button",{onClick:le,className:"w-full text-left px-3 py-2 text-xs hover:bg-stone-700 text-stone-300 transition-colors",children:j.item.isLocked?"  (Unlock)":"  (Lock)"}),s.jsxs("button",{onClick:Y,disabled:j.item.isLocked,className:"w-full text-left px-3 py-2 text-xs hover:bg-stone-700 text-amber-400 disabled:opacity-50 transition-colors",children:["  (+",ir(j.item),")"]}),s.jsx("div",{className:"border-t border-stone-700 my-1"}),s.jsx("button",{onClick:()=>E(null),className:"w-full text-left px-3 py-2 text-xs hover:bg-stone-700 text-stone-500 transition-colors",children:"  (Cancel)"})]}),document.body)]})}),document.body)},_p={damage:{label:"",color:"text-red-400 border-red-900/50 bg-red-900/10",icon:""},heal:{label:"",color:"text-green-400 border-green-900/50 bg-green-900/10",icon:""},buff:{label:"",color:"text-blue-400 border-blue-900/50 bg-blue-900/10",icon:""},debuff:{label:"",color:"text-purple-400 border-purple-900/50 bg-purple-900/10",icon:""},dot:{label:"",color:"text-orange-400 border-orange-900/50 bg-orange-900/10",icon:""},stun:{label:"",color:"text-yellow-400 border-yellow-900/50 bg-yellow-900/10",icon:""}},Tp=({player:c,onClose:u})=>{const f=w.useMemo(()=>[...Y0[c.classType]].sort((b,R)=>b.unlockLevel-R.unlockLevel),[c.classType]),r=b=>b.triggerChance<=.05?{label:"",color:"text-amber-500"}:b.unlockLevel===1?{label:"",color:"text-stone-400"}:{label:"",color:"text-stone-200"},m=b=>b.type!=="damage"&&b.type!=="heal"?null:b.damageType==="magic"?{attr:"INT",color:"text-blue-400",label:""}:{attr:"STR",color:"text-red-400",label:""},v=b=>{const R=c.level>=b.unlockLevel,S=_p[b.type],y=r(b),j=m(b);return s.jsxs("div",{className:`relative p-4 rounded-xl border transition-all duration-300 group
              ${R?"bg-stone-900/60 border-stone-800 hover:border-amber-900/50 hover:bg-stone-900":"bg-stone-950/50 border-stone-900 opacity-50 grayscale"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-[9px] font-black uppercase tracking-[0.2em] ${y.color}`,children:y.label}),R&&j&&s.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded bg-black/40 border border-stone-800 ${j.color}`,children:s.jsxs("span",{className:"text-[8px] font-bold",children:[j.attr," ",j.label]})})]}),s.jsx("span",{className:`text-[10px] font-mono font-bold ${R?"text-amber-500":"text-stone-600"}`,children:R?`${(b.triggerChance*100).toFixed(0)}% `:`Lv.${b.unlockLevel} `})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:`w-14 h-14 shrink-0 rounded-lg flex items-center justify-center text-3xl border shadow-inner transition-transform group-hover:scale-105
                      ${R?"bg-black border-stone-700 text-white":"bg-stone-900 border-stone-800 text-stone-700"}`,children:S.icon}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:`text-base font-bold truncate ${R?"text-stone-100":"text-stone-600"}`,children:b.name}),s.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded border font-bold uppercase ${S.color}`,children:S.label})]}),s.jsx("p",{className:`text-xs leading-relaxed mb-2 italic ${R?"text-stone-400":"text-stone-700"}`,children:b.description}),R&&s.jsxs("div",{className:"space-y-1 mt-2 pt-2 border-t border-stone-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[s.jsx("span",{className:"text-stone-500 font-bold uppercase tracking-tighter",children:":"}),s.jsxs("span",{className:"text-stone-300",children:[b.power*100,"%",b.hits&&b.hits>1?`  ${b.hits} `:" "]})]}),j&&s.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[s.jsx("span",{className:"text-stone-500 font-bold uppercase tracking-tighter",children:":"}),s.jsxs("span",{className:j.color,children:["+",c.attributes[j.attr.toLowerCase()]*2.5,"  ( ",j.attr,")"]})]})]})]})]}),!R&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"bg-black/80 px-4 py-2 rounded-lg border border-stone-800 text-stone-500 text-[10px] font-bold uppercase tracking-[0.3em]",children:["LOCKED AT LV.",b.unlockLevel]})})]},b.name)};return Dt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in",onClick:u,children:s.jsxs("div",{className:"w-full max-w-2xl bg-stone-950 border border-stone-600 rounded-2xl shadow-2xl flex flex-col h-[80vh] overflow-hidden relative animate-scale-in",onClick:b=>b.stopPropagation(),children:[s.jsxs("div",{className:"bg-stone-900 p-4 md:p-5 border-b border-stone-800 flex justify-between items-center shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl text-amber-500",children:""}),s.jsx("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em]",children:""})]}),s.jsx("button",{onClick:u,className:"text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]}),s.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-hide space-y-4 flex-1 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')]",children:[s.jsx("div",{className:"grid grid-cols-1 gap-4",children:f.map(b=>v(b))}),s.jsx("div",{className:"mt-8 p-4 bg-stone-900/40 rounded-lg border border-stone-800 border-dashed text-center",children:s.jsx("p",{className:"text-[10px] text-stone-500 italic",children:"  (Mastery)  v4.3.4 "})})]})]})}),document.body)},wp=c=>{switch(c){case"":return"text-red-500 border-red-600 bg-red-950/40 shadow-[0_0_20px_rgba(220,38,38,0.4)]";case"":return"text-amber-400 border-amber-600 bg-amber-900/30 shadow-[0_0_15px_rgba(245,158,11,0.3)]";case"":return"text-purple-400 border-purple-600 bg-purple-900/20 shadow-[0_0_10px_rgba(168,85,247,0.2)]";case"":return"text-blue-400 border-blue-600 bg-blue-900/20";default:return"text-stone-400 border-stone-700 bg-stone-800/30"}},Mp={:"#ef4444",:"#fbbf24",:"#a855f7",:"#3b82f6",:"#78716c"},B0={:5,:4,:3,:2,:1},Cp=c=>{switch(c.slot){case T.HEAD:return"";case T.BODY:return"";case T.LEGS:return"";case T.HANDS:return"";case T.FEET:return"";case T.BACK:return"";case T.ACCESSORY:case T.ACCESSORY_2:return"";case T.OFF_HAND:return c.weaponType===oe.CATALYST?"":c.weaponType===oe.SWORD_1H?"":c.weaponType===oe.DAGGER?"":"";case T.MAIN_HAND:return c.weaponType===oe.BOW?"":c.weaponType===oe.CROSSBOW?"":c.weaponType===oe.STAFF_1H?"":c.weaponType===oe.STAFF_2H?"":c.weaponType===oe.AXE_1H?"":c.weaponType===oe.AXE_2H?"":c.weaponType===oe.DAGGER?"":c.weaponType===oe.SWORD_2H?"":c.weaponType===oe.SWORD_1H?"":"";default:return""}},Z0=({items:c,onClose:u,onPullAgain:f,pullCount:r,canAfford:m})=>{const[v,b]=w.useState("chest"),{showTooltip:R,hideTooltip:S}=pn(),y=w.useMemo(()=>c.reduce((B,G)=>{const ee=B0[B]||0;return(B0[G.rarity]||0)>ee?G.rarity:B},""),[c]),j=Mp[y];w.useEffect(()=>{if(v==="chest"){const B=setTimeout(()=>b("reveal"),1800);return()=>clearTimeout(B)}},[v]);const E=()=>{b("chest"),f()};return Dt.createPortal(s.jsxs("div",{className:"fixed inset-0 z-[300] bg-black/95 flex flex-col items-center justify-center animate-fade-in px-4",onClick:B=>B.stopPropagation(),children:[s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[200vw] h-[200vw] animate-gacha-rays opacity-20",style:{background:`conic-gradient(from 0deg, transparent 0deg, ${j}22 20deg, transparent 40deg)`}})}),v==="chest"&&s.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[0,72,144,216,288].map((B,G)=>s.jsx("div",{className:"absolute h-[2px] animate-gacha-ray-burst rounded-full",style:{"--rotation":`${B}deg`,backgroundColor:j,boxShadow:`0 0 40px ${j}`,animationDelay:`${G*100}ms`}},G))}),s.jsx("div",{className:"text-[100px] md:text-[150px] animate-gacha-shake drop-shadow-[0_0_50px_rgba(0,0,0,0.8)] relative z-20",children:""})]}),v==="reveal"&&s.jsxs("div",{className:"relative z-10 w-full max-w-5xl flex flex-col items-center h-full justify-center py-8",children:[s.jsx("h2",{className:"text-xl md:text-3xl font-bold text-stone-200 mb-6 md:mb-10 drop-shadow-lg",children:""}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 md:gap-4 w-full overflow-y-auto max-h-[60vh] md:max-h-none scrollbar-hide px-2",children:c.map((B,G)=>s.jsxs("div",{className:`relative group w-full aspect-[4/5] flex flex-col items-center justify-center bg-stone-900 border-2 rounded-xl shadow-2xl transition-transform hover:scale-105 cursor-help opacity-0 animate-item-pop ${wp(B.rarity)}`,style:{animationDelay:`${G*80}ms`},onMouseEnter:ee=>R(B,ee.clientX,ee.clientY),onMouseLeave:S,children:[s.jsx("span",{className:"text-3xl md:text-5xl mb-2 drop-shadow-md",children:Cp(B)}),s.jsxs("div",{className:"text-center px-2",children:[s.jsx("div",{className:"text-[8px] md:text-[10px] uppercase font-bold tracking-wider opacity-70",children:B.rarity}),s.jsx("div",{className:"text-[10px] md:text-xs font-bold leading-tight line-clamp-2",children:B.name})]})]},B.id))}),s.jsxs("div",{className:"mt-8 md:mt-12 flex flex-wrap justify-center gap-4",children:[s.jsx("button",{onClick:u,className:"px-10 md:px-16 py-3 bg-stone-800 hover:bg-stone-700 border border-stone-600 rounded-full text-base md:text-xl font-bold text-stone-200 transition-all hover:scale-105 active:scale-95 shadow-[0_0_20px_rgba(0,0,0,0.5)]",children:""}),r>0&&f&&s.jsxs("button",{onClick:E,disabled:!m,className:`px-10 md:px-16 py-3 border rounded-full text-base md:text-xl font-bold transition-all hover:scale-105 active:scale-95 shadow-[0_0_20px_rgba(0,0,0,0.5)] 
                                    ${m?"bg-amber-700 hover:bg-amber-600 border-amber-500 text-white":"bg-stone-900 border-stone-800 text-stone-600 opacity-50 cursor-not-allowed"}`,children:[" ",r===10?"10 ":"1 "]})]})]})]}),document.body)},Op=({player:c,onBuyItem:u,onClose:f})=>{const r=w.useMemo(()=>K0(c.towerFloor),[c.towerFloor]),[m,v]=w.useState(null),[b,R]=w.useState(null),[S,y]=w.useState(1),j=(Y,le)=>{const se=u(Y.id,le);Y.type==="gacha_box"&&se.length>0&&(v(se),R(Y.id),y(le))},E=()=>{if(b){const Y=u(b,S);Y.length>0&&v(Y)}},B=w.useMemo(()=>{if(!b)return!1;const Y=r.find(le=>le.id===b);return Y?c.gold>=Y.price*S:!1},[c.gold,b,S,r]),G=Y=>Y==="potion_small"?c.consumables.healthPotion.count:Object.prototype.hasOwnProperty.call(c.consumables.inventory,Y)?c.consumables.inventory[Y]:null,ee=(Y,le)=>Y?le?"bg-amber-900/30 border-amber-700/50 text-amber-100 hover:bg-amber-800/40 hover:border-amber-500 shadow-[0_0_10px_rgba(251,191,36,0.1)]":"bg-stone-800 border-stone-700 text-stone-200 hover:bg-stone-700 hover:text-white":"bg-stone-950 border-stone-900 text-stone-700 cursor-not-allowed opacity-50";return Dt.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/85 backdrop-blur-sm p-4 animate-fade-in",onClick:f,children:s.jsxs("div",{className:"w-full max-w-4xl bg-stone-950 border border-stone-600 rounded-2xl shadow-2xl flex flex-col h-fit max-h-[90dvh] overflow-hidden relative animate-scale-in",onClick:Y=>Y.stopPropagation(),children:[s.jsxs("div",{className:"bg-stone-900 p-4 md:p-5 border-b border-stone-800 flex justify-between items-center shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl text-amber-500",children:""}),s.jsx("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em]",children:""})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1.5 bg-black/40 px-3 py-1 rounded border border-stone-800",children:[s.jsx("span",{className:"text-amber-500",children:""}),s.jsx("span",{className:"text-amber-100 font-bold",children:c.gold.toLocaleString()})]}),s.jsx("button",{onClick:f,className:"text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]})]}),s.jsx("div",{className:"p-4 md:p-6 overflow-y-auto scrollbar-hide bg-stone-950 flex-1 min-h-0 relative",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 pb-4",children:r.map(Y=>{const le=Y.type==="gacha_box",se=G(Y.id),W=c.gold>=Y.price,Q=c.gold>=Y.price*10;return s.jsxs("div",{className:`relative flex flex-col p-4 rounded-xl border transition-all duration-300 group
                                        ${le?"bg-stone-900/40 border-amber-900/30 hover:border-amber-500/60 shadow-lg":"bg-stone-900/20 border-stone-800 hover:border-stone-600"}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[s.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center text-3xl shadow-inner border border-white/5 shrink-0
                                            ${le?"bg-amber-950/20":"bg-black/20"}`,children:Y.icon}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:`font-bold text-sm md:text-base truncate ${le?"text-amber-200":"text-stone-200"}`,children:Y.name}),se!==null&&s.jsxs("span",{className:"text-[9px] font-bold text-stone-500 bg-stone-800/50 px-1.5 py-0.5 rounded border border-stone-700/50",children:[": ",se]})]}),s.jsx("div",{className:"text-[10px] font-mono text-stone-400 bg-black/40 inline-block px-1.5 py-0.5 rounded-md mt-1 border border-stone-800",children:Y.effectDisplay})]})]}),s.jsx("p",{className:"text-stone-500 text-xs italic mb-4 leading-relaxed flex-1",children:Y.description}),s.jsxs("div",{className:"mt-auto flex flex-col gap-2",children:[s.jsxs("button",{onClick:()=>j(Y,1),disabled:!W,className:`w-full py-2.5 px-3 rounded-lg flex items-center justify-between text-xs font-bold border transition-all active:scale-95 ${ee(W,le)}`,children:[s.jsx("div",{className:"flex items-center gap-1",children:s.jsx("span",{children:"  1x"})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-amber-500",children:""}),s.jsx("span",{className:W?"text-amber-400 font-mono":"",children:Y.price.toLocaleString()})]})]}),s.jsxs("button",{onClick:()=>j(Y,10),disabled:!Q,className:`w-full py-2.5 px-3 rounded-lg flex items-center justify-between text-xs font-bold border transition-all active:scale-95 ${ee(Q,le)}`,children:[s.jsx("span",{children:le?" 10 ":"  10x"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-amber-500",children:""}),s.jsx("span",{className:Q?"text-amber-400 font-mono":"",children:(Y.price*10).toLocaleString()})]})]})]})]},Y.id)})})}),s.jsxs("div",{className:"bg-stone-900/80 p-3 border-t border-stone-800 text-center flex items-center justify-center gap-4 text-[10px] text-stone-500 font-mono shrink-0",children:[s.jsxs("span",{className:"opacity-70",children:[": ",s.jsxs("span",{className:"text-amber-600/80",children:["+",((Math.pow(1.1,Math.max(1,c.towerFloor)-1)-1)*100).toFixed(0),"%"]})]}),s.jsx("span",{className:"w-1 h-1 rounded-full bg-stone-700"}),s.jsxs("span",{className:"opacity-70",children:[": ",s.jsxs("span",{className:"text-stone-400",children:[c.towerFloor,"F"]})]})]})]})}),m&&s.jsx(Z0,{items:m,onClose:()=>v(null),onPullAgain:E,pullCount:S,canAfford:B})]}),document.body)},kp={[ge.PLAINS]:"",[ge.FOREST]:"",[ge.DESERT]:"",[ge.CAVE]:"",[ge.TOWER]:""},Rp={[T.HEAD]:"",[T.BODY]:"",[T.LEGS]:"",[T.HANDS]:"",[T.FEET]:"",[T.BACK]:"",[T.MAIN_HAND]:"",[T.OFF_HAND]:"",[T.ACCESSORY]:"",[T.ACCESSORY_2]:""},dn=[ge.PLAINS,ge.FOREST,ge.DESERT,ge.CAVE,ge.TOWER],Dp=({player:c,activeLocation:u,activeAnomalies:f={},onSelect:r,onClose:m})=>{const v=u?dn.indexOf(u):0,[b,R]=w.useState(v>=0?v:0),[S,y]=w.useState(null),{showGenericTooltip:j,hideTooltip:E}=pn(),B=dn[b],G=hs[B],ee=f[B],Y=c.level<G.recommendedLevel,le=B===ge.TOWER,se=ee===Be.VOID_GLITCH||ee===Be.HARVEST_ERA,W=()=>{b<dn.length-1&&(y("right"),R(de=>de+1))},Q=()=>{b>0&&(y("left"),R(de=>de-1))},te=()=>{Y||r(B)};w.useEffect(()=>{const de=setTimeout(()=>y(null),300);return()=>clearTimeout(de)},[b]);const ue=de=>{const A=jt[de];return s.jsxs("div",{className:"space-y-3 min-w-[180px]",children:[s.jsx("p",{className:"text-xs text-stone-400 italic leading-relaxed border-b border-stone-800 pb-2 mb-2",children:A.description}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-red-500 font-bold text-[10px]",children:" "}),s.jsx("span",{className:"text-[11px] text-stone-200 font-bold",children:A.monsterEffect})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-500 font-bold text-[10px]",children:" "}),s.jsx("span",{className:"text-[11px] text-stone-200 font-bold",children:A.playerEffect})]})]})]})};return Dt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[150] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",onClick:m,children:s.jsxs("div",{className:"w-full max-w-xl flex flex-col items-center relative",onClick:de=>de.stopPropagation(),children:[s.jsxs("h2",{className:"text-3xl font-fantasy text-stone-200 mb-8 flex items-center gap-3 drop-shadow-lg",children:[s.jsx("span",{className:"text-amber-500",children:""}),""]}),s.jsxs("div",{className:"flex items-center justify-between w-full gap-4",children:[s.jsx("button",{onClick:Q,disabled:b===0,className:`p-4 rounded-full border transition-all duration-200 text-2xl
                            ${b===0?"border-stone-800 text-stone-700 opacity-30 cursor-not-allowed":"bg-stone-900 border-stone-600 text-stone-400 hover:text-amber-400 hover:border-amber-500 hover:scale-110 shadow-lg"}`,children:""}),s.jsxs("div",{className:`relative w-full max-sm:aspect-[3/4] aspect-[4/3] rounded-2xl border-2 transition-all duration-300 flex flex-col overflow-hidden shadow-[0_0_30px_rgba(0,0,0,0.5)] group
                            ${S==="right"?"animate-slide-in-right":S==="left"?"animate-slide-in-left":""}
                            ${le?"bg-gradient-to-br from-red-950 to-stone-950 border-red-800 shadow-[0_0_30px_rgba(220,38,38,0.15)]":"bg-gradient-to-br from-stone-900 to-stone-950 border-stone-700"}`,style:ee?{borderColor:jt[ee].color}:{},children:[s.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')]"}),ee&&s.jsx("div",{className:"absolute inset-0 opacity-[0.07] pointer-events-none",style:{backgroundColor:jt[ee].color}}),s.jsxs("div",{className:"p-4 flex justify-between items-start z-10",children:[s.jsx("div",{className:`px-3 py-1 rounded text-xs font-bold font-mono border
                                ${Y?"bg-stone-950 text-stone-500 border-stone-800":le?"bg-red-900/40 text-red-400 border-red-800":"bg-green-900/20 text-green-400 border-green-800"}`,children:Y?`  Lv.${G.recommendedLevel}`:` Lv.${G.recommendedLevel}`}),ee&&s.jsxs("div",{onMouseEnter:de=>{ee&&j(`${jt[ee].name}`,ue(ee),de.clientX,de.clientY)},onMouseLeave:E,className:`px-3 py-1 rounded text-[10px] font-black shadow-lg border cursor-help ring-1 ring-black/5 transition-transform hover:scale-110
                                        ${se?"text-stone-900 border-black/10":"text-white border-white/20"}`,style:{backgroundColor:jt[ee].color},children:["[!] ",jt[ee].name]}),u===B&&!ee&&s.jsx("div",{className:"px-3 py-1 rounded text-xs font-bold bg-amber-600 text-white shadow-lg animate-pulse",children:""})]}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center z-10 -mt-8",children:[s.jsx("div",{className:`text-8xl md:text-9xl mb-4 transition-transform duration-500 drop-shadow-2xl grayscale-0
                                ${Y?"grayscale opacity-30 blur-sm":""}`,children:kp[B]}),s.jsx("h3",{className:`text-3xl font-fantasy font-bold tracking-widest uppercase text-center
                                ${le?"text-red-500 drop-shadow-[0_0_10px_rgba(220,38,38,0.5)]":"text-stone-200"}`,children:G.name})]}),s.jsxs("div",{className:"bg-black/80 backdrop-blur-md p-4 border-t border-white/10 z-10 flex flex-col items-center gap-1.5 text-center",children:[s.jsx("p",{className:"text-stone-300 font-serif italic text-sm leading-snug",children:G.description}),s.jsx("div",{className:"text-xs w-full border-t border-white/5 pt-1.5 mt-0.5",children:ee?s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("span",{className:"font-bold text-[10px] uppercase tracking-[0.2em]",style:{color:jt[ee].color},children:["",jt[ee].name," ()"]})}):le?s.jsx("span",{className:"text-red-400 font-bold tracking-wider animate-pulse",children:"   "}):s.jsxs("span",{className:"text-stone-500 font-mono text-[10px] md:text-xs",children:[": ",s.jsx("span",{className:"text-amber-500 font-bold ml-1",children:G.dropSlots.map(de=>Rp[de]).join("")})]})})]}),Y&&s.jsxs("div",{className:"absolute inset-0 z-20 bg-black/60 backdrop-blur-[2px] flex flex-col items-center justify-center",children:[s.jsx("span",{className:"text-6xl mb-2",children:""}),s.jsx("span",{className:"text-stone-400 font-bold tracking-widest uppercase",children:"Locked"})]})]}),s.jsx("button",{onClick:W,disabled:b===dn.length-1,className:`p-4 rounded-full border transition-all duration-200 text-2xl
                            ${b===dn.length-1?"border-stone-800 text-stone-700 opacity-30 cursor-not-allowed":"bg-stone-900 border-stone-600 text-stone-400 hover:text-amber-400 hover:border-amber-500 hover:scale-110 shadow-lg"}`,children:""})]}),s.jsx("button",{onClick:te,disabled:Y||u===B,className:`mt-8 px-12 py-4 rounded-lg font-bold text-lg tracking-[0.2em] uppercase transition-all shadow-xl
                        ${Y?"bg-stone-900 text-stone-600 border border-stone-800 cursor-not-allowed":u===B?"bg-stone-800 text-stone-500 border border-stone-700 cursor-default":le?"bg-red-900 border border-red-700 text-red-100 hover:bg-red-800 hover:scale-105 hover:shadow-[0_0_20px_rgba(220,38,38,0.4)]":"bg-amber-700 border border-amber-600 text-amber-100 hover:bg-amber-600 hover:scale-105 hover:shadow-[0_0_20px_rgba(245,158,11,0.3)]"}`,children:u===B?"":""}),s.jsx("div",{className:"flex gap-2 mt-6",children:dn.map((de,A)=>s.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300
                                ${A===b?le?"bg-red-500 w-4":"bg-amber-500 w-4":"bg-stone-800"}`},A))})]})}),document.body)},zp={[re.KNIGHT]:"text-blue-400",[re.WARRIOR]:"text-red-400",[re.ROGUE]:"text-stone-400",[re.ARCHER]:"text-emerald-400",[re.MAGE]:"text-purple-400",[re.BEATER]:"text-indigo-400",[re.KAYABA]:"text-white"},Hp={:"border-stone-800 text-stone-400",:"border-blue-800 text-blue-400 shadow-[0_0_10px_rgba(59,130,246,0.2)]",:"border-purple-800 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.2)]",:"border-amber-700 text-amber-400 shadow-[0_0_15px_rgba(251,191,36,0.3)]",:"border-red-700 text-red-500 shadow-[0_0_20px_rgba(239,68,68,0.4)] animate-pulse-slow"},Bp=({legacy:c,onClaim:u,onSelectTitle:f,onClose:r})=>Dt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in",onClick:r,children:s.jsxs("div",{className:"w-full max-w-4xl bg-stone-950/80 border border-stone-800 rounded-2xl shadow-2xl flex flex-col h-[85vh] overflow-hidden relative animate-scale-in",onClick:m=>m.stopPropagation(),children:[s.jsxs("div",{className:"bg-stone-900/50 p-6 border-b border-stone-800 flex justify-between items-center shrink-0",children:[s.jsx("div",{children:s.jsxs("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em] flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:""})," "]})}),s.jsx("button",{onClick:r,className:"text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]}),s.jsx("div",{className:"p-6 overflow-y-auto scrollbar-hide flex-1 bg-stone-950/20 space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:xs.map(m=>{const v=c.achievements[m.id],b=!!(v!=null&&v.unlockedAt),R=!!(v!=null&&v.claimed),S=c.selectedTitleId===m.id,y=m.targetClass?zp[m.targetClass]:"text-amber-500",j=Hp[m.rarity];return s.jsxs("div",{className:`p-4 rounded-xl border flex gap-4 transition-all duration-300 relative overflow-hidden
                    ${b?`bg-stone-900/60 ${j.split(" ")[0]} ${S?"ring-2 ring-white/20":""}`:"bg-stone-900/20 border-stone-800 opacity-40"}`,children:[s.jsx("div",{className:`w-14 h-14 md:w-16 md:h-16 rounded-xl border flex items-center justify-center text-3xl shrink-0
                    ${b?`bg-black/40 ${y}`:"bg-stone-950 border-stone-800 text-stone-700"}`,children:m.rarity===""?"":m.rarity===""?"":m.type==="class_level"?"":""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h3",{className:`font-bold text-sm md:text-base truncate ${b?"text-stone-100":"text-stone-600"}`,children:m.title}),s.jsxs("span",{className:`text-[8px] font-black uppercase tracking-widest ${j.split(" ")[1]}`,children:["[",m.rarity,"]"]})]}),s.jsxs("div",{className:"flex gap-2",children:[b&&!R&&s.jsx("button",{onClick:()=>u(m.id),className:"px-3 py-1 bg-amber-600 hover:bg-amber-500 text-white text-[10px] font-black uppercase rounded-lg shadow-lg active:scale-95 transition-all",children:""}),b&&s.jsx("button",{onClick:()=>f(S?null:m.id),className:`px-3 py-1 text-[10px] font-black uppercase rounded-lg shadow-lg active:scale-95 transition-all
                                    ${S?"bg-stone-700 text-stone-300 hover:bg-stone-600":"bg-blue-600 text-white hover:bg-blue-500"}`,children:S?"":""})]})]}),s.jsx("p",{className:`text-[10px] md:text-xs leading-relaxed ${b?"text-stone-400":"text-stone-700"}`,children:m.description})]}),R&&s.jsx("div",{className:"absolute bottom-2 right-2 opacity-30 text-green-500 text-[8px] font-black uppercase",children:"Reward Claimed"})]},m.id)})})})]})}),document.body),Up=({legacy:c,onClaimCheckIn:u,onCheckInSuccess:f,onClose:r})=>{const[m,v]=w.useState("weapon"),b=c.lastCheckInTimestamp,R=!b||new Date().toDateString()!==new Date(b).toDateString(),S=()=>{const y=u(m);y&&f(y)};return Dt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in",onClick:r,children:s.jsxs("div",{className:"w-full max-w-2xl bg-stone-950 border border-stone-800 rounded-2xl shadow-2xl flex flex-col h-auto overflow-hidden relative animate-scale-in",onClick:y=>y.stopPropagation(),children:[s.jsxs("div",{className:"relative h-40 bg-gradient-to-br from-stone-900 via-stone-800 to-stone-900 flex items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] opacity-30"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-950 to-transparent"}),s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsx("span",{className:"text-5xl mb-2 block animate-float",children:""}),s.jsx("h2",{className:"text-3xl font-fantasy font-black text-white tracking-[0.2em] uppercase",children:""}),s.jsx("p",{className:"text-stone-400 text-xs font-bold tracking-widest mt-1 uppercase opacity-70",children:"Choose Your Reward"})]})]}),s.jsxs("div",{className:"p-6 md:p-10 space-y-8 flex flex-col items-center",children:[s.jsxs("div",{className:"w-full text-center",children:[s.jsx("h3",{className:"text-stone-200 font-bold text-lg mb-2",children:""}),s.jsx("div",{className:"w-16 h-0.5 bg-amber-500/50 mx-auto rounded-full"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 md:gap-8 w-full",children:[s.jsxs("button",{onClick:()=>R&&v("weapon"),className:`relative p-6 rounded-2xl border-2 transition-all duration-300 flex flex-col items-center gap-3 group
                        ${m==="weapon"?"bg-amber-900/20 border-amber-500 shadow-[0_0_25px_rgba(245,158,11,0.2)]":"bg-stone-900/50 border-stone-800 hover:border-stone-600 opacity-60"}`,children:[s.jsx("div",{className:`text-5xl md:text-6xl transition-transform duration-500 ${m==="weapon"?"scale-110":"grayscale group-hover:grayscale-0"}`,children:""}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-fantasy font-black text-lg text-white tracking-widest uppercase",children:""}),s.jsx("div",{className:"text-[10px] font-bold text-amber-500 uppercase tracking-tighter",children:"Weapon Set x10"})]}),m==="weapon"&&s.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center text-[10px] text-black",children:""})]}),s.jsxs("button",{onClick:()=>R&&v("armor"),className:`relative p-6 rounded-2xl border-2 transition-all duration-300 flex flex-col items-center gap-3 group
                        ${m==="armor"?"bg-blue-900/20 border-blue-500 shadow-[0_0_25px_rgba(59,130,246,0.2)]":"bg-stone-900/50 border-stone-800 hover:border-stone-600 opacity-60"}`,children:[s.jsx("div",{className:`text-5xl md:text-6xl transition-transform duration-500 ${m==="armor"?"scale-110":"grayscale group-hover:grayscale-0"}`,children:""}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-fantasy font-black text-lg text-white tracking-widest uppercase",children:""}),s.jsx("div",{className:"text-[10px] font-bold text-blue-500 uppercase tracking-tighter",children:"Armor Set x10"})]}),m==="armor"&&s.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center text-[10px] text-white",children:""})]})]}),s.jsx("p",{className:"text-stone-500 text-[10px] md:text-xs text-center leading-relaxed font-serif italic max-w-sm",children:""}),s.jsxs("div",{className:"w-full space-y-4",children:[s.jsx("button",{onClick:S,disabled:!R,className:`w-full py-4 rounded-xl font-fantasy font-black text-lg tracking-[0.3em] uppercase transition-all shadow-xl active:scale-95
                        ${R?"bg-amber-600 border border-amber-400 text-white hover:bg-amber-500 hover:shadow-[0_0_20px_rgba(245,158,11,0.4)]":"bg-stone-800 border border-stone-700 text-stone-600 cursor-default"}`,children:R?"":""}),!R&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] text-stone-600 font-bold uppercase tracking-widest animate-pulse",children:[s.jsx("span",{children:""}),s.jsx("span",{children:""})]})]})]}),s.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-white/50 hover:text-white transition-colors text-2xl",children:""})]})}),document.body)},Gp={[ge.PLAINS]:"",[ge.FOREST]:"",[ge.DESERT]:"",[ge.CAVE]:"",[ge.TOWER]:""},Lp=({floor:c,onConfirm:u,onCancel:f,onToggleSkip:r,skipVal:m})=>Dt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in",onClick:f,children:s.jsxs("div",{className:"w-full max-w-md bg-stone-950 border-2 border-red-900 rounded-xl shadow-[0_0_50px_rgba(127,29,29,0.4)] p-8 text-center animate-shake",onClick:v=>v.stopPropagation(),children:[s.jsx("div",{className:"text-6xl mb-6 filter drop-shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:""}),s.jsx("h3",{className:"text-3xl font-fantasy font-black text-red-600 mb-2 tracking-[0.2em] uppercase",children:"WARNING"}),s.jsx("div",{className:"h-px w-16 bg-red-900 mx-auto mb-6"}),s.jsxs("p",{className:"text-stone-300 text-sm mb-2 leading-relaxed",children:[" ",s.jsx("span",{className:"text-red-500 font-bold text-xl",children:c})," "]}),s.jsx("p",{className:"text-stone-500 text-xs mb-8 italic",children:"..."}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("button",{onClick:u,className:"w-full py-4 bg-red-950 border border-red-700 text-red-100 rounded-lg font-black uppercase tracking-[0.3em] hover:bg-red-900 transition-all shadow-lg active:scale-95",children:" (ENTER)"}),s.jsx("button",{onClick:f,className:"w-full py-3 bg-transparent text-stone-500 hover:text-stone-300 transition-colors uppercase font-bold tracking-widest text-[10px]",children:" (RETREAT)"}),s.jsxs("label",{className:"flex items-center justify-center gap-2 cursor-pointer mt-2 group",children:[s.jsx("input",{type:"checkbox",checked:m,onChange:v=>r(v.target.checked),className:"w-3 h-3 bg-stone-900 border-stone-700 rounded focus:ring-red-900 text-red-600"}),s.jsx("span",{className:"text-[10px] text-stone-600 group-hover:text-stone-400 transition-colors uppercase tracking-widest font-bold",children:""})]})]})]})}),document.body),Yp=({onClose:c})=>Dt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/85 backdrop-blur-sm p-4 animate-fade-in",onClick:c,children:s.jsxs("div",{className:"w-full max-w-4xl bg-stone-950 border border-stone-700 rounded-xl shadow-2xl relative flex flex-col h-[90vh] animate-scale-in",onClick:u=>u.stopPropagation(),children:[s.jsxs("div",{className:"p-5 border-b border-stone-800 flex justify-between items-center bg-stone-900/50 rounded-t-xl shrink-0",children:[s.jsxs("h3",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em] flex items-center gap-3",children:[s.jsx("span",{className:"text-xl text-amber-500",children:""})," "]}),s.jsx("button",{onClick:c,className:"text-stone-500 hover:text-white transition-colors p-2 text-xl",children:""})]}),s.jsxs("div",{className:"p-6 md:p-10 overflow-y-auto scrollbar-hide space-y-12 font-sans bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')]",children:[s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-stone-800 pb-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h4",{className:"text-stone-100 font-black text-xl uppercase tracking-widest",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-stone-900/60 p-4 rounded-xl border border-stone-800",children:[s.jsx("p",{className:"text-red-400 font-bold mb-2 flex items-center gap-2",children:"  (STR)"}),s.jsx("p",{className:"text-xs text-stone-400 leading-relaxed",children:" ATK STR  2.5  (Mastery Bonus)"})]}),s.jsxs("div",{className:"bg-stone-900/60 p-4 rounded-xl border border-stone-800",children:[s.jsx("p",{className:"text-green-400 font-bold mb-2 flex items-center gap-2",children:"  (VIT)"}),s.jsx("p",{className:"text-xs text-stone-400 leading-relaxed",children:"VIT  BOSS "})]}),s.jsxs("div",{className:"bg-stone-900/60 p-4 rounded-xl border border-stone-800",children:[s.jsx("p",{className:"text-emerald-400 font-bold mb-2 flex items-center gap-2",children:"  (AGI)"}),s.jsx("p",{className:"text-xs text-stone-400 leading-relaxed",children:" AGI "})]}),s.jsxs("div",{className:"bg-stone-900/60 p-4 rounded-xl border border-stone-800",children:[s.jsx("p",{className:"text-blue-400 font-bold mb-2 flex items-center gap-2",children:"  (INT)"}),s.jsx("p",{className:"text-xs text-stone-400 leading-relaxed",children:" MATK INT  Mastery "})]}),s.jsxs("div",{className:"bg-stone-900/60 p-4 rounded-xl border border-stone-800",children:[s.jsx("p",{className:"text-amber-400 font-bold mb-2 flex items-center gap-2",children:"  (LUK)"}),s.jsx("p",{className:"text-xs text-stone-400 leading-relaxed",children:""})]})]})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-stone-800 pb-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h4",{className:"text-stone-100 font-black text-xl uppercase tracking-widest",children:" (Mastery) "})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-stone-900/40 p-6 rounded-2xl border border-stone-800 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none text-6xl font-black italic",children:"FORMULA"}),s.jsx("h5",{className:"text-amber-500 font-bold text-sm mb-4 uppercase tracking-widest",children:""}),s.jsxs("div",{className:"font-mono text-xs md:text-sm bg-black/40 p-4 rounded-lg border border-white/5 text-stone-300 leading-loose",children:["Final_Damage = ( ",s.jsx("span",{className:"text-blue-400",children:"Atk_Base"})," * ",s.jsx("span",{className:"text-purple-400",children:"Skill_Power"})," + ",s.jsx("span",{className:"text-amber-400",children:"Main_Attribute * 2.5"})," ) * ",s.jsx("span",{className:"text-green-400",children:"Mitigation"})]}),s.jsx("p",{className:"mt-4 text-xs text-stone-500 italic",children:"  Mastery "})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-stone-900/30 p-4 rounded-xl border border-stone-800",children:[s.jsx("p",{className:"text-stone-200 font-bold text-sm mb-2",children:" (Luck Event)"}),s.jsxs("p",{className:"text-xs text-stone-400",children:[" ",s.jsx("code",{className:"text-amber-600",children:"5% + (Luck * 0.1%)"})," 50% ()"]})]}),s.jsxs("div",{className:"bg-stone-900/30 p-4 rounded-xl border border-stone-800",children:[s.jsx("p",{className:"text-stone-200 font-bold text-sm mb-2",children:""}),s.jsx("p",{className:"text-xs text-stone-400",children:" HP "})]})]})]})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-stone-800 pb-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h4",{className:"text-stone-100 font-black text-xl uppercase tracking-widest",children:" (Anomalies)"})]}),s.jsx("p",{className:"text-stone-500 text-sm mb-6 leading-relaxed",children:" 30 "}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.values(jt).map(u=>s.jsxs("div",{className:"group bg-stone-900/80 p-5 rounded-2xl border transition-all hover:border-white/20",style:{borderColor:`${u.color}44`},children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h5",{className:"font-black text-base",style:{color:u.color},children:u.name}),s.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:u.color}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[s.jsx("span",{className:"text-red-500 font-bold",children:" "}),s.jsx("span",{className:"text-stone-300",children:u.monsterEffect})]}),s.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[s.jsx("span",{className:"text-green-500 font-bold",children:" "}),s.jsx("span",{className:"text-stone-300",children:u.playerEffect})]})]}),s.jsx("p",{className:"mt-3 pt-3 border-t border-white/5 text-[10px] text-stone-500 italic",children:u.description})]},u.type))})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-stone-800 pb-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h4",{className:"text-stone-100 font-black text-xl uppercase tracking-widest",children:" (Legacy)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-4",children:[s.jsx("p",{className:"text-stone-400 text-sm leading-relaxed",children:""}),s.jsxs("div",{className:"bg-amber-900/10 p-5 rounded-xl border border-amber-900/30",children:[s.jsx("h6",{className:"text-amber-500 font-bold text-xs uppercase mb-3 tracking-widest",children:" (Soul Shards)"}),s.jsxs("div",{className:"font-mono text-xs text-stone-300 space-y-1",children:[s.jsx("p",{children:"+ ( - 1)  20"}),s.jsx("p",{children:"+ ()  10"}),s.jsx("p",{children:"+ ( / 500)"})]})]})]}),s.jsxs("div",{className:"bg-stone-900/60 p-5 rounded-xl border border-stone-800 flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("p",{className:"text-stone-200 font-bold text-sm mb-1",children:""}),s.jsx("p",{className:"text-[10px] text-stone-500 leading-relaxed",children:" HPATK "})]})]})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-stone-800 pb-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h4",{className:"text-stone-100 font-black text-xl uppercase tracking-widest",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-stone-900/40 p-5 rounded-xl border border-stone-800",children:[s.jsx("h5",{className:"text-stone-200 font-bold text-sm mb-3",children:" (Inflation)"}),s.jsx("p",{className:"text-xs text-stone-400 leading-relaxed",children:""})]}),s.jsxs("div",{className:"bg-stone-900/40 p-5 rounded-xl border border-stone-800",children:[s.jsx("h5",{className:"text-stone-200 font-bold text-sm mb-3",children:" (Attributes)"}),s.jsxs("p",{className:"text-xs text-stone-400 leading-relaxed",children:[" = ",s.jsx("code",{className:"text-amber-600",children:"20  1.08^(Lv-1)  "})," 7.0x 100 "]})]})]})]})]}),s.jsx("div",{className:"p-6 border-t border-stone-800 bg-stone-900/50 flex justify-center shrink-0",children:s.jsx("button",{onClick:c,className:"w-full max-w-sm py-4 bg-amber-600 hover:bg-amber-500 text-white font-fantasy font-black rounded-xl border border-amber-400 transition-all uppercase tracking-[0.3em] text-lg shadow-xl active:scale-95",children:""})})]})}),document.body),Vp=({player:c,gameState:u,activeLocation:f,onChangeLocation:r,onReturnHome:m,onBuyItem:v,isAutoBattling:b,onToggleSkipBossWarning:R,onStartWork:S,onClaimWorkReward:y,onCancelWork:j,onOpenInventory:E,onOpenSkills:B,onOpenStats:G,onOpenLegacy:ee,legacy:Y,onClaimAchievement:le,onSelectTitle:se,onClaimDailyCheckIn:W,activeAnomalies:Q={}})=>{var st;const te=u==="COMBAT"||b,ue=!!c.workStatus,[de,A]=w.useState(!1),[H,D]=w.useState(!1),[J,V]=w.useState(!1),[ie,ce]=w.useState(!1),[I,ae]=w.useState(!1),[h,_]=w.useState(!1),[q,P]=w.useState(!1),[ne,x]=w.useState(!1),[k,K]=w.useState(null),[F,fe]=w.useState(null);w.useEffect(()=>{const be=()=>{if(!c.lastRestTime){fe(null);return}const $=Date.now()-c.lastRestTime;if($<Hi.REST_COOLDOWN_MS){const Re=Math.ceil((Hi.REST_COOLDOWN_MS-$)/1e3),Xe=Math.floor(Re/60),xt=Re%60;fe(`${Xe}m ${xt}s`)}else fe(null)};be();const he=setInterval(be,1e3);return()=>clearInterval(he)},[c.lastRestTime]);const Z=be=>{be===ge.TOWER?c.skipBossWarning?(r(ge.TOWER),V(!1)):(ce(!0),V(!1)):(r(be),V(!1))},me=()=>{te||ue||F||ae(!0)},ve=Object.values(Y.achievements||{}).some(be=>be.unlockedAt&&!be.claimed),je=!Y.lastCheckInTimestamp||new Date().toDateString()!==new Date(Y.lastCheckInTimestamp).toDateString(),Ce=()=>s.jsxs("div",{className:`fixed z-50 pointer-events-auto flex p-1.5 md:p-2 bg-black/60 backdrop-blur-md rounded-xl border border-stone-800/50 shadow-2xl scale-95 md:scale-100 origin-bottom
          md:right-4 md:bottom-4 md:left-auto md:translate-x-0 md:flex-row md:items-end md:gap-1.5
          bottom-32 left-1/2 -translate-x-1/2 flex-row items-center gap-1
      `,children:[s.jsxs("button",{onClick:G,className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg relative",children:[s.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""}),c.statPoints>0&&s.jsx("div",{className:"absolute top-1 right-1 w-1.5 h-1.5 md:w-2 md:h-2 bg-red-600 rounded-full shadow-sm"})]}),s.jsxs("button",{onClick:E,className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg",children:[s.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""})]}),s.jsxs("button",{onClick:B,className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg",children:[s.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""})]}),s.jsxs("button",{onClick:()=>P(!0),className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg relative",children:[s.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""}),ve&&s.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-amber-500 rounded-full shadow-[0_0_5px_#fbbf24] animate-pulse"})]}),s.jsxs("button",{onClick:()=>_(!0),className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg relative",children:[s.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""})]}),s.jsxs("button",{onClick:()=>x(!0),className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg relative",children:[s.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""}),je&&s.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full shadow-[0_0_8px_#ef4444] animate-pulse"})]}),s.jsx("div",{className:"w-px h-6 md:h-10 bg-stone-700/50 mx-0.5 self-center"}),s.jsxs("button",{onClick:()=>V(!0),disabled:te||ue,className:`group w-9 h-9 md:w-16 md:h-16 rounded-lg border flex flex-col items-center justify-center gap-0 md:gap-0.5 transition-all active:scale-95 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed
                ${te||ue?"bg-stone-950 border-stone-800 text-stone-700":"bg-stone-900/80 border-stone-700 hover:bg-stone-800 hover:border-amber-500"}`,children:[s.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:f?Gp[f]:""}),s.jsx("span",{className:"text-[8px] md:text-[9px] font-bold uppercase tracking-wide hidden md:block text-stone-500 group-hover:text-amber-100",children:""})]}),s.jsxs("button",{onClick:me,disabled:te||ue||!!F,className:`group w-9 h-9 md:w-16 md:h-16 rounded-lg border flex flex-col items-center justify-center gap-0 md:gap-0.5 transition-all active:scale-95 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed
                 ${F?"bg-stone-950 border-stone-800 text-stone-600":"bg-stone-900/80 border-stone-700 hover:bg-stone-800 hover:border-stone-500"}`,children:[s.jsx("span",{className:`text-lg md:text-2xl transition-transform ${!F&&"group-hover:scale-110"}`,children:F?"":""}),s.jsx("span",{className:`text-[8px] md:text-[9px] font-bold uppercase tracking-wide hidden md:block ${F?"text-stone-600":"text-stone-500"}`,children:F||""})]}),s.jsxs("button",{onClick:()=>D(!0),disabled:te,className:`group w-9 h-9 md:w-16 md:h-16 rounded-lg border flex flex-col items-center justify-center gap-0 md:gap-0.5 transition-all active:scale-95 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed
                ${ue?"bg-amber-900/20 border-amber-500/50 text-amber-500 animate-pulse-slow":"bg-stone-900/80 border-stone-700 hover:bg-stone-800 hover:border-amber-500"}`,children:[s.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:ue?"":""}),s.jsx("span",{className:`text-[8px] md:text-[9px] font-bold uppercase tracking-wide hidden md:block ${ue?"text-amber-500":"text-stone-500 group-hover:text-amber-100"}`,children:""})]}),s.jsxs("button",{onClick:()=>A(!0),disabled:te,className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""})]})]});return s.jsxs(s.Fragment,{children:[Ce(),J&&s.jsx(Dp,{player:c,activeLocation:f,onSelect:Z,onClose:()=>V(!1),activeAnomalies:Q}),de&&s.jsx(Op,{player:c,onBuyItem:v,onClose:()=>A(!1)}),q&&s.jsx(Bp,{legacy:Y,onClaim:le,onSelectTitle:se,onClose:()=>P(!1)}),ne&&s.jsx(Up,{legacy:Y,onClaimCheckIn:W,onCheckInSuccess:be=>{K(be),x(!1)},onClose:()=>x(!1)}),k&&s.jsx(Z0,{items:k,onClose:()=>K(null),onPullAgain:()=>{},pullCount:10,canAfford:!1}),ie&&s.jsx(Lp,{floor:c.towerFloor,skipVal:c.skipBossWarning,onToggleSkip:R,onConfirm:()=>{r(ge.TOWER),ce(!1)},onCancel:()=>ce(!1)}),I&&Dt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in",onClick:()=>ae(!1),children:s.jsxs("div",{className:"w-full max-w-md bg-stone-950 border border-stone-700 rounded-xl shadow-2xl p-6 text-center animate-scale-in",onClick:be=>be.stopPropagation(),children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-fantasy font-bold text-stone-200 mb-2 tracking-widest uppercase",children:""}),s.jsxs("p",{className:"text-stone-400 text-sm mb-6 leading-relaxed",children:["",s.jsx("br",{}),""]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>ae(!1),className:"flex-1 py-3 bg-stone-900 border border-stone-800 text-stone-500 rounded-lg hover:text-stone-300 transition-colors uppercase font-bold tracking-widest text-xs",children:""}),s.jsx("button",{onClick:()=>{m(),ae(!1)},className:"flex-1 py-3 bg-amber-600 border border-amber-400 text-white rounded-lg hover:bg-amber-500 transition-all uppercase font-bold tracking-widest text-xs shadow-lg",children:""})]})]})}),document.body),H&&Dt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4 animate-fade-in",onClick:()=>D(!1),children:s.jsxs("div",{className:"w-full max-w-md bg-stone-950 border border-stone-600 rounded-xl shadow-2xl flex flex-col overflow-hidden relative animate-scale-in",onClick:be=>be.stopPropagation(),children:[s.jsxs("div",{className:"bg-stone-900 p-4 border-b border-stone-800 flex justify-between items-center shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl text-amber-500",children:""}),s.jsx("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em]",children:""})]}),s.jsx("button",{onClick:()=>D(!1),className:"text-stone-500 hover:text-white transition-colors text-xl px-2",children:""})]}),s.jsx("div",{className:"p-6",children:ue?s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx("div",{className:"w-24 h-24 bg-stone-900 rounded-full border-4 border-amber-900/50 flex items-center justify-center text-5xl mb-6 animate-pulse shadow-[0_0_30px_rgba(245,158,11,0.15)]",children:""}),s.jsx("h3",{className:"text-2xl font-bold text-stone-200 mb-1",children:(st=c.workStatus)==null?void 0:st.jobName}),s.jsx("p",{className:"text-xs text-stone-500 mb-8 uppercase tracking-widest font-black",children:"Commission in Progress"}),s.jsx("div",{className:"w-full bg-stone-900 rounded-full h-5 mb-3 border border-stone-800 overflow-hidden relative shadow-inner",children:s.jsx("div",{className:"absolute inset-0 bg-stone-800/20 flex items-center justify-center z-10",children:s.jsx("span",{className:"text-[10px] font-mono text-white/50 font-bold",children:""})})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full mt-4",children:[s.jsx("button",{onClick:()=>{y==null||y(),D(!1)},className:"py-4 bg-amber-600 border border-amber-400 text-white rounded-lg font-black transition-all uppercase tracking-widest shadow-lg hover:bg-amber-500",children:""}),s.jsx("button",{onClick:()=>{j==null||j(),D(!1)},className:"py-4 bg-stone-800 border border-stone-700 text-stone-400 rounded-lg hover:bg-red-950/20 hover:border-red-800 hover:text-red-400 transition-colors uppercase font-bold tracking-widest",children:""})]})]}):s.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto scrollbar-hide pr-1",children:rr.map(be=>{const he=Q0(be.baseGold,be.baseExp,be.durationMs,c.towerFloor);return s.jsxs("button",{onClick:()=>{S==null||S(be.id),D(!1)},className:"w-full p-4 bg-stone-900/60 border border-stone-800 rounded-xl hover:border-amber-500/50 hover:bg-stone-900 transition-all group relative overflow-hidden flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-stone-950 border border-stone-800 rounded-lg flex items-center justify-center text-3xl group-hover:scale-110 transition-transform",children:be.icon}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("h4",{className:"text-stone-200 font-bold group-hover:text-amber-400 transition-colors",children:be.name}),s.jsx("span",{className:"text-[10px] font-mono text-stone-500",children:be.label})]}),s.jsxs("div",{className:"flex gap-4 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-amber-500 text-xs",children:""}),s.jsx("span",{className:"text-amber-400 font-mono font-bold text-sm",children:he.gold.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-blue-400 text-[10px] font-black mr-0.5",children:"EXP"}),s.jsx("span",{className:"text-blue-300 font-mono font-bold text-sm",children:he.exp.toLocaleString()})]})]})]}),s.jsx("div",{className:"absolute inset-0 bg-amber-500/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]},be.id)})})})]})}),document.body),h&&s.jsx(Yp,{onClose:()=>_(!1)})]})},qp=w.memo(Vp),Xp=({legacy:c,onUpgrade:u,onClose:f})=>Dt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-2 md:p-4 animate-fade-in",onClick:f,children:s.jsxs("div",{className:"w-full max-w-4xl bg-stone-950 border border-amber-900/50 rounded-2xl shadow-2xl flex flex-col h-[92vh] md:h-[85vh] overflow-hidden relative animate-scale-in",onClick:r=>r.stopPropagation(),children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-10 pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-amber-900/5 via-transparent to-transparent pointer-events-none"}),s.jsxs("div",{className:"bg-stone-900/80 p-4 md:p-6 border-b border-amber-900/30 flex flex-col md:flex-row justify-between items-center shrink-0 relative z-10 gap-4 md:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 w-full md:w-auto",children:[s.jsx("span",{className:"text-2xl md:text-3xl filter drop-shadow-[0_0_10px_rgba(251,191,36,0.5)]",children:""}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-fantasy font-black text-amber-500 text-lg md:text-2xl uppercase tracking-[0.15em] md:tracking-[0.2em] leading-tight",children:" (Hall of Legacy)"}),s.jsx("p",{className:"text-[8px] md:text-[10px] text-stone-500 uppercase font-bold tracking-[0.1em]",children:""})]}),s.jsx("button",{onClick:f,className:"md:hidden ml-auto text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]}),s.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto md:gap-6 border-t border-stone-800 md:border-none pt-3 md:pt-0",children:[s.jsxs("div",{className:"flex flex-col items-start md:items-end",children:[s.jsx("span",{className:"text-[8px] md:text-[10px] text-stone-500 font-bold uppercase tracking-widest",children:""}),s.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[s.jsx("span",{className:"text-amber-500 text-lg md:text-xl animate-pulse",children:""}),s.jsx("span",{className:"text-amber-100 font-mono font-black text-xl md:text-2xl",children:c.soulShards.toLocaleString()})]})]}),s.jsx("button",{onClick:f,className:"hidden md:block text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]})]}),s.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto scrollbar-hide flex-1 relative z-10 space-y-4 md:space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:aa.map(r=>{const m=c.upgrades[r.id]||0,v=m>=r.maxLevel,b=Yh(r.id,m),R=c.soulShards>=b,S=r.effectType==="percent"?`+${(r.effectValue*100*m).toFixed(1)}%`:`+${r.effectValue*m}`;return s.jsxs("div",{className:`p-4 rounded-xl border flex flex-col transition-all duration-300
                                    ${v?"bg-stone-900/20 border-stone-800 opacity-80":"bg-stone-900/40 border-stone-800 hover:border-amber-700/50"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"font-bold text-stone-200 text-sm md:text-base",children:r.name}),s.jsxs("span",{className:"text-[9px] md:text-[10px] font-mono font-bold text-stone-500 uppercase bg-black/40 px-1.5 md:px-2 py-0.5 rounded border border-stone-800",children:["LV.",m," / ",r.maxLevel]})]}),s.jsx("p",{className:"text-[10px] md:text-xs text-stone-500 mb-3 md:mb-4 h-auto md:h-8 leading-relaxed italic",children:r.description}),s.jsxs("div",{className:"flex items-center justify-between mt-auto bg-black/30 p-2 rounded-lg border border-stone-800/50 mb-3",children:[s.jsx("div",{className:"text-[9px] md:text-[10px] uppercase font-bold text-stone-600 tracking-wider",children:""}),s.jsx("div",{className:"text-xs md:text-sm font-mono font-black text-amber-500/80",children:S})]}),v?s.jsx("div",{className:"w-full py-2.5 bg-stone-950 border border-stone-800 rounded-lg text-center text-stone-700 text-[9px] md:text-[10px] font-bold uppercase tracking-[0.3em]",children:"MAXED OUT"}):s.jsxs("button",{onClick:()=>u(r.id,b),disabled:!R,className:`w-full py-2.5 rounded-lg flex items-center justify-between px-3 md:px-4 transition-all active:scale-95 group
                                            ${R?"bg-amber-700/80 hover:bg-amber-600 border border-amber-500 text-white shadow-lg":"bg-stone-900 border border-stone-800 text-stone-600 cursor-not-allowed"}`,children:[s.jsx("div",{className:"flex flex-col items-start",children:s.jsxs("span",{className:"text-[8px] md:text-[10px] font-bold uppercase tracking-widest opacity-70",children:[" LV.",m+1]})}),s.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[s.jsx("span",{className:"text-xs",children:""}),s.jsx("span",{className:"font-mono font-bold text-sm md:text-base",children:b})]})]})]},r.id)})}),s.jsxs("div",{className:"mt-4 md:mt-8 p-4 md:p-6 bg-stone-900/20 border border-stone-800 border-dashed rounded-xl grid grid-cols-2 md:flex items-center justify-around gap-4 md:gap-6 text-center opacity-60",children:[s.jsxs("div",{className:"flex flex-col gap-0.5 md:gap-1",children:[s.jsx("span",{className:"text-[8px] md:text-[10px] text-stone-600 uppercase font-black tracking-widest",children:""}),s.jsx("span",{className:"text-lg md:text-2xl font-mono text-stone-400 font-bold",children:c.totalRuns})]}),s.jsxs("div",{className:"flex flex-col gap-0.5 md:gap-1",children:[s.jsx("span",{className:"text-[8px] md:text-[10px] text-stone-600 uppercase font-black tracking-widest",children:""}),s.jsx("span",{className:"text-lg md:text-2xl font-mono text-stone-400 font-bold",children:c.totalSoulShardsEarned.toLocaleString()})]})]})]}),s.jsx("div",{className:"p-3 md:p-4 bg-stone-900/50 border-t border-amber-900/20 text-center shrink-0 relative z-10",children:s.jsx("p",{className:"text-[9px] md:text-[10px] text-stone-600 italic font-serif",children:" "})})]})}),document.body),Qp=({player:c})=>{const u=w.useMemo(()=>!c.maxExp||c.maxExp===0?0:Math.min(100,c.exp/c.maxExp*100),[c.exp,c.maxExp]);return s.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-4 bg-stone-950 border-t border-stone-800 z-[60] select-none pointer-events-none",children:[s.jsx("div",{className:"absolute inset-0 bg-stone-900/50"}),s.jsxs("div",{className:"h-full bg-gradient-to-r from-amber-700 via-amber-600 to-amber-500 transition-all duration-500 ease-out relative overflow-hidden",style:{width:`${u}%`},children:[s.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-[1px] bg-amber-300 shadow-[0_0_8px_#fbbf24]"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/10 to-transparent"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:s.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold text-stone-100 font-mono drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)] tracking-wider",children:["EXP ",Math.floor(c.exp).toLocaleString()," / ",Math.floor(c.maxExp).toLocaleString()," ",s.jsxs("span",{className:"text-amber-300 mx-1",children:["(",u.toFixed(2),"%)"]})]})})]})},Kp=({messages:c,onClear:u})=>(w.useEffect(()=>{if(c.length>0){const f=setTimeout(u,4e3);return()=>clearTimeout(f)}},[c,u]),c.length===0?null:s.jsx("div",{className:"fixed top-12 left-1/2 -translate-x-1/2 z-[200] flex flex-col items-center gap-2 pointer-events-none",children:c.map((f,r)=>s.jsxs("div",{className:"bg-amber-600/90 backdrop-blur-md border border-amber-400 text-white px-6 py-2 rounded-full shadow-2xl animate-bounce text-xs md:text-sm font-black tracking-widest flex items-center gap-3",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["",f]})]},r))})),Zp=({isActive:c,onExit:u})=>(w.useEffect(()=>{if(!c)return;const f=r=>{r.deltaY<-30&&u()};return window.addEventListener("wheel",f),()=>window.removeEventListener("wheel",f)},[c,u]),c?s.jsxs("div",{className:"fixed inset-0 z-[10000] bg-white text-black font-serif p-8 cursor-default select-none flex flex-col items-start",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"404 Not Found"}),s.jsx("div",{className:"w-full h-px bg-gray-400 mb-2"}),s.jsx("address",{className:"text-sm md:text-base text-gray-600 not-italic",children:"nginx/1.18.0 (Ubuntu)"})]}):null),$p=({stage:c})=>{const[u,f]=w.useState("");return w.useEffect(()=>{if(c==="entering"){const r=["..."];f(r[Math.floor(Math.random()*r.length)])}},[c]),c==="hidden"?null:s.jsx("div",{className:`fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-black transition-opacity duration-[1500ms] pointer-events-none ${c==="entering"?"opacity-100":"opacity-0"}`,children:s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-fantasy font-bold tracking-[0.3em] text-stone-300 uppercase animate-pulse",children:u}),s.jsx("div",{className:"mt-4 h-0.5 w-32 bg-gradient-to-r from-transparent via-amber-600 to-transparent mx-auto"})]})})},Jp=({player:c,isDead:u,onRestart:f})=>{const[r,m]=w.useState(null),[v,b]=w.useState(!1);w.useEffect(()=>{u&&c&&!r?(m(c),setTimeout(()=>b(!0),50)):u||(m(null),b(!1))},[u,c,r]);const R=r||c,S=R?V0(R):0;return s.jsx("div",{className:`fixed inset-0 z-[100] flex items-center justify-center transition-all duration-[3000ms] ease-in-out ${u?"bg-black/95 backdrop-blur-sm pointer-events-auto":"bg-transparent pointer-events-none"}`,children:u&&R&&s.jsxs("div",{className:`text-center relative z-10 px-4 min-w-[300px] transition-opacity duration-[3000ms] ease-in-out ${v?"opacity-100":"opacity-0"}`,children:[s.jsxs("div",{className:"mb-10 relative",children:[s.jsx("div",{className:"h-px w-full max-w-[200px] bg-gradient-to-r from-transparent via-red-900 to-transparent mx-auto mb-6 opacity-50"}),s.jsx("h2",{className:"text-6xl md:text-8xl font-fantasy font-black text-red-700 tracking-[0.15em] uppercase drop-shadow-[0_10px_10px_rgba(0,0,0,1)] animate-float",children:"YOU DIED"}),s.jsx("div",{className:"h-px w-full max-w-[200px] bg-gradient-to-r from-transparent via-red-900 to-transparent mx-auto mt-6 opacity-50"})]}),s.jsx("div",{className:"space-y-4 mb-8 text-stone-500 font-serif italic text-lg md:text-xl",children:s.jsxs("p",{className:"tracking-wide",children:[" ",s.jsx("span",{className:"text-red-500 font-bold text-2xl mx-1 font-fantasy border-b border-red-900/30 pb-1",children:R.towerFloor})," "]})}),s.jsxs("div",{className:"mb-12 bg-amber-900/10 border border-amber-900/30 p-4 rounded-xl max-w-xs mx-auto animate-fade-in-slow",children:[s.jsx("p",{className:"text-[10px] text-amber-600 font-bold uppercase tracking-widest mb-1",children:""}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-amber-500 text-2xl",children:""}),s.jsxs("span",{className:"text-amber-100 font-mono font-black text-3xl",children:["+",S]})]}),s.jsx("p",{className:"text-[8px] text-stone-600 mt-2",children:""})]}),s.jsx("button",{onClick:f,className:"group relative px-12 py-4 bg-transparent text-stone-400 font-fantasy font-bold tracking-[0.2em] transition-all uppercase text-sm border border-stone-800 hover:border-red-800 hover:text-red-500 overflow-hidden rounded-sm mx-auto block hover:bg-red-950/10",children:s.jsx("span",{className:"relative z-10 group-hover:drop-shadow-[0_0_8px_rgba(220,38,38,0.5)] transition-all",children:" (Reincarnate)"})})]})})},Fp=({onHardReset:c})=>{const{gameState:u,heroName:f,setHeroName:r,inviteCode:m,setInviteCode:v,selectedClass:b,setSelectedClass:R,player:S,enemy:y,logs:j,activeLocation:E,setActiveLocation:B,isAutoBattling:G,setIsAutoBattling:ee,startGame:Y,resetGame:le,equipItem:se,unequipItem:W,autoEquip:Q,sellItem:te,sellAllItems:ue,sortInventory:de,toggleItemLock:A,buyShopItem:H,configurePotion:D,useConsumableItem:J,startCombat:V,processTurn:ie,handleFlee:ce,allocateAttribute:I,batchAllocateAttributes:ae,returnHome:h,toggleBossWarning:_,isTurnProcessing:q,startWork:P,claimWorkReward:ne,cancelWork:x,legacy:k,buyLegacyUpgrade:K,claimAchievement:F,selectTitle:fe,unlockedAchievements:Z,setUnlockedAchievements:me,claimDailyCheckIn:ve,activeAnomalies:je,anomalyExpiry:Ce}=tp(),[st,be]=w.useState("hidden"),[he,$]=w.useState(!1),[Re,Xe]=w.useState(null);w.useEffect(()=>{const Et=_t=>{_t.altKey&&(_t.key==="s"||_t.key==="S")&&(_t.preventDefault(),$(na=>!na))};return window.addEventListener("keydown",Et),()=>window.removeEventListener("keydown",Et)},[]);const xt=async()=>{be("entering"),await new Promise(Et=>setTimeout(Et,1200)),Y(),await new Promise(Et=>setTimeout(Et,800)),be("exiting"),setTimeout(()=>be("hidden"),1500)},Xt=()=>{le(!0),setTimeout(()=>{c()},50)},ll=w.useMemo(()=>u==="MENU"||!S?s.jsx(ap,{heroName:f,setHeroName:r,inviteCode:m,setInviteCode:v,selectedClass:b,setSelectedClass:R,onStartGame:xt,onOpenLegacy:()=>Xe("legacy")}):s.jsxs("div",{className:"h-screen w-screen bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-800 via-stone-900 to-black text-stone-200 overflow-hidden relative font-sans selection:bg-amber-900/50",children:[s.jsx("div",{className:"fixed top-0 right-0 w-[100vw] h-[100vh] bg-gradient-to-bl from-indigo-900/15 via-transparent to-transparent pointer-events-none z-0"}),s.jsx("div",{className:"fixed bottom-0 left-0 w-[100vw] h-[60vh] bg-gradient-to-tr from-amber-950/20 via-transparent to-transparent pointer-events-none z-0"}),s.jsx("div",{className:"fixed inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-10 z-0 pointer-events-none mix-blend-overlay"}),s.jsx(Kp,{messages:Z,onClear:()=>me([])}),s.jsx(Jp,{player:S,isDead:u==="GAME_OVER",onRestart:()=>le()}),s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-8 pointer-events-none",children:s.jsx(np,{player:S,onHardReset:Xt,onToggleStealth:()=>$(!0)})}),s.jsx("div",{className:"absolute inset-0 z-0",children:s.jsx(fp,{gameState:u,player:S,enemy:y,logs:j,activeLocation:E,isAutoBattling:G,setIsAutoBattling:ee,onAttack:ie,onFlee:ce,onRestart:()=>le(),isTurnProcessing:q,onUseConsumable:J,onConfigurePotion:D,onStartCombat:()=>E&&V(E),onCancelWork:x,onClaimWorkReward:ne,activeAnomalies:je,anomalyExpiry:Ce})}),s.jsx("div",{className:"fixed top-12 left-2 md:top-10 md:left-4 z-40",children:s.jsx(gp,{player:S,legacy:k})}),s.jsx("div",{className:"fixed inset-y-0 right-0 z-30 pointer-events-none",children:s.jsx(qp,{player:S,gameState:u,activeLocation:E,onChangeLocation:B,onReturnHome:h,onBuyItem:H,isAutoBattling:G,onToggleSkipBossWarning:_,onStartWork:P,onClaimWorkReward:ne,onCancelWork:x,onOpenInventory:()=>Xe("inventory"),onOpenSkills:()=>Xe("skills"),onOpenStats:()=>Xe("stats"),onOpenLegacy:()=>Xe("legacy"),legacy:k,onClaimAchievement:F,onSelectTitle:fe,onClaimDailyCheckIn:ve,activeAnomalies:je})}),Re==="stats"&&s.jsx(Sp,{player:S,legacy:k,onAllocate:I,onBatchAllocate:ae,onConfigurePotion:D,onClose:()=>Xe(null)}),Re==="inventory"&&s.jsx(Ep,{player:S,gameState:u,onEquip:se,onUnequip:W,onAutoEquip:Q,onSell:te,onSellAll:ue,onSort:de,onToggleLock:A,onClose:()=>Xe(null)}),Re==="skills"&&s.jsx(Tp,{player:S,onClose:()=>Xe(null)}),s.jsx(Qp,{player:S})]}),[u,S,f,m,b,y,j,E,G,q,Re,k,le,K,H,D,J,V,ie,ce,I,ae,h,_,P,ne,x,se,W,Q,te,ue,A,de,Z,ve,je,Ce]);return s.jsxs(s.Fragment,{children:[s.jsx("span",{id:"stealth-mode",children:s.jsx(Zp,{isActive:he,onExit:()=>$(!1)})}),s.jsx($p,{stage:st}),ll,Re==="legacy"&&s.jsx(Xp,{legacy:k,onUpgrade:K,onClose:()=>Xe(null)})]})},Ip=()=>{const[c,u]=w.useState(0),f=()=>u(r=>r+1);return s.jsx(Rh,{children:s.jsx(Fp,{onHardReset:f},c)},c)},$0=document.getElementById("root");if(!$0)throw new Error("Could not find root element to mount to");const Wp=Nh.createRoot($0);Wp.render(s.jsx(hh.StrictMode,{children:s.jsx(Ip,{})}));
