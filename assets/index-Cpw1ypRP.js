(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))r(m);new MutationObserver(m=>{for(const v of m)if(v.type==="childList")for(const S of v.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&r(S)}).observe(document,{childList:!0,subtree:!0});function d(m){const v={};return m.integrity&&(v.integrity=m.integrity),m.referrerPolicy&&(v.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?v.credentials="include":m.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function r(m){if(m.ep)return;m.ep=!0;const v=d(m);fetch(m.href,v)}})();function C0(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var qo={exports:{}},Pn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function cx(){if(n0)return Pn;n0=1;var c=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function d(r,m,v){var S=null;if(v!==void 0&&(S=""+v),m.key!==void 0&&(S=""+m.key),"key"in m){v={};for(var z in m)z!=="key"&&(v[z]=m[z])}else v=m;return m=v.ref,{$$typeof:c,type:r,key:S,ref:m!==void 0?m:null,props:v}}return Pn.Fragment=f,Pn.jsx=d,Pn.jsxs=d,Pn}var s0;function ox(){return s0||(s0=1,qo.exports=cx()),qo.exports}var i=ox(),Vo={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function rx(){if(i0)return ge;i0=1;var c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),S=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),G=Symbol.iterator;function Q(b){return b===null||typeof b!="object"?null:(b=G&&b[G]||b["@@iterator"],typeof b=="function"?b:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,P={};function se(b,M,$){this.props=b,this.context=M,this.refs=P,this.updater=$||ee}se.prototype.isReactComponent={},se.prototype.setState=function(b,M){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,M,"setState")},se.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function V(){}V.prototype=se.prototype;function F(b,M,$){this.props=b,this.context=M,this.refs=P,this.updater=$||ee}var ce=F.prototype=new V;ce.constructor=F,K(ce,se.prototype),ce.isPureReactComponent=!0;var he=Array.isArray;function H(){}var w={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function Z(b,M,$){var te=$.ref;return{$$typeof:c,type:b,key:M,ref:te!==void 0?te:null,props:$}}function ie(b,M){return Z(b.type,M,b.props)}function O(b){return typeof b=="object"&&b!==null&&b.$$typeof===c}function W(b){var M={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function($){return M[$]})}var I=/\/+/g;function ne(b,M){return typeof b=="object"&&b!==null&&b.key!=null?W(""+b.key):M.toString(36)}function le(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(H,H):(b.status="pending",b.then(function(M){b.status==="pending"&&(b.status="fulfilled",b.value=M)},function(M){b.status==="pending"&&(b.status="rejected",b.reason=M)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function h(b,M,$,te,L){var k=typeof b;(k==="undefined"||k==="boolean")&&(b=null);var de=!1;if(b===null)de=!0;else switch(k){case"bigint":case"string":case"number":de=!0;break;case"object":switch(b.$$typeof){case c:case f:de=!0;break;case j:return de=b._init,h(de(b._payload),M,$,te,L)}}if(de)return L=L(b),de=te===""?"."+ne(b,0):te,he(L)?($="",de!=null&&($=de.replace(I,"$&/")+"/"),h(L,M,$,"",function(We){return We})):L!=null&&(O(L)&&(L=ie(L,$+(L.key==null||b&&b.key===L.key?"":(""+L.key).replace(I,"$&/")+"/")+de)),M.push(L)),1;de=0;var Se=te===""?".":te+":";if(he(b))for(var Me=0;Me<b.length;Me++)te=b[Me],k=Se+ne(te,Me),de+=h(te,M,$,k,L);else if(Me=Q(b),typeof Me=="function")for(b=Me.call(b),Me=0;!(te=b.next()).done;)te=te.value,k=Se+ne(te,Me++),de+=h(te,M,$,k,L);else if(k==="object"){if(typeof b.then=="function")return h(le(b),M,$,te,L);throw M=String(b),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return de}function B(b,M,$){if(b==null)return b;var te=[],L=0;return h(b,te,"","",function(k){return M.call($,k,L++)}),te}function J(b){if(b._status===-1){var M=b._result;M=M(),M.then(function($){(b._status===0||b._status===-1)&&(b._status=1,b._result=$)},function($){(b._status===0||b._status===-1)&&(b._status=2,b._result=$)}),b._status===-1&&(b._status=0,b._result=M)}if(b._status===1)return b._result.default;throw b._result}var re=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},me={map:B,forEach:function(b,M,$){B(b,function(){M.apply(this,arguments)},$)},count:function(b){var M=0;return B(b,function(){M++}),M},toArray:function(b){return B(b,function(M){return M})||[]},only:function(b){if(!O(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return ge.Activity=_,ge.Children=me,ge.Component=se,ge.Fragment=d,ge.Profiler=m,ge.PureComponent=F,ge.StrictMode=r,ge.Suspense=N,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,ge.__COMPILER_RUNTIME={__proto__:null,c:function(b){return w.H.useMemoCache(b)}},ge.cache=function(b){return function(){return b.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(b,M,$){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var te=K({},b.props),L=b.key;if(M!=null)for(k in M.key!==void 0&&(L=""+M.key),M)!Y.call(M,k)||k==="key"||k==="__self"||k==="__source"||k==="ref"&&M.ref===void 0||(te[k]=M[k]);var k=arguments.length-2;if(k===1)te.children=$;else if(1<k){for(var de=Array(k),Se=0;Se<k;Se++)de[Se]=arguments[Se+2];te.children=de}return Z(b.type,L,te)},ge.createContext=function(b){return b={$$typeof:S,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:v,_context:b},b},ge.createElement=function(b,M,$){var te,L={},k=null;if(M!=null)for(te in M.key!==void 0&&(k=""+M.key),M)Y.call(M,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(L[te]=M[te]);var de=arguments.length-2;if(de===1)L.children=$;else if(1<de){for(var Se=Array(de),Me=0;Me<de;Me++)Se[Me]=arguments[Me+2];L.children=Se}if(b&&b.defaultProps)for(te in de=b.defaultProps,de)L[te]===void 0&&(L[te]=de[te]);return Z(b,k,L)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(b){return{$$typeof:z,render:b}},ge.isValidElement=O,ge.lazy=function(b){return{$$typeof:j,_payload:{_status:-1,_result:b},_init:J}},ge.memo=function(b,M){return{$$typeof:p,type:b,compare:M===void 0?null:M}},ge.startTransition=function(b){var M=w.T,$={};w.T=$;try{var te=b(),L=w.S;L!==null&&L($,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(H,re)}catch(k){re(k)}finally{M!==null&&$.types!==null&&(M.types=$.types),w.T=M}},ge.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},ge.use=function(b){return w.H.use(b)},ge.useActionState=function(b,M,$){return w.H.useActionState(b,M,$)},ge.useCallback=function(b,M){return w.H.useCallback(b,M)},ge.useContext=function(b){return w.H.useContext(b)},ge.useDebugValue=function(){},ge.useDeferredValue=function(b,M){return w.H.useDeferredValue(b,M)},ge.useEffect=function(b,M){return w.H.useEffect(b,M)},ge.useEffectEvent=function(b){return w.H.useEffectEvent(b)},ge.useId=function(){return w.H.useId()},ge.useImperativeHandle=function(b,M,$){return w.H.useImperativeHandle(b,M,$)},ge.useInsertionEffect=function(b,M){return w.H.useInsertionEffect(b,M)},ge.useLayoutEffect=function(b,M){return w.H.useLayoutEffect(b,M)},ge.useMemo=function(b,M){return w.H.useMemo(b,M)},ge.useOptimistic=function(b,M){return w.H.useOptimistic(b,M)},ge.useReducer=function(b,M,$){return w.H.useReducer(b,M,$)},ge.useRef=function(b){return w.H.useRef(b)},ge.useState=function(b){return w.H.useState(b)},ge.useSyncExternalStore=function(b,M,$){return w.H.useSyncExternalStore(b,M,$)},ge.useTransition=function(){return w.H.useTransition()},ge.version="19.2.3",ge}var c0;function er(){return c0||(c0=1,Vo.exports=rx()),Vo.exports}var C=er();const ux=C0(C);var Xo={exports:{}},es={},Qo={exports:{}},Ko={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function fx(){return o0||(o0=1,(function(c){function f(h,B){var J=h.length;h.push(B);e:for(;0<J;){var re=J-1>>>1,me=h[re];if(0<m(me,B))h[re]=B,h[J]=me,J=re;else break e}}function d(h){return h.length===0?null:h[0]}function r(h){if(h.length===0)return null;var B=h[0],J=h.pop();if(J!==B){h[0]=J;e:for(var re=0,me=h.length,b=me>>>1;re<b;){var M=2*(re+1)-1,$=h[M],te=M+1,L=h[te];if(0>m($,J))te<me&&0>m(L,$)?(h[re]=L,h[te]=J,re=te):(h[re]=$,h[M]=J,re=M);else if(te<me&&0>m(L,J))h[re]=L,h[te]=J,re=te;else break e}}return B}function m(h,B){var J=h.sortIndex-B.sortIndex;return J!==0?J:h.id-B.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;c.unstable_now=function(){return v.now()}}else{var S=Date,z=S.now();c.unstable_now=function(){return S.now()-z}}var N=[],p=[],j=1,_=null,G=3,Q=!1,ee=!1,K=!1,P=!1,se=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ce(h){for(var B=d(p);B!==null;){if(B.callback===null)r(p);else if(B.startTime<=h)r(p),B.sortIndex=B.expirationTime,f(N,B);else break;B=d(p)}}function he(h){if(K=!1,ce(h),!ee)if(d(N)!==null)ee=!0,H||(H=!0,W());else{var B=d(p);B!==null&&le(he,B.startTime-h)}}var H=!1,w=-1,Y=5,Z=-1;function ie(){return P?!0:!(c.unstable_now()-Z<Y)}function O(){if(P=!1,H){var h=c.unstable_now();Z=h;var B=!0;try{e:{ee=!1,K&&(K=!1,V(w),w=-1),Q=!0;var J=G;try{t:{for(ce(h),_=d(N);_!==null&&!(_.expirationTime>h&&ie());){var re=_.callback;if(typeof re=="function"){_.callback=null,G=_.priorityLevel;var me=re(_.expirationTime<=h);if(h=c.unstable_now(),typeof me=="function"){_.callback=me,ce(h),B=!0;break t}_===d(N)&&r(N),ce(h)}else r(N);_=d(N)}if(_!==null)B=!0;else{var b=d(p);b!==null&&le(he,b.startTime-h),B=!1}}break e}finally{_=null,G=J,Q=!1}B=void 0}}finally{B?W():H=!1}}}var W;if(typeof F=="function")W=function(){F(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ne=I.port2;I.port1.onmessage=O,W=function(){ne.postMessage(null)}}else W=function(){se(O,0)};function le(h,B){w=se(function(){h(c.unstable_now())},B)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(h){h.callback=null},c.unstable_forceFrameRate=function(h){0>h||125<h?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<h?Math.floor(1e3/h):5},c.unstable_getCurrentPriorityLevel=function(){return G},c.unstable_next=function(h){switch(G){case 1:case 2:case 3:var B=3;break;default:B=G}var J=G;G=B;try{return h()}finally{G=J}},c.unstable_requestPaint=function(){P=!0},c.unstable_runWithPriority=function(h,B){switch(h){case 1:case 2:case 3:case 4:case 5:break;default:h=3}var J=G;G=h;try{return B()}finally{G=J}},c.unstable_scheduleCallback=function(h,B,J){var re=c.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?re+J:re):J=re,h){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=J+me,h={id:j++,callback:B,priorityLevel:h,startTime:J,expirationTime:me,sortIndex:-1},J>re?(h.sortIndex=J,f(p,h),d(N)===null&&h===d(p)&&(K?(V(w),w=-1):K=!0,le(he,J-re))):(h.sortIndex=me,f(N,h),ee||Q||(ee=!0,H||(H=!0,W()))),h},c.unstable_shouldYield=ie,c.unstable_wrapCallback=function(h){var B=G;return function(){var J=G;G=B;try{return h.apply(this,arguments)}finally{G=J}}}})(Ko)),Ko}var r0;function dx(){return r0||(r0=1,Qo.exports=fx()),Qo.exports}var Zo={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function mx(){if(u0)return mt;u0=1;var c=er();function f(N){var p="https://react.dev/errors/"+N;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)p+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+N+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var r={d:{f:d,r:function(){throw Error(f(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function v(N,p,j){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:_==null?null:""+_,children:N,containerInfo:p,implementation:j}}var S=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function z(N,p){if(N==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mt.createPortal=function(N,p){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(f(299));return v(N,p,null,j)},mt.flushSync=function(N){var p=S.T,j=r.p;try{if(S.T=null,r.p=2,N)return N()}finally{S.T=p,r.p=j,r.d.f()}},mt.preconnect=function(N,p){typeof N=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(N,p))},mt.prefetchDNS=function(N){typeof N=="string"&&r.d.D(N)},mt.preinit=function(N,p){if(typeof N=="string"&&p&&typeof p.as=="string"){var j=p.as,_=z(j,p.crossOrigin),G=typeof p.integrity=="string"?p.integrity:void 0,Q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;j==="style"?r.d.S(N,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:G,fetchPriority:Q}):j==="script"&&r.d.X(N,{crossOrigin:_,integrity:G,fetchPriority:Q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},mt.preinitModule=function(N,p){if(typeof N=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var j=z(p.as,p.crossOrigin);r.d.M(N,{crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(N)},mt.preload=function(N,p){if(typeof N=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var j=p.as,_=z(j,p.crossOrigin);r.d.L(N,j,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},mt.preloadModule=function(N,p){if(typeof N=="string")if(p){var j=z(p.as,p.crossOrigin);r.d.m(N,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(N)},mt.requestFormReset=function(N){r.d.r(N)},mt.unstable_batchedUpdates=function(N,p){return N(p)},mt.useFormState=function(N,p,j){return S.H.useFormState(N,p,j)},mt.useFormStatus=function(){return S.H.useHostTransitionStatus()},mt.version="19.2.3",mt}var f0;function O0(){if(f0)return Zo.exports;f0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(f){console.error(f)}}return c(),Zo.exports=mx(),Zo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function hx(){if(d0)return es;d0=1;var c=dx(),f=er(),d=O0();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function S(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function z(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(v(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(r(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var s=n.alternate;if(s===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===l)return N(n),e;if(s===a)return N(n),t;s=s.sibling}throw Error(r(188))}if(l.return!==a.return)l=n,a=s;else{for(var o=!1,u=n.child;u;){if(u===l){o=!0,l=n,a=s;break}if(u===a){o=!0,a=n,l=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===l){o=!0,l=s,a=n;break}if(u===a){o=!0,a=s,l=n;break}u=u.sibling}if(!o)throw Error(r(189))}}if(l.alternate!==a)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?e:t}function j(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=j(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,G=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case se:return"Profiler";case P:return"StrictMode";case he:return"Suspense";case H:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ee:return"Portal";case F:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case ce:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return t=e.displayName||null,t!==null?t:ne(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return ne(e(t))}catch{}}return null}var le=Array.isArray,h=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},re=[],me=-1;function b(e){return{current:e}}function M(e){0>me||(e.current=re[me],re[me]=null,me--)}function $(e,t){me++,re[me]=e.current,e.current=t}var te=b(null),L=b(null),k=b(null),de=b(null);function Se(e,t){switch($(k,t),$(L,e),$(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ed(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ed(t),e=wd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(te),$(te,e)}function Me(){M(te),M(L),M(k)}function We(e){e.memoizedState!==null&&$(de,e);var t=te.current,l=wd(t,e.type);t!==l&&($(L,e),$(te,l))}function dt(e){L.current===e&&(M(te),M(L)),de.current===e&&(M(de),Jn._currentValue=J)}var it,Ft;function Tt(e){if(it===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);it=t&&t[1]||"",Ft=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+e+Ft}var Fl=!1;function Ht(e,t){if(!e||Fl)return"";Fl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(R){var E=R}Reflect.construct(e,[],X)}else{try{X.call()}catch(R){E=R}e.call(X.prototype)}}else{try{throw Error()}catch(R){E=R}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(R){if(R&&E&&typeof R.stack=="string")return[R.stack,E.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),o=s[0],u=s[1];if(o&&u){var x=o.split(`
`),A=u.split(`
`);for(n=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;n<A.length&&!A[n].includes("DetermineComponentFrameRoot");)n++;if(a===x.length||n===A.length)for(a=x.length-1,n=A.length-1;1<=a&&0<=n&&x[a]!==A[n];)n--;for(;1<=a&&0<=n;a--,n--)if(x[a]!==A[n]){if(a!==1||n!==1)do if(a--,n--,0>n||x[a]!==A[n]){var U=`
`+x[a].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=a&&0<=n);break}}}finally{Fl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Tt(l):""}function _e(e,t){switch(e.tag){case 26:case 27:case 5:return Tt(e.type);case 16:return Tt("Lazy");case 13:return e.child!==t&&t!==null?Tt("Suspense Fallback"):Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return Ht(e.type,!1);case 11:return Ht(e.type.render,!1);case 1:return Ht(e.type,!0);case 31:return Tt("Activity");default:return""}}function Re(e){try{var t="",l=null;do t+=_e(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ge=Object.prototype.hasOwnProperty,at=c.unstable_scheduleCallback,xt=c.unstable_cancelCallback,tl=c.unstable_shouldYield,is=c.unstable_requestPaint,bt=c.unstable_now,Y0=c.unstable_getCurrentPriorityLevel,nr=c.unstable_ImmediatePriority,sr=c.unstable_UserBlockingPriority,cs=c.unstable_NormalPriority,q0=c.unstable_LowPriority,ir=c.unstable_IdlePriority,V0=c.log,X0=c.unstable_setDisableYieldValue,cn=null,At=null;function Nl(e){if(typeof V0=="function"&&X0(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(cn,e)}catch{}}var Et=Math.clz32?Math.clz32:Z0,Q0=Math.log,K0=Math.LN2;function Z0(e){return e>>>=0,e===0?32:31-(Q0(e)/K0|0)|0}var os=256,rs=262144,us=4194304;function Wl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fs(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var u=a&134217727;return u!==0?(a=u&~s,a!==0?n=Wl(a):(o&=u,o!==0?n=Wl(o):l||(l=u&~e,l!==0&&(n=Wl(l))))):(u=a&~s,u!==0?n=Wl(u):o!==0?n=Wl(o):l||(l=a&~e,l!==0&&(n=Wl(l)))),n===0?0:t!==0&&t!==n&&(t&s)===0&&(s=n&-n,l=t&-t,s>=l||s===32&&(l&4194048)!==0)?t:n}function on(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cr(){var e=us;return us<<=1,(us&62914560)===0&&(us=4194304),e}function Mi(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function rn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function J0(e,t,l,a,n,s){var o=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var u=e.entanglements,x=e.expirationTimes,A=e.hiddenUpdates;for(l=o&~l;0<l;){var U=31-Et(l),X=1<<U;u[U]=0,x[U]=-1;var E=A[U];if(E!==null)for(A[U]=null,U=0;U<E.length;U++){var R=E[U];R!==null&&(R.lane&=-536870913)}l&=~X}a!==0&&or(e,a,0),s!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=s&~(o&~t))}function or(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Et(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function rr(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-Et(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function ur(e,t){var l=t&-t;return l=(l&42)!==0?1:Ci(l),(l&(e.suspendedLanes|t))!==0?0:l}function Ci(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fr(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Wd(e.type))}function dr(e,t){var l=B.p;try{return B.p=e,t()}finally{B.p=l}}var jl=Math.random().toString(36).slice(2),ct="__reactFiber$"+jl,gt="__reactProps$"+jl,xa="__reactContainer$"+jl,ki="__reactEvents$"+jl,F0="__reactListeners$"+jl,W0="__reactHandles$"+jl,mr="__reactResources$"+jl,un="__reactMarker$"+jl;function Ri(e){delete e[ct],delete e[gt],delete e[ki],delete e[F0],delete e[W0]}function ba(e){var t=e[ct];if(t)return t;for(var l=e.parentNode;l;){if(t=l[xa]||l[ct]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=zd(e);e!==null;){if(l=e[ct])return l;e=zd(e)}return t}e=l,l=e.parentNode}return null}function pa(e){if(e=e[ct]||e[xa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ga(e){var t=e[mr];return t||(t=e[mr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[un]=!0}var hr=new Set,xr={};function Il(e,t){va(e,t),va(e+"Capture",t)}function va(e,t){for(xr[e]=t,e=0;e<t.length;e++)hr.add(t[e])}var I0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),br={},pr={};function P0(e){return Ge.call(pr,e)?!0:Ge.call(br,e)?!1:I0.test(e)?pr[e]=!0:(br[e]=!0,!1)}function ds(e,t,l){if(P0(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function ms(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function ll(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function em(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){l=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(o){l=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Di(e){if(!e._valueTracker){var t=gr(e)?"checked":"value";e._valueTracker=em(e,t,""+e[t])}}function vr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=gr(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tm=/[\n"\\]/g;function Ut(e){return e.replace(tm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function zi(e,t,l,a,n,s,o,u){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Hi(e,o,Bt(t)):l!=null?Hi(e,o,Bt(l)):a!=null&&e.removeAttribute("value"),n==null&&s!=null&&(e.defaultChecked=!!s),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+Bt(u):e.removeAttribute("name")}function yr(e,t,l,a,n,s,o,u){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||l!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Di(e);return}l=l!=null?""+Bt(l):"",t=t!=null?""+Bt(t):l,u||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=u?e.checked:!!a,e.defaultChecked=!!a,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Di(e)}function Hi(e,t,l){t==="number"&&hs(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ya(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Bt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Sr(e,t,l){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Bt(l):""}function Nr(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(r(92));if(le(a)){if(1<a.length)throw Error(r(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Bt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Di(e)}function Sa(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var lm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||lm.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function _r(e,t,l){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&jr(e,n,a)}else for(var s in t)t.hasOwnProperty(s)&&jr(e,s,t[s])}function Bi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xs(e){return nm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function al(){}var Ui=null;function Li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,ja=null;function Tr(e){var t=pa(e);if(t&&(e=t.stateNode)){var l=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(zi(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[gt]||null;if(!n)throw Error(r(90));zi(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&vr(a)}break e;case"textarea":Sr(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ya(e,!!l.multiple,t,!1)}}}var Gi=!1;function Ar(e,t,l){if(Gi)return e(t,l);Gi=!0;try{var a=e(t);return a}finally{if(Gi=!1,(Na!==null||ja!==null)&&(li(),Na&&(t=Na,e=ja,ja=Na=null,Tr(t),e)))for(t=0;t<e.length;t++)Tr(e[t])}}function dn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[gt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(r(231,t,typeof l));return l}var nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yi=!1;if(nl)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Yi=!1}var _l=null,qi=null,bs=null;function Er(){if(bs)return bs;var e,t=qi,l=t.length,a,n="value"in _l?_l.value:_l.textContent,s=n.length;for(e=0;e<l&&t[e]===n[e];e++);var o=l-e;for(a=1;a<=o&&t[l-a]===n[s-a];a++);return bs=n.slice(e,1<a?1-a:void 0)}function ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function wr(){return!1}function vt(e){function t(l,a,n,s,o){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(l=e[u],this[u]=l?l(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gs:wr,this.isPropagationStopped=wr,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=vt(Pl),hn=_({},Pl,{view:0,detail:0}),sm=vt(hn),Vi,Xi,xn,ys=_({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&e.type==="mousemove"?(Vi=e.screenX-xn.screenX,Xi=e.screenY-xn.screenY):Xi=Vi=0,xn=e),Vi)},movementY:function(e){return"movementY"in e?e.movementY:Xi}}),Mr=vt(ys),im=_({},ys,{dataTransfer:0}),cm=vt(im),om=_({},hn,{relatedTarget:0}),Qi=vt(om),rm=_({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),um=vt(rm),fm=_({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dm=vt(fm),mm=_({},Pl,{data:0}),Cr=vt(mm),hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bm[e])?!!t[e]:!1}function Ki(){return pm}var gm=_({},hn,{key:function(e){if(e.key){var t=hm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vm=vt(gm),ym=_({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Or=vt(ym),Sm=_({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),Nm=vt(Sm),jm=_({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),_m=vt(jm),Tm=_({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Am=vt(Tm),Em=_({},Pl,{newState:0,oldState:0}),wm=vt(Em),Mm=[9,13,27,32],Zi=nl&&"CompositionEvent"in window,bn=null;nl&&"documentMode"in document&&(bn=document.documentMode);var Cm=nl&&"TextEvent"in window&&!bn,kr=nl&&(!Zi||bn&&8<bn&&11>=bn),Rr=" ",Dr=!1;function zr(e,t){switch(e){case"keyup":return Mm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function Om(e,t){switch(e){case"compositionend":return Hr(t);case"keypress":return t.which!==32?null:(Dr=!0,Rr);case"textInput":return e=t.data,e===Rr&&Dr?null:e;default:return null}}function km(e,t){if(_a)return e==="compositionend"||!Zi&&zr(e,t)?(e=Er(),bs=qi=_l=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kr&&t.locale!=="ko"?null:t.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rm[e.type]:t==="textarea"}function Ur(e,t,l,a){Na?ja?ja.push(a):ja=[a]:Na=a,t=ri(t,"onChange"),0<t.length&&(l=new vs("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var pn=null,gn=null;function Dm(e){Sd(e,0)}function Ss(e){var t=fn(e);if(vr(t))return e}function Lr(e,t){if(e==="change")return t}var Gr=!1;if(nl){var $i;if(nl){var Ji="oninput"in document;if(!Ji){var Yr=document.createElement("div");Yr.setAttribute("oninput","return;"),Ji=typeof Yr.oninput=="function"}$i=Ji}else $i=!1;Gr=$i&&(!document.documentMode||9<document.documentMode)}function qr(){pn&&(pn.detachEvent("onpropertychange",Vr),gn=pn=null)}function Vr(e){if(e.propertyName==="value"&&Ss(gn)){var t=[];Ur(t,gn,e,Li(e)),Ar(Dm,t)}}function zm(e,t,l){e==="focusin"?(qr(),pn=t,gn=l,pn.attachEvent("onpropertychange",Vr)):e==="focusout"&&qr()}function Hm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ss(gn)}function Bm(e,t){if(e==="click")return Ss(t)}function Um(e,t){if(e==="input"||e==="change")return Ss(t)}function Lm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:Lm;function vn(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!Ge.call(t,n)||!wt(e[n],t[n]))return!1}return!0}function Xr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qr(e,t){var l=Xr(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xr(l)}}function Kr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=hs(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=hs(e.document)}return t}function Fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gm=nl&&"documentMode"in document&&11>=document.documentMode,Ta=null,Wi=null,yn=null,Ii=!1;function $r(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ii||Ta==null||Ta!==hs(a)||(a=Ta,"selectionStart"in a&&Fi(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),yn&&vn(yn,a)||(yn=a,a=ri(Wi,"onSelect"),0<a.length&&(t=new vs("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Ta)))}function ea(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Aa={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Pi={},Jr={};nl&&(Jr=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function ta(e){if(Pi[e])return Pi[e];if(!Aa[e])return e;var t=Aa[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Jr)return Pi[e]=t[l];return e}var Fr=ta("animationend"),Wr=ta("animationiteration"),Ir=ta("animationstart"),Ym=ta("transitionrun"),qm=ta("transitionstart"),Vm=ta("transitioncancel"),Pr=ta("transitionend"),eu=new Map,ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ec.push("scrollEnd");function Zt(e,t){eu.set(e,t),Il(t,[e])}var Ns=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Ea=0,tc=0;function js(){for(var e=Ea,t=tc=Ea=0;t<e;){var l=Lt[t];Lt[t++]=null;var a=Lt[t];Lt[t++]=null;var n=Lt[t];Lt[t++]=null;var s=Lt[t];if(Lt[t++]=null,a!==null&&n!==null){var o=a.pending;o===null?n.next=n:(n.next=o.next,o.next=n),a.pending=n}s!==0&&tu(l,n,s)}}function _s(e,t,l,a){Lt[Ea++]=e,Lt[Ea++]=t,Lt[Ea++]=l,Lt[Ea++]=a,tc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function lc(e,t,l,a){return _s(e,t,l,a),Ts(e)}function la(e,t){return _s(e,null,null,t),Ts(e)}function tu(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,s=e.return;s!==null;)s.childLanes|=l,a=s.alternate,a!==null&&(a.childLanes|=l),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(n=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,n&&t!==null&&(n=31-Et(l),e=s.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),s):null}function Ts(e){if(50<qn)throw qn=0,fo=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wa={};function Xm(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,l,a){return new Xm(e,t,l,a)}function ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sl(e,t){var l=e.alternate;return l===null?(l=Mt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function lu(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function As(e,t,l,a,n,s){var o=0;if(a=e,typeof e=="function")ac(e)&&(o=1);else if(typeof e=="string")o=Jh(e,l,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Mt(31,l,t,n),e.elementType=Z,e.lanes=s,e;case K:return aa(l.children,n,s,t);case P:o=8,n|=24;break;case se:return e=Mt(12,l,t,n|2),e.elementType=se,e.lanes=s,e;case he:return e=Mt(13,l,t,n),e.elementType=he,e.lanes=s,e;case H:return e=Mt(19,l,t,n),e.elementType=H,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:o=10;break e;case V:o=9;break e;case ce:o=11;break e;case w:o=14;break e;case Y:o=16,a=null;break e}o=29,l=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=Mt(o,l,t,n),t.elementType=e,t.type=a,t.lanes=s,t}function aa(e,t,l,a){return e=Mt(7,e,a,t),e.lanes=l,e}function nc(e,t,l){return e=Mt(6,e,null,t),e.lanes=l,e}function au(e){var t=Mt(18,null,null,0);return t.stateNode=e,t}function sc(e,t,l){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var nu=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var l=nu.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Re(t)},nu.set(e,t),t)}return{value:e,source:t,stack:Re(t)}}var Ma=[],Ca=0,Es=null,Sn=0,Yt=[],qt=0,Tl=null,Wt=1,It="";function il(e,t){Ma[Ca++]=Sn,Ma[Ca++]=Es,Es=e,Sn=t}function su(e,t,l){Yt[qt++]=Wt,Yt[qt++]=It,Yt[qt++]=Tl,Tl=e;var a=Wt;e=It;var n=32-Et(a)-1;a&=~(1<<n),l+=1;var s=32-Et(t)+n;if(30<s){var o=n-n%5;s=(a&(1<<o)-1).toString(32),a>>=o,n-=o,Wt=1<<32-Et(t)+n|l<<n|a,It=s+e}else Wt=1<<s|l<<n|a,It=e}function ic(e){e.return!==null&&(il(e,1),su(e,1,0))}function cc(e){for(;e===Es;)Es=Ma[--Ca],Ma[Ca]=null,Sn=Ma[--Ca],Ma[Ca]=null;for(;e===Tl;)Tl=Yt[--qt],Yt[qt]=null,It=Yt[--qt],Yt[qt]=null,Wt=Yt[--qt],Yt[qt]=null}function iu(e,t){Yt[qt++]=Wt,Yt[qt++]=It,Yt[qt++]=Tl,Wt=t.id,It=t.overflow,Tl=e}var ot=null,qe=null,we=!1,Al=null,Vt=!1,oc=Error(r(519));function El(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nn(Gt(t,e)),oc}function cu(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[ct]=e,t[gt]=a,l){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(l=0;l<Xn.length;l++)je(Xn[l],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),yr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),Nr(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||Td(t.textContent,l)?(a.popover!=null&&(je("beforetoggle",t),je("toggle",t)),a.onScroll!=null&&je("scroll",t),a.onScrollEnd!=null&&je("scrollend",t),a.onClick!=null&&(t.onclick=al),t=!0):t=!1,t||El(e,!0)}function ou(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:ot=ot.return}}function Oa(e){if(e!==ot)return!1;if(!we)return ou(e),we=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Eo(e.type,e.memoizedProps)),l=!l),l&&qe&&El(e),ou(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));qe=Dd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));qe=Dd(e)}else t===27?(t=qe,Yl(e.type)?(e=ko,ko=null,qe=e):qe=t):qe=ot?Qt(e.stateNode.nextSibling):null;return!0}function na(){qe=ot=null,we=!1}function rc(){var e=Al;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),Al=null),e}function Nn(e){Al===null?Al=[e]:Al.push(e)}var uc=b(null),sa=null,cl=null;function wl(e,t,l){$(uc,t._currentValue),t._currentValue=l}function ol(e){e._currentValue=uc.current,M(uc)}function fc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function dc(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var s=n.dependencies;if(s!==null){var o=n.child;s=s.firstContext;e:for(;s!==null;){var u=s;s=n;for(var x=0;x<t.length;x++)if(u.context===t[x]){s.lanes|=l,u=s.alternate,u!==null&&(u.lanes|=l),fc(s.return,l,e),a||(o=null);break e}s=u.next}}else if(n.tag===18){if(o=n.return,o===null)throw Error(r(341));o.lanes|=l,s=o.alternate,s!==null&&(s.lanes|=l),fc(o,l,e),o=null}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}}function ka(e,t,l,a){e=null;for(var n=t,s=!1;n!==null;){if(!s){if((n.flags&524288)!==0)s=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var o=n.alternate;if(o===null)throw Error(r(387));if(o=o.memoizedProps,o!==null){var u=n.type;wt(n.pendingProps.value,o.value)||(e!==null?e.push(u):e=[u])}}else if(n===de.current){if(o=n.alternate,o===null)throw Error(r(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Jn):e=[Jn])}n=n.return}e!==null&&dc(t,e,l,a),t.flags|=262144}function ws(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){sa=e,cl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return ru(sa,e)}function Ms(e,t){return sa===null&&ia(e),ru(e,t)}function ru(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},cl===null){if(e===null)throw Error(r(308));cl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cl=cl.next=t;return l}var Qm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Km=c.unstable_scheduleCallback,Zm=c.unstable_NormalPriority,Ie={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mc(){return{controller:new Qm,data:new Map,refCount:0}}function jn(e){e.refCount--,e.refCount===0&&Km(Zm,function(){e.controller.abort()})}var _n=null,hc=0,Ra=0,Da=null;function $m(e,t){if(_n===null){var l=_n=[];hc=0,Ra=go(),Da={status:"pending",value:void 0,then:function(a){l.push(a)}}}return hc++,t.then(uu,uu),t}function uu(){if(--hc===0&&_n!==null){Da!==null&&(Da.status="fulfilled");var e=_n;_n=null,Ra=0,Da=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Jm(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var fu=h.S;h.S=function(e,t){Jf=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$m(e,t),fu!==null&&fu(e,t)};var ca=b(null);function xc(){var e=ca.current;return e!==null?e:Ye.pooledCache}function Cs(e,t){t===null?$(ca,ca.current):$(ca,t.pool)}function du(){var e=xc();return e===null?null:{parent:Ie._currentValue,pool:e}}var za=Error(r(460)),bc=Error(r(474)),Os=Error(r(542)),ks={then:function(){}};function mu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hu(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(al,al),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bu(e),e;default:if(typeof t.status=="string")t.then(al,al);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bu(e),e}throw ra=t,za}}function oa(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ra=l,za):l}}var ra=null;function xu(){if(ra===null)throw Error(r(459));var e=ra;return ra=null,e}function bu(e){if(e===za||e===Os)throw Error(r(483))}var Ha=null,Tn=0;function Rs(e){var t=Tn;return Tn+=1,Ha===null&&(Ha=[]),hu(Ha,e,t)}function An(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ds(e,t){throw t.$$typeof===G?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pu(e){function t(y,g){if(e){var T=y.deletions;T===null?(y.deletions=[g],y.flags|=16):T.push(g)}}function l(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function a(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function n(y,g){return y=sl(y,g),y.index=0,y.sibling=null,y}function s(y,g,T){return y.index=T,e?(T=y.alternate,T!==null?(T=T.index,T<g?(y.flags|=67108866,g):T):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function u(y,g,T,q){return g===null||g.tag!==6?(g=nc(T,y.mode,q),g.return=y,g):(g=n(g,T),g.return=y,g)}function x(y,g,T,q){var xe=T.type;return xe===K?U(y,g,T.props.children,q,T.key):g!==null&&(g.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Y&&oa(xe)===g.type)?(g=n(g,T.props),An(g,T),g.return=y,g):(g=As(T.type,T.key,T.props,null,y.mode,q),An(g,T),g.return=y,g)}function A(y,g,T,q){return g===null||g.tag!==4||g.stateNode.containerInfo!==T.containerInfo||g.stateNode.implementation!==T.implementation?(g=sc(T,y.mode,q),g.return=y,g):(g=n(g,T.children||[]),g.return=y,g)}function U(y,g,T,q,xe){return g===null||g.tag!==7?(g=aa(T,y.mode,q,xe),g.return=y,g):(g=n(g,T),g.return=y,g)}function X(y,g,T){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=nc(""+g,y.mode,T),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Q:return T=As(g.type,g.key,g.props,null,y.mode,T),An(T,g),T.return=y,T;case ee:return g=sc(g,y.mode,T),g.return=y,g;case Y:return g=oa(g),X(y,g,T)}if(le(g)||W(g))return g=aa(g,y.mode,T,null),g.return=y,g;if(typeof g.then=="function")return X(y,Rs(g),T);if(g.$$typeof===F)return X(y,Ms(y,g),T);Ds(y,g)}return null}function E(y,g,T,q){var xe=g!==null?g.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return xe!==null?null:u(y,g,""+T,q);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Q:return T.key===xe?x(y,g,T,q):null;case ee:return T.key===xe?A(y,g,T,q):null;case Y:return T=oa(T),E(y,g,T,q)}if(le(T)||W(T))return xe!==null?null:U(y,g,T,q,null);if(typeof T.then=="function")return E(y,g,Rs(T),q);if(T.$$typeof===F)return E(y,g,Ms(y,T),q);Ds(y,T)}return null}function R(y,g,T,q,xe){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return y=y.get(T)||null,u(g,y,""+q,xe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Q:return y=y.get(q.key===null?T:q.key)||null,x(g,y,q,xe);case ee:return y=y.get(q.key===null?T:q.key)||null,A(g,y,q,xe);case Y:return q=oa(q),R(y,g,T,q,xe)}if(le(q)||W(q))return y=y.get(T)||null,U(g,y,q,xe,null);if(typeof q.then=="function")return R(y,g,T,Rs(q),xe);if(q.$$typeof===F)return R(y,g,T,Ms(g,q),xe);Ds(g,q)}return null}function ue(y,g,T,q){for(var xe=null,Oe=null,fe=g,ye=g=0,Ae=null;fe!==null&&ye<T.length;ye++){fe.index>ye?(Ae=fe,fe=null):Ae=fe.sibling;var ke=E(y,fe,T[ye],q);if(ke===null){fe===null&&(fe=Ae);break}e&&fe&&ke.alternate===null&&t(y,fe),g=s(ke,g,ye),Oe===null?xe=ke:Oe.sibling=ke,Oe=ke,fe=Ae}if(ye===T.length)return l(y,fe),we&&il(y,ye),xe;if(fe===null){for(;ye<T.length;ye++)fe=X(y,T[ye],q),fe!==null&&(g=s(fe,g,ye),Oe===null?xe=fe:Oe.sibling=fe,Oe=fe);return we&&il(y,ye),xe}for(fe=a(fe);ye<T.length;ye++)Ae=R(fe,y,ye,T[ye],q),Ae!==null&&(e&&Ae.alternate!==null&&fe.delete(Ae.key===null?ye:Ae.key),g=s(Ae,g,ye),Oe===null?xe=Ae:Oe.sibling=Ae,Oe=Ae);return e&&fe.forEach(function(Kl){return t(y,Kl)}),we&&il(y,ye),xe}function pe(y,g,T,q){if(T==null)throw Error(r(151));for(var xe=null,Oe=null,fe=g,ye=g=0,Ae=null,ke=T.next();fe!==null&&!ke.done;ye++,ke=T.next()){fe.index>ye?(Ae=fe,fe=null):Ae=fe.sibling;var Kl=E(y,fe,ke.value,q);if(Kl===null){fe===null&&(fe=Ae);break}e&&fe&&Kl.alternate===null&&t(y,fe),g=s(Kl,g,ye),Oe===null?xe=Kl:Oe.sibling=Kl,Oe=Kl,fe=Ae}if(ke.done)return l(y,fe),we&&il(y,ye),xe;if(fe===null){for(;!ke.done;ye++,ke=T.next())ke=X(y,ke.value,q),ke!==null&&(g=s(ke,g,ye),Oe===null?xe=ke:Oe.sibling=ke,Oe=ke);return we&&il(y,ye),xe}for(fe=a(fe);!ke.done;ye++,ke=T.next())ke=R(fe,y,ye,ke.value,q),ke!==null&&(e&&ke.alternate!==null&&fe.delete(ke.key===null?ye:ke.key),g=s(ke,g,ye),Oe===null?xe=ke:Oe.sibling=ke,Oe=ke);return e&&fe.forEach(function(ix){return t(y,ix)}),we&&il(y,ye),xe}function Le(y,g,T,q){if(typeof T=="object"&&T!==null&&T.type===K&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Q:e:{for(var xe=T.key;g!==null;){if(g.key===xe){if(xe=T.type,xe===K){if(g.tag===7){l(y,g.sibling),q=n(g,T.props.children),q.return=y,y=q;break e}}else if(g.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Y&&oa(xe)===g.type){l(y,g.sibling),q=n(g,T.props),An(q,T),q.return=y,y=q;break e}l(y,g);break}else t(y,g);g=g.sibling}T.type===K?(q=aa(T.props.children,y.mode,q,T.key),q.return=y,y=q):(q=As(T.type,T.key,T.props,null,y.mode,q),An(q,T),q.return=y,y=q)}return o(y);case ee:e:{for(xe=T.key;g!==null;){if(g.key===xe)if(g.tag===4&&g.stateNode.containerInfo===T.containerInfo&&g.stateNode.implementation===T.implementation){l(y,g.sibling),q=n(g,T.children||[]),q.return=y,y=q;break e}else{l(y,g);break}else t(y,g);g=g.sibling}q=sc(T,y.mode,q),q.return=y,y=q}return o(y);case Y:return T=oa(T),Le(y,g,T,q)}if(le(T))return ue(y,g,T,q);if(W(T)){if(xe=W(T),typeof xe!="function")throw Error(r(150));return T=xe.call(T),pe(y,g,T,q)}if(typeof T.then=="function")return Le(y,g,Rs(T),q);if(T.$$typeof===F)return Le(y,g,Ms(y,T),q);Ds(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,g!==null&&g.tag===6?(l(y,g.sibling),q=n(g,T),q.return=y,y=q):(l(y,g),q=nc(T,y.mode,q),q.return=y,y=q),o(y)):l(y,g)}return function(y,g,T,q){try{Tn=0;var xe=Le(y,g,T,q);return Ha=null,xe}catch(fe){if(fe===za||fe===Os)throw fe;var Oe=Mt(29,fe,null,y.mode);return Oe.lanes=q,Oe.return=y,Oe}finally{}}}var ua=pu(!0),gu=pu(!1),Ml=!1;function pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ol(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(De&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=Ts(e),tu(e,null,l),t}return _s(e,a,t,l),Ts(e)}function En(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,rr(e,l)}}function vc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,s=null;if(l=l.firstBaseUpdate,l!==null){do{var o={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};s===null?n=s=o:s=s.next=o,l=l.next}while(l!==null);s===null?n=s=t:s=s.next=t}else n=s=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var yc=!1;function wn(){if(yc){var e=Da;if(e!==null)throw e}}function Mn(e,t,l,a){yc=!1;var n=e.updateQueue;Ml=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var x=u,A=x.next;x.next=null,o===null?s=A:o.next=A,o=x;var U=e.alternate;U!==null&&(U=U.updateQueue,u=U.lastBaseUpdate,u!==o&&(u===null?U.firstBaseUpdate=A:u.next=A,U.lastBaseUpdate=x))}if(s!==null){var X=n.baseState;o=0,U=A=x=null,u=s;do{var E=u.lane&-536870913,R=E!==u.lane;if(R?(Te&E)===E:(a&E)===E){E!==0&&E===Ra&&(yc=!0),U!==null&&(U=U.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var ue=e,pe=u;E=t;var Le=l;switch(pe.tag){case 1:if(ue=pe.payload,typeof ue=="function"){X=ue.call(Le,X,E);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=pe.payload,E=typeof ue=="function"?ue.call(Le,X,E):ue,E==null)break e;X=_({},X,E);break e;case 2:Ml=!0}}E=u.callback,E!==null&&(e.flags|=64,R&&(e.flags|=8192),R=n.callbacks,R===null?n.callbacks=[E]:R.push(E))}else R={lane:E,tag:u.tag,payload:u.payload,callback:u.callback,next:null},U===null?(A=U=R,x=X):U=U.next=R,o|=E;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;R=u,u=R.next,R.next=null,n.lastBaseUpdate=R,n.shared.pending=null}}while(!0);U===null&&(x=X),n.baseState=x,n.firstBaseUpdate=A,n.lastBaseUpdate=U,s===null&&(n.shared.lanes=0),Hl|=o,e.lanes=o,e.memoizedState=X}}function vu(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function yu(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)vu(l[e],t)}var Ba=b(null),zs=b(0);function Su(e,t){e=pl,$(zs,e),$(Ba,t),pl=e|t.baseLanes}function Sc(){$(zs,pl),$(Ba,Ba.current)}function Nc(){pl=zs.current,M(Ba),M(zs)}var Ct=b(null),Xt=null;function kl(e){var t=e.alternate;$(Je,Je.current&1),$(Ct,e),Xt===null&&(t===null||Ba.current!==null||t.memoizedState!==null)&&(Xt=e)}function jc(e){$(Je,Je.current),$(Ct,e),Xt===null&&(Xt=e)}function Nu(e){e.tag===22?($(Je,Je.current),$(Ct,e),Xt===null&&(Xt=e)):Rl()}function Rl(){$(Je,Je.current),$(Ct,Ct.current)}function Ot(e){M(Ct),Xt===e&&(Xt=null),M(Je)}var Je=b(0);function Hs(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Co(l)||Oo(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rl=0,ve=null,Be=null,Pe=null,Bs=!1,Ua=!1,fa=!1,Us=0,Cn=0,La=null,Fm=0;function Ze(){throw Error(r(321))}function _c(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!wt(e[l],t[l]))return!1;return!0}function Tc(e,t,l,a,n,s){return rl=s,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,h.H=e===null||e.memoizedState===null?sf:Gc,fa=!1,s=l(a,n),fa=!1,Ua&&(s=_u(t,l,a,n)),ju(e),s}function ju(e){h.H=Rn;var t=Be!==null&&Be.next!==null;if(rl=0,Pe=Be=ve=null,Bs=!1,Cn=0,La=null,t)throw Error(r(300));e===null||et||(e=e.dependencies,e!==null&&ws(e)&&(et=!0))}function _u(e,t,l,a){ve=e;var n=0;do{if(Ua&&(La=null),Cn=0,Ua=!1,25<=n)throw Error(r(301));if(n+=1,Pe=Be=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}h.H=cf,s=t(l,a)}while(Ua);return s}function Wm(){var e=h.H,t=e.useState()[0];return t=typeof t.then=="function"?On(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(ve.flags|=1024),t}function Ac(){var e=Us!==0;return Us=0,e}function Ec(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function wc(e){if(Bs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bs=!1}rl=0,Pe=Be=ve=null,Ua=!1,Cn=Us=0,La=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ve.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Fe(){if(Be===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Pe===null?ve.memoizedState:Pe.next;if(t!==null)Pe=t,Be=e;else{if(e===null)throw ve.alternate===null?Error(r(467)):Error(r(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Pe===null?ve.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Ls(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function On(e){var t=Cn;return Cn+=1,La===null&&(La=[]),e=hu(La,e,t),t=ve,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,h.H=t===null||t.memoizedState===null?sf:Gc),e}function Gs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return On(e);if(e.$$typeof===F)return rt(e)}throw Error(r(438,String(e)))}function Mc(e){var t=null,l=ve.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=ve.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Ls(),ve.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=ie;return t.index++,l}function ul(e,t){return typeof t=="function"?t(e):t}function Ys(e){var t=Fe();return Cc(t,Be,e)}function Cc(e,t,l){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=l;var n=e.baseQueue,s=a.pending;if(s!==null){if(n!==null){var o=n.next;n.next=s.next,s.next=o}t.baseQueue=n=s,a.pending=null}if(s=e.baseState,n===null)e.memoizedState=s;else{t=n.next;var u=o=null,x=null,A=t,U=!1;do{var X=A.lane&-536870913;if(X!==A.lane?(Te&X)===X:(rl&X)===X){var E=A.revertLane;if(E===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),X===Ra&&(U=!0);else if((rl&E)===E){A=A.next,E===Ra&&(U=!0);continue}else X={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},x===null?(u=x=X,o=s):x=x.next=X,ve.lanes|=E,Hl|=E;X=A.action,fa&&l(s,X),s=A.hasEagerState?A.eagerState:l(s,X)}else E={lane:X,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},x===null?(u=x=E,o=s):x=x.next=E,ve.lanes|=X,Hl|=X;A=A.next}while(A!==null&&A!==t);if(x===null?o=s:x.next=u,!wt(s,e.memoizedState)&&(et=!0,U&&(l=Da,l!==null)))throw l;e.memoizedState=s,e.baseState=o,e.baseQueue=x,a.lastRenderedState=s}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Oc(e){var t=Fe(),l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,s=t.memoizedState;if(n!==null){l.pending=null;var o=n=n.next;do s=e(s,o.action),o=o.next;while(o!==n);wt(s,t.memoizedState)||(et=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),l.lastRenderedState=s}return[s,a]}function Tu(e,t,l){var a=ve,n=Fe(),s=we;if(s){if(l===void 0)throw Error(r(407));l=l()}else l=t();var o=!wt((Be||n).memoizedState,l);if(o&&(n.memoizedState=l,et=!0),n=n.queue,Dc(wu.bind(null,a,n,e),[e]),n.getSnapshot!==t||o||Pe!==null&&Pe.memoizedState.tag&1){if(a.flags|=2048,Ga(9,{destroy:void 0},Eu.bind(null,a,n,l,t),null),Ye===null)throw Error(r(349));s||(rl&127)!==0||Au(a,t,l)}return l}function Au(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=ve.updateQueue,t===null?(t=Ls(),ve.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Eu(e,t,l,a){t.value=l,t.getSnapshot=a,Mu(t)&&Cu(e)}function wu(e,t,l){return l(function(){Mu(t)&&Cu(e)})}function Mu(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!wt(e,l)}catch{return!0}}function Cu(e){var t=la(e,2);t!==null&&_t(t,e,2)}function kc(e){var t=pt();if(typeof e=="function"){var l=e;if(e=l(),fa){Nl(!0);try{l()}finally{Nl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:e},t}function Ou(e,t,l,a){return e.baseState=l,Cc(e,Be,typeof a=="function"?a:ul)}function Im(e,t,l,a,n){if(Xs(e))throw Error(r(485));if(e=t.action,e!==null){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){s.listeners.push(o)}};h.T!==null?l(!0):s.isTransition=!1,a(s),l=t.pending,l===null?(s.next=t.pending=s,ku(t,s)):(s.next=l.next,t.pending=l.next=s)}}function ku(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var s=h.T,o={};h.T=o;try{var u=l(n,a),x=h.S;x!==null&&x(o,u),Ru(e,t,u)}catch(A){Rc(e,t,A)}finally{s!==null&&o.types!==null&&(s.types=o.types),h.T=s}}else try{s=l(n,a),Ru(e,t,s)}catch(A){Rc(e,t,A)}}function Ru(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Du(e,t,a)},function(a){return Rc(e,t,a)}):Du(e,t,l)}function Du(e,t,l){t.status="fulfilled",t.value=l,zu(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,ku(e,l)))}function Rc(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,zu(t),t=t.next;while(t!==a)}e.action=null}function zu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Hu(e,t){return t}function Bu(e,t){if(we){var l=Ye.formState;if(l!==null){e:{var a=ve;if(we){if(qe){t:{for(var n=qe,s=Vt;n.nodeType!==8;){if(!s){n=null;break t}if(n=Qt(n.nextSibling),n===null){n=null;break t}}s=n.data,n=s==="F!"||s==="F"?n:null}if(n){qe=Qt(n.nextSibling),a=n.data==="F!";break e}}El(a)}a=!1}a&&(t=l[0])}}return l=pt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:t},l.queue=a,l=lf.bind(null,ve,a),a.dispatch=l,a=kc(!1),s=Lc.bind(null,ve,!1,a.queue),a=pt(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=Im.bind(null,ve,n,s,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Uu(e){var t=Fe();return Lu(t,Be,e)}function Lu(e,t,l){if(t=Cc(e,t,Hu)[0],e=Ys(ul)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=On(t)}catch(o){throw o===za?Os:o}else a=t;t=Fe();var n=t.queue,s=n.dispatch;return l!==t.memoizedState&&(ve.flags|=2048,Ga(9,{destroy:void 0},Pm.bind(null,n,l),null)),[a,s,e]}function Pm(e,t){e.action=t}function Gu(e){var t=Fe(),l=Be;if(l!==null)return Lu(t,l,e);Fe(),t=t.memoizedState,l=Fe();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Ga(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=ve.updateQueue,t===null&&(t=Ls(),ve.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Yu(){return Fe().memoizedState}function qs(e,t,l,a){var n=pt();ve.flags|=e,n.memoizedState=Ga(1|t,{destroy:void 0},l,a===void 0?null:a)}function Vs(e,t,l,a){var n=Fe();a=a===void 0?null:a;var s=n.memoizedState.inst;Be!==null&&a!==null&&_c(a,Be.memoizedState.deps)?n.memoizedState=Ga(t,s,l,a):(ve.flags|=e,n.memoizedState=Ga(1|t,s,l,a))}function qu(e,t){qs(8390656,8,e,t)}function Dc(e,t){Vs(2048,8,e,t)}function eh(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=Ls(),ve.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Vu(e){var t=Fe().memoizedState;return eh({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Xu(e,t){return Vs(4,2,e,t)}function Qu(e,t){return Vs(4,4,e,t)}function Ku(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zu(e,t,l){l=l!=null?l.concat([e]):null,Vs(4,4,Ku.bind(null,t,e),l)}function zc(){}function $u(e,t){var l=Fe();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&_c(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Ju(e,t){var l=Fe();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&_c(t,a[1]))return a[0];if(a=e(),fa){Nl(!0);try{e()}finally{Nl(!1)}}return l.memoizedState=[a,t],a}function Hc(e,t,l){return l===void 0||(rl&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Wf(),ve.lanes|=e,Hl|=e,l)}function Fu(e,t,l,a){return wt(l,t)?l:Ba.current!==null?(e=Hc(e,l,a),wt(e,t)||(et=!0),e):(rl&42)===0||(rl&1073741824)!==0&&(Te&261930)===0?(et=!0,e.memoizedState=l):(e=Wf(),ve.lanes|=e,Hl|=e,t)}function Wu(e,t,l,a,n){var s=B.p;B.p=s!==0&&8>s?s:8;var o=h.T,u={};h.T=u,Lc(e,!1,t,l);try{var x=n(),A=h.S;if(A!==null&&A(u,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var U=Jm(x,a);kn(e,t,U,Dt(e))}else kn(e,t,a,Dt(e))}catch(X){kn(e,t,{then:function(){},status:"rejected",reason:X},Dt())}finally{B.p=s,o!==null&&u.types!==null&&(o.types=u.types),h.T=o}}function th(){}function Bc(e,t,l,a){if(e.tag!==5)throw Error(r(476));var n=Iu(e).queue;Wu(e,n,t,J,l===null?th:function(){return Pu(e),l(a)})}function Iu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:J},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pu(e){var t=Iu(e);t.next===null&&(t=e.alternate.memoizedState),kn(e,t.next.queue,{},Dt())}function Uc(){return rt(Jn)}function ef(){return Fe().memoizedState}function tf(){return Fe().memoizedState}function lh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Dt();e=Cl(l);var a=Ol(t,e,l);a!==null&&(_t(a,t,l),En(a,t,l)),t={cache:mc()},e.payload=t;return}t=t.return}}function ah(e,t,l){var a=Dt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xs(e)?af(t,l):(l=lc(e,t,l,a),l!==null&&(_t(l,e,a),nf(l,t,a)))}function lf(e,t,l){var a=Dt();kn(e,t,l,a)}function kn(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))af(t,n);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,u=s(o,l);if(n.hasEagerState=!0,n.eagerState=u,wt(u,o))return _s(e,t,n,0),Ye===null&&js(),!1}catch{}finally{}if(l=lc(e,t,n,a),l!==null)return _t(l,e,a),nf(l,t,a),!0}return!1}function Lc(e,t,l,a){if(a={lane:2,revertLane:go(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xs(e)){if(t)throw Error(r(479))}else t=lc(e,l,a,2),t!==null&&_t(t,e,2)}function Xs(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function af(e,t){Ua=Bs=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function nf(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,rr(e,l)}}var Rn={readContext:rt,use:Gs,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Rn.useEffectEvent=Ze;var sf={readContext:rt,use:Gs,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:qu,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,qs(4194308,4,Ku.bind(null,t,e),l)},useLayoutEffect:function(e,t){return qs(4194308,4,e,t)},useInsertionEffect:function(e,t){qs(4,2,e,t)},useMemo:function(e,t){var l=pt();t=t===void 0?null:t;var a=e();if(fa){Nl(!0);try{e()}finally{Nl(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=pt();if(l!==void 0){var n=l(t);if(fa){Nl(!0);try{l(t)}finally{Nl(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=ah.bind(null,ve,e),[a.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=kc(e);var t=e.queue,l=lf.bind(null,ve,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:zc,useDeferredValue:function(e,t){var l=pt();return Hc(l,e,t)},useTransition:function(){var e=kc(!1);return e=Wu.bind(null,ve,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=ve,n=pt();if(we){if(l===void 0)throw Error(r(407));l=l()}else{if(l=t(),Ye===null)throw Error(r(349));(Te&127)!==0||Au(a,t,l)}n.memoizedState=l;var s={value:l,getSnapshot:t};return n.queue=s,qu(wu.bind(null,a,s,e),[e]),a.flags|=2048,Ga(9,{destroy:void 0},Eu.bind(null,a,s,l,t),null),l},useId:function(){var e=pt(),t=Ye.identifierPrefix;if(we){var l=It,a=Wt;l=(a&~(1<<32-Et(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Us++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Fm++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uc,useFormState:Bu,useActionState:Bu,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Lc.bind(null,ve,!0,l),l.dispatch=t,[e,t]},useMemoCache:Mc,useCacheRefresh:function(){return pt().memoizedState=lh.bind(null,ve)},useEffectEvent:function(e){var t=pt(),l={impl:e};return t.memoizedState=l,function(){if((De&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Gc={readContext:rt,use:Gs,useCallback:$u,useContext:rt,useEffect:Dc,useImperativeHandle:Zu,useInsertionEffect:Xu,useLayoutEffect:Qu,useMemo:Ju,useReducer:Ys,useRef:Yu,useState:function(){return Ys(ul)},useDebugValue:zc,useDeferredValue:function(e,t){var l=Fe();return Fu(l,Be.memoizedState,e,t)},useTransition:function(){var e=Ys(ul)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:On(e),t]},useSyncExternalStore:Tu,useId:ef,useHostTransitionStatus:Uc,useFormState:Uu,useActionState:Uu,useOptimistic:function(e,t){var l=Fe();return Ou(l,Be,e,t)},useMemoCache:Mc,useCacheRefresh:tf};Gc.useEffectEvent=Vu;var cf={readContext:rt,use:Gs,useCallback:$u,useContext:rt,useEffect:Dc,useImperativeHandle:Zu,useInsertionEffect:Xu,useLayoutEffect:Qu,useMemo:Ju,useReducer:Oc,useRef:Yu,useState:function(){return Oc(ul)},useDebugValue:zc,useDeferredValue:function(e,t){var l=Fe();return Be===null?Hc(l,e,t):Fu(l,Be.memoizedState,e,t)},useTransition:function(){var e=Oc(ul)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:On(e),t]},useSyncExternalStore:Tu,useId:ef,useHostTransitionStatus:Uc,useFormState:Gu,useActionState:Gu,useOptimistic:function(e,t){var l=Fe();return Be!==null?Ou(l,Be,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Mc,useCacheRefresh:tf};cf.useEffectEvent=Vu;function Yc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:_({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var qc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Dt(),n=Cl(a);n.payload=t,l!=null&&(n.callback=l),t=Ol(e,n,a),t!==null&&(_t(t,e,a),En(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Dt(),n=Cl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=Ol(e,n,a),t!==null&&(_t(t,e,a),En(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Dt(),a=Cl(l);a.tag=2,t!=null&&(a.callback=t),t=Ol(e,a,l),t!==null&&(_t(t,e,l),En(t,e,l))}};function of(e,t,l,a,n,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,o):t.prototype&&t.prototype.isPureReactComponent?!vn(l,a)||!vn(n,s):!0}function rf(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&qc.enqueueReplaceState(t,t.state,null)}function da(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=_({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function uf(e){Ns(e)}function ff(e){console.error(e)}function df(e){Ns(e)}function Qs(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function mf(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Vc(e,t,l){return l=Cl(l),l.tag=3,l.payload={element:null},l.callback=function(){Qs(e,t)},l}function hf(e){return e=Cl(e),e.tag=3,e}function xf(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var s=a.value;e.payload=function(){return n(s)},e.callback=function(){mf(t,l,a)}}var o=l.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){mf(t,l,a),typeof n!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var u=a.stack;this.componentDidCatch(a.value,{componentStack:u!==null?u:""})})}function nh(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&ka(t,l,n,!0),l=Ct.current,l!==null){switch(l.tag){case 31:case 13:return Xt===null?ai():l.alternate===null&&$e===0&&($e=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===ks?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),xo(e,a,n)),!1;case 22:return l.flags|=65536,a===ks?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),xo(e,a,n)),!1}throw Error(r(435,l.tag))}return xo(e,a,n),ai(),!1}if(we)return t=Ct.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==oc&&(e=Error(r(422),{cause:a}),Nn(Gt(e,l)))):(a!==oc&&(t=Error(r(423),{cause:a}),Nn(Gt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Gt(a,l),n=Vc(e.stateNode,a,n),vc(e,n),$e!==4&&($e=2)),!1;var s=Error(r(520),{cause:a});if(s=Gt(s,l),Yn===null?Yn=[s]:Yn.push(s),$e!==4&&($e=2),t===null)return!0;a=Gt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Vc(l.stateNode,a,e),vc(l,e),!1;case 1:if(t=l.type,s=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Bl===null||!Bl.has(s))))return l.flags|=65536,n&=-n,l.lanes|=n,n=hf(n),xf(n,e,l,a),vc(l,n),!1}l=l.return}while(l!==null);return!1}var Xc=Error(r(461)),et=!1;function ut(e,t,l,a){t.child=e===null?gu(t,null,l,a):ua(t,e.child,l,a)}function bf(e,t,l,a,n){l=l.render;var s=t.ref;if("ref"in a){var o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}else o=a;return ia(t),a=Tc(e,t,l,o,s,n),u=Ac(),e!==null&&!et?(Ec(e,t,n),fl(e,t,n)):(we&&u&&ic(t),t.flags|=1,ut(e,t,a,n),t.child)}function pf(e,t,l,a,n){if(e===null){var s=l.type;return typeof s=="function"&&!ac(s)&&s.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=s,gf(e,t,s,a,n)):(e=As(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Ic(e,n)){var o=s.memoizedProps;if(l=l.compare,l=l!==null?l:vn,l(o,a)&&e.ref===t.ref)return fl(e,t,n)}return t.flags|=1,e=sl(s,a),e.ref=t.ref,e.return=t,t.child=e}function gf(e,t,l,a,n){if(e!==null){var s=e.memoizedProps;if(vn(s,a)&&e.ref===t.ref)if(et=!1,t.pendingProps=a=s,Ic(e,n))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,fl(e,t,n)}return Qc(e,t,l,a,n)}function vf(e,t,l,a){var n=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~s}else a=0,t.child=null;return yf(e,t,s,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cs(t,s!==null?s.cachePool:null),s!==null?Su(t,s):Sc(),Nu(t);else return a=t.lanes=536870912,yf(e,t,s!==null?s.baseLanes|l:l,l,a)}else s!==null?(Cs(t,s.cachePool),Su(t,s),Rl(),t.memoizedState=null):(e!==null&&Cs(t,null),Sc(),Rl());return ut(e,t,n,l),t.child}function Dn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function yf(e,t,l,a,n){var s=xc();return s=s===null?null:{parent:Ie._currentValue,pool:s},t.memoizedState={baseLanes:l,cachePool:s},e!==null&&Cs(t,null),Sc(),Nu(t),e!==null&&ka(e,t,a,!0),t.childLanes=n,null}function Ks(e,t){return t=$s({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sf(e,t,l){return ua(t,e.child,null,l),e=Ks(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function sh(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(we){if(a.mode==="hidden")return e=Ks(t,a),t.lanes=536870912,Dn(null,e);if(jc(t),(e=qe)?(e=Rd(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tl!==null?{id:Wt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},l=au(e),l.return=t,t.child=l,ot=t,qe=null)):e=null,e===null)throw El(t);return t.lanes=536870912,null}return Ks(t,a)}var s=e.memoizedState;if(s!==null){var o=s.dehydrated;if(jc(t),n)if(t.flags&256)t.flags&=-257,t=Sf(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(et||ka(e,t,l,!1),n=(l&e.childLanes)!==0,et||n){if(a=Ye,a!==null&&(o=ur(a,l),o!==0&&o!==s.retryLane))throw s.retryLane=o,la(e,o),_t(a,e,o),Xc;ai(),t=Sf(e,t,l)}else e=s.treeContext,qe=Qt(o.nextSibling),ot=t,we=!0,Al=null,Vt=!1,e!==null&&iu(t,e),t=Ks(t,a),t.flags|=4096;return t}return e=sl(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zs(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Qc(e,t,l,a,n){return ia(t),l=Tc(e,t,l,a,void 0,n),a=Ac(),e!==null&&!et?(Ec(e,t,n),fl(e,t,n)):(we&&a&&ic(t),t.flags|=1,ut(e,t,l,n),t.child)}function Nf(e,t,l,a,n,s){return ia(t),t.updateQueue=null,l=_u(t,a,l,n),ju(e),a=Ac(),e!==null&&!et?(Ec(e,t,s),fl(e,t,s)):(we&&a&&ic(t),t.flags|=1,ut(e,t,l,s),t.child)}function jf(e,t,l,a,n){if(ia(t),t.stateNode===null){var s=wa,o=l.contextType;typeof o=="object"&&o!==null&&(s=rt(o)),s=new l(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=qc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},pc(t),o=l.contextType,s.context=typeof o=="object"&&o!==null?rt(o):wa,s.state=t.memoizedState,o=l.getDerivedStateFromProps,typeof o=="function"&&(Yc(t,l,o,a),s.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(o=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),o!==s.state&&qc.enqueueReplaceState(s,s.state,null),Mn(t,a,s,n),wn(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var u=t.memoizedProps,x=da(l,u);s.props=x;var A=s.context,U=l.contextType;o=wa,typeof U=="object"&&U!==null&&(o=rt(U));var X=l.getDerivedStateFromProps;U=typeof X=="function"||typeof s.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,U||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u||A!==o)&&rf(t,s,a,o),Ml=!1;var E=t.memoizedState;s.state=E,Mn(t,a,s,n),wn(),A=t.memoizedState,u||E!==A||Ml?(typeof X=="function"&&(Yc(t,l,X,a),A=t.memoizedState),(x=Ml||of(t,l,x,a,E,A,o))?(U||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=A),s.props=a,s.state=A,s.context=o,a=x):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,gc(e,t),o=t.memoizedProps,U=da(l,o),s.props=U,X=t.pendingProps,E=s.context,A=l.contextType,x=wa,typeof A=="object"&&A!==null&&(x=rt(A)),u=l.getDerivedStateFromProps,(A=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==X||E!==x)&&rf(t,s,a,x),Ml=!1,E=t.memoizedState,s.state=E,Mn(t,a,s,n),wn();var R=t.memoizedState;o!==X||E!==R||Ml||e!==null&&e.dependencies!==null&&ws(e.dependencies)?(typeof u=="function"&&(Yc(t,l,u,a),R=t.memoizedState),(U=Ml||of(t,l,U,a,E,R,x)||e!==null&&e.dependencies!==null&&ws(e.dependencies))?(A||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,R,x),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,R,x)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=R),s.props=a,s.state=R,s.context=x,a=U):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Zs(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=ua(t,e.child,null,n),t.child=ua(t,null,l,n)):ut(e,t,l,n),t.memoizedState=s.state,e=t.child):e=fl(e,t,n),e}function _f(e,t,l,a){return na(),t.flags|=256,ut(e,t,l,a),t.child}var Kc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zc(e){return{baseLanes:e,cachePool:du()}}function $c(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Rt),e}function Tf(e,t,l){var a=t.pendingProps,n=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),o&&(n=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(n?kl(t):Rl(),(e=qe)?(e=Rd(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tl!==null?{id:Wt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},l=au(e),l.return=t,t.child=l,ot=t,qe=null)):e=null,e===null)throw El(t);return Oo(e)?t.lanes=32:t.lanes=536870912,null}var u=a.children;return a=a.fallback,n?(Rl(),n=t.mode,u=$s({mode:"hidden",children:u},n),a=aa(a,n,l,null),u.return=t,a.return=t,u.sibling=a,t.child=u,a=t.child,a.memoizedState=Zc(l),a.childLanes=$c(e,o,l),t.memoizedState=Kc,Dn(null,a)):(kl(t),Jc(t,u))}var x=e.memoizedState;if(x!==null&&(u=x.dehydrated,u!==null)){if(s)t.flags&256?(kl(t),t.flags&=-257,t=Fc(e,t,l)):t.memoizedState!==null?(Rl(),t.child=e.child,t.flags|=128,t=null):(Rl(),u=a.fallback,n=t.mode,a=$s({mode:"visible",children:a.children},n),u=aa(u,n,l,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,ua(t,e.child,null,l),a=t.child,a.memoizedState=Zc(l),a.childLanes=$c(e,o,l),t.memoizedState=Kc,t=Dn(null,a));else if(kl(t),Oo(u)){if(o=u.nextSibling&&u.nextSibling.dataset,o)var A=o.dgst;o=A,a=Error(r(419)),a.stack="",a.digest=o,Nn({value:a,source:null,stack:null}),t=Fc(e,t,l)}else if(et||ka(e,t,l,!1),o=(l&e.childLanes)!==0,et||o){if(o=Ye,o!==null&&(a=ur(o,l),a!==0&&a!==x.retryLane))throw x.retryLane=a,la(e,a),_t(o,e,a),Xc;Co(u)||ai(),t=Fc(e,t,l)}else Co(u)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,qe=Qt(u.nextSibling),ot=t,we=!0,Al=null,Vt=!1,e!==null&&iu(t,e),t=Jc(t,a.children),t.flags|=4096);return t}return n?(Rl(),u=a.fallback,n=t.mode,x=e.child,A=x.sibling,a=sl(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,A!==null?u=sl(A,u):(u=aa(u,n,l,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,Dn(null,a),a=t.child,u=e.child.memoizedState,u===null?u=Zc(l):(n=u.cachePool,n!==null?(x=Ie._currentValue,n=n.parent!==x?{parent:x,pool:x}:n):n=du(),u={baseLanes:u.baseLanes|l,cachePool:n}),a.memoizedState=u,a.childLanes=$c(e,o,l),t.memoizedState=Kc,Dn(e.child,a)):(kl(t),l=e.child,e=l.sibling,l=sl(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=l,t.memoizedState=null,l)}function Jc(e,t){return t=$s({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $s(e,t){return e=Mt(22,e,null,t),e.lanes=0,e}function Fc(e,t,l){return ua(t,e.child,null,l),e=Jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Af(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),fc(e.return,t,l)}function Wc(e,t,l,a,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=l,o.tailMode=n,o.treeForkCount=s)}function Ef(e,t,l){var a=t.pendingProps,n=a.revealOrder,s=a.tail;a=a.children;var o=Je.current,u=(o&2)!==0;if(u?(o=o&1|2,t.flags|=128):o&=1,$(Je,o),ut(e,t,a,l),a=we?Sn:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Af(e,l,t);else if(e.tag===19)Af(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&Hs(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Wc(t,!1,n,l,s,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Hs(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Wc(t,!0,l,null,s,a);break;case"together":Wc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function fl(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Hl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(ka(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,l=sl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=sl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Ic(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ws(e)))}function ih(e,t,l){switch(t.tag){case 3:Se(t,t.stateNode.containerInfo),wl(t,Ie,e.memoizedState.cache),na();break;case 27:case 5:We(t);break;case 4:Se(t,t.stateNode.containerInfo);break;case 10:wl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,jc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(kl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Tf(e,t,l):(kl(t),e=fl(e,t,l),e!==null?e.sibling:null);kl(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(ka(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return Ef(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),$(Je,Je.current),a)break;return null;case 22:return t.lanes=0,vf(e,t,l,t.pendingProps);case 24:wl(t,Ie,e.memoizedState.cache)}return fl(e,t,l)}function wf(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!Ic(e,l)&&(t.flags&128)===0)return et=!1,ih(e,t,l);et=(e.flags&131072)!==0}else et=!1,we&&(t.flags&1048576)!==0&&su(t,Sn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=oa(t.elementType),t.type=e,typeof e=="function")ac(e)?(a=da(e,a),t.tag=1,t=jf(null,t,e,a,l)):(t.tag=0,t=Qc(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===ce){t.tag=11,t=bf(null,t,e,a,l);break e}else if(n===w){t.tag=14,t=pf(null,t,e,a,l);break e}}throw t=ne(e)||e,Error(r(306,t,""))}}return t;case 0:return Qc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=da(a,t.pendingProps),jf(e,t,a,n,l);case 3:e:{if(Se(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var s=t.memoizedState;n=s.element,gc(e,t),Mn(t,a,null,l);var o=t.memoizedState;if(a=o.cache,wl(t,Ie,a),a!==s.cache&&dc(t,[Ie],l,!0),wn(),a=o.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=_f(e,t,a,l);break e}else if(a!==n){n=Gt(Error(r(424)),t),Nn(n),t=_f(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=Qt(e.firstChild),ot=t,we=!0,Al=null,Vt=!0,l=gu(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(na(),a===n){t=fl(e,t,l);break e}ut(e,t,a,l)}t=t.child}return t;case 26:return Zs(e,t),e===null?(l=Ld(t.type,null,t.pendingProps,null))?t.memoizedState=l:we||(l=t.type,e=t.pendingProps,a=ui(k.current).createElement(l),a[ct]=t,a[gt]=e,ft(a,l,e),nt(a),t.stateNode=a):t.memoizedState=Ld(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return We(t),e===null&&we&&(a=t.stateNode=Hd(t.type,t.pendingProps,k.current),ot=t,Vt=!0,n=qe,Yl(t.type)?(ko=n,qe=Qt(a.firstChild)):qe=n),ut(e,t,t.pendingProps.children,l),Zs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((n=a=qe)&&(a=Hh(a,t.type,t.pendingProps,Vt),a!==null?(t.stateNode=a,ot=t,qe=Qt(a.firstChild),Vt=!1,n=!0):n=!1),n||El(t)),We(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Eo(n,s)?a=null:o!==null&&Eo(n,o)&&(t.flags|=32),t.memoizedState!==null&&(n=Tc(e,t,Wm,null,null,l),Jn._currentValue=n),Zs(e,t),ut(e,t,a,l),t.child;case 6:return e===null&&we&&((e=l=qe)&&(l=Bh(l,t.pendingProps,Vt),l!==null?(t.stateNode=l,ot=t,qe=null,e=!0):e=!1),e||El(t)),null;case 13:return Tf(e,t,l);case 4:return Se(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ua(t,null,a,l):ut(e,t,a,l),t.child;case 11:return bf(e,t,t.type,t.pendingProps,l);case 7:return ut(e,t,t.pendingProps,l),t.child;case 8:return ut(e,t,t.pendingProps.children,l),t.child;case 12:return ut(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,wl(t,t.type,a.value),ut(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,ia(t),n=rt(n),a=a(n),t.flags|=1,ut(e,t,a,l),t.child;case 14:return pf(e,t,t.type,t.pendingProps,l);case 15:return gf(e,t,t.type,t.pendingProps,l);case 19:return Ef(e,t,l);case 31:return sh(e,t,l);case 22:return vf(e,t,l,t.pendingProps);case 24:return ia(t),a=rt(Ie),e===null?(n=xc(),n===null&&(n=Ye,s=mc(),n.pooledCache=s,s.refCount++,s!==null&&(n.pooledCacheLanes|=l),n=s),t.memoizedState={parent:a,cache:n},pc(t),wl(t,Ie,n)):((e.lanes&l)!==0&&(gc(e,t),Mn(t,null,null,l),wn()),n=e.memoizedState,s=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),wl(t,Ie,a)):(a=s.cache,wl(t,Ie,a),a!==n.cache&&dc(t,[Ie],l,!0))),ut(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function dl(e){e.flags|=4}function Pc(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(td())e.flags|=8192;else throw ra=ks,bc}else e.flags&=-16777217}function Mf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xd(t))if(td())e.flags|=8192;else throw ra=ks,bc}function Js(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?cr():536870912,e.lanes|=t,Xa|=t)}function zn(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function ch(e,t,l){var a=t.pendingProps;switch(cc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ol(Ie),Me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Oa(t)?dl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rc())),Ve(t),null;case 26:var n=t.type,s=t.memoizedState;return e===null?(dl(t),s!==null?(Ve(t),Mf(t,s)):(Ve(t),Pc(t,n,null,a,l))):s?s!==e.memoizedState?(dl(t),Ve(t),Mf(t,s)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&dl(t),Ve(t),Pc(t,n,e,a,l)),null;case 27:if(dt(t),l=k.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&dl(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}e=te.current,Oa(t)?cu(t):(e=Hd(n,a,l),t.stateNode=e,dl(t))}return Ve(t),null;case 5:if(dt(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&dl(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}if(s=te.current,Oa(t))cu(t);else{var o=ui(k.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":s=o.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?o.createElement(n,{is:a.is}):o.createElement(n)}}s[ct]=t,s[gt]=a;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)s.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(ft(s,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&dl(t)}}return Ve(t),Pc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&dl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=k.current,Oa(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=ot,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[ct]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Td(e.nodeValue,l)),e||El(t,!0)}else e=ui(e).createTextNode(a),e[ct]=t,t.stateNode=e}return Ve(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Oa(t),l!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ct]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else l=rc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ve(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Oa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(r(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));n[ct]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),n=!1}else n=rc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Js(t,t.updateQueue),Ve(t),null);case 4:return Me(),e===null&&No(t.stateNode.containerInfo),Ve(t),null;case 10:return ol(t.type),Ve(t),null;case 19:if(M(Je),a=t.memoizedState,a===null)return Ve(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)zn(a,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Hs(e),s!==null){for(t.flags|=128,zn(a,!1),e=s.updateQueue,t.updateQueue=e,Js(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)lu(l,e),l=l.sibling;return $(Je,Je.current&1|2),we&&il(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&bt()>ei&&(t.flags|=128,n=!0,zn(a,!1),t.lanes=4194304)}else{if(!n)if(e=Hs(s),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Js(t,e),zn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!we)return Ve(t),null}else 2*bt()-a.renderingStartTime>ei&&l!==536870912&&(t.flags|=128,n=!0,zn(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=bt(),e.sibling=null,l=Je.current,$(Je,n?l&1|2:l&1),we&&il(t,a.treeForkCount),e):(Ve(t),null);case 22:case 23:return Ot(t),Nc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),l=t.updateQueue,l!==null&&Js(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&M(ca),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ol(Ie),Ve(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function oh(e,t){switch(cc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(Ie),Me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return dt(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(r(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Je),null;case 4:return Me(),null;case 10:return ol(t.type),null;case 22:case 23:return Ot(t),Nc(),e!==null&&M(ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ol(Ie),null;case 25:return null;default:return null}}function Cf(e,t){switch(cc(t),t.tag){case 3:ol(Ie),Me();break;case 26:case 27:case 5:dt(t);break;case 4:Me();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:M(Je);break;case 10:ol(t.type);break;case 22:case 23:Ot(t),Nc(),e!==null&&M(ca);break;case 24:ol(Ie)}}function Hn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var s=l.create,o=l.inst;a=s(),o.destroy=a}l=l.next}while(l!==n)}}catch(u){He(t,t.return,u)}}function Dl(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){var o=a.inst,u=o.destroy;if(u!==void 0){o.destroy=void 0,n=t;var x=l,A=u;try{A()}catch(U){He(n,x,U)}}}a=a.next}while(a!==s)}}catch(U){He(t,t.return,U)}}function Of(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{yu(t,l)}catch(a){He(e,e.return,a)}}}function kf(e,t,l){l.props=da(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){He(e,t,a)}}function Bn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){He(e,t,n)}}function Pt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){He(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){He(e,t,n)}else l.current=null}function Rf(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){He(e,e.return,n)}}function eo(e,t,l){try{var a=e.stateNode;Ch(a,e.type,l,t),a[gt]=t}catch(n){He(e,e.return,n)}}function Df(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yl(e.type)||e.tag===4}function to(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lo(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=al));else if(a!==4&&(a===27&&Yl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(lo(e,t,l),e=e.sibling;e!==null;)lo(e,t,l),e=e.sibling}function Fs(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Yl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Fs(e,t,l),e=e.sibling;e!==null;)Fs(e,t,l),e=e.sibling}function zf(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ft(t,a,l),t[ct]=e,t[gt]=l}catch(s){He(e,e.return,s)}}var ml=!1,tt=!1,ao=!1,Hf=typeof WeakSet=="function"?WeakSet:Set,st=null;function rh(e,t){if(e=e.containerInfo,To=pi,e=Zr(e),Fi(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{l.nodeType,s.nodeType}catch{l=null;break e}var o=0,u=-1,x=-1,A=0,U=0,X=e,E=null;t:for(;;){for(var R;X!==l||n!==0&&X.nodeType!==3||(u=o+n),X!==s||a!==0&&X.nodeType!==3||(x=o+a),X.nodeType===3&&(o+=X.nodeValue.length),(R=X.firstChild)!==null;)E=X,X=R;for(;;){if(X===e)break t;if(E===l&&++A===n&&(u=o),E===s&&++U===a&&(x=o),(R=X.nextSibling)!==null)break;X=E,E=X.parentNode}X=R}l=u===-1||x===-1?null:{start:u,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ao={focusedElem:e,selectionRange:l},pi=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,l=t,n=s.memoizedProps,s=s.memoizedState,a=l.stateNode;try{var ue=da(l.type,n);e=a.getSnapshotBeforeUpdate(ue,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(pe){He(l,l.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Mo(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function Bf(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:xl(e,l),a&4&&Hn(5,l);break;case 1:if(xl(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(o){He(l,l.return,o)}else{var n=da(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){He(l,l.return,o)}}a&64&&Of(l),a&512&&Bn(l,l.return);break;case 3:if(xl(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{yu(e,t)}catch(o){He(l,l.return,o)}}break;case 27:t===null&&a&4&&zf(l);case 26:case 5:xl(e,l),t===null&&a&4&&Rf(l),a&512&&Bn(l,l.return);break;case 12:xl(e,l);break;case 31:xl(e,l),a&4&&Gf(e,l);break;case 13:xl(e,l),a&4&&Yf(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=gh.bind(null,l),Uh(e,l))));break;case 22:if(a=l.memoizedState!==null||ml,!a){t=t!==null&&t.memoizedState!==null||tt,n=ml;var s=tt;ml=a,(tt=t)&&!s?bl(e,l,(l.subtreeFlags&8772)!==0):xl(e,l),ml=n,tt=s}break;case 30:break;default:xl(e,l)}}function Uf(e){var t=e.alternate;t!==null&&(e.alternate=null,Uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ri(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,yt=!1;function hl(e,t,l){for(l=l.child;l!==null;)Lf(e,t,l),l=l.sibling}function Lf(e,t,l){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(cn,l)}catch{}switch(l.tag){case 26:tt||Pt(l,t),hl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tt||Pt(l,t);var a=Xe,n=yt;Yl(l.type)&&(Xe=l.stateNode,yt=!1),hl(e,t,l),Kn(l.stateNode),Xe=a,yt=n;break;case 5:tt||Pt(l,t);case 6:if(a=Xe,n=yt,Xe=null,hl(e,t,l),Xe=a,yt=n,Xe!==null)if(yt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(l.stateNode)}catch(s){He(l,t,s)}else try{Xe.removeChild(l.stateNode)}catch(s){He(l,t,s)}break;case 18:Xe!==null&&(yt?(e=Xe,Od(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ia(e)):Od(Xe,l.stateNode));break;case 4:a=Xe,n=yt,Xe=l.stateNode.containerInfo,yt=!0,hl(e,t,l),Xe=a,yt=n;break;case 0:case 11:case 14:case 15:Dl(2,l,t),tt||Dl(4,l,t),hl(e,t,l);break;case 1:tt||(Pt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&kf(l,t,a)),hl(e,t,l);break;case 21:hl(e,t,l);break;case 22:tt=(a=tt)||l.memoizedState!==null,hl(e,t,l),tt=a;break;default:hl(e,t,l)}}function Gf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ia(e)}catch(l){He(t,t.return,l)}}}function Yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ia(e)}catch(l){He(t,t.return,l)}}function uh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hf),t;default:throw Error(r(435,e.tag))}}function Ws(e,t){var l=uh(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=vh.bind(null,e,a);a.then(n,n)}})}function St(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],s=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 27:if(Yl(u.type)){Xe=u.stateNode,yt=!1;break e}break;case 5:Xe=u.stateNode,yt=!1;break e;case 3:case 4:Xe=u.stateNode.containerInfo,yt=!0;break e}u=u.return}if(Xe===null)throw Error(r(160));Lf(s,o,n),Xe=null,yt=!1,s=n.alternate,s!==null&&(s.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)qf(t,e),t=t.sibling}var $t=null;function qf(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),Nt(e),a&4&&(Dl(3,e,e.return),Hn(3,e),Dl(5,e,e.return));break;case 1:St(t,e),Nt(e),a&512&&(tt||l===null||Pt(l,l.return)),a&64&&ml&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=$t;if(St(t,e),Nt(e),a&512&&(tt||l===null||Pt(l,l.return)),a&4){var s=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":s=n.getElementsByTagName("title")[0],(!s||s[un]||s[ct]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=n.createElement(a),n.head.insertBefore(s,n.querySelector("head > title"))),ft(s,a,l),s[ct]=e,nt(s),a=s;break e;case"link":var o=qd("link","href",n).get(a+(l.href||""));if(o){for(var u=0;u<o.length;u++)if(s=o[u],s.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&s.getAttribute("rel")===(l.rel==null?null:l.rel)&&s.getAttribute("title")===(l.title==null?null:l.title)&&s.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){o.splice(u,1);break t}}s=n.createElement(a),ft(s,a,l),n.head.appendChild(s);break;case"meta":if(o=qd("meta","content",n).get(a+(l.content||""))){for(u=0;u<o.length;u++)if(s=o[u],s.getAttribute("content")===(l.content==null?null:""+l.content)&&s.getAttribute("name")===(l.name==null?null:l.name)&&s.getAttribute("property")===(l.property==null?null:l.property)&&s.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&s.getAttribute("charset")===(l.charSet==null?null:l.charSet)){o.splice(u,1);break t}}s=n.createElement(a),ft(s,a,l),n.head.appendChild(s);break;default:throw Error(r(468,a))}s[ct]=e,nt(s),a=s}e.stateNode=a}else Vd(n,e.type,e.stateNode);else e.stateNode=Yd(n,a,e.memoizedProps);else s!==a?(s===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):s.count--,a===null?Vd(n,e.type,e.stateNode):Yd(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&eo(e,e.memoizedProps,l.memoizedProps)}break;case 27:St(t,e),Nt(e),a&512&&(tt||l===null||Pt(l,l.return)),l!==null&&a&4&&eo(e,e.memoizedProps,l.memoizedProps);break;case 5:if(St(t,e),Nt(e),a&512&&(tt||l===null||Pt(l,l.return)),e.flags&32){n=e.stateNode;try{Sa(n,"")}catch(ue){He(e,e.return,ue)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,eo(e,n,l!==null?l.memoizedProps:n)),a&1024&&(ao=!0);break;case 6:if(St(t,e),Nt(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(ue){He(e,e.return,ue)}}break;case 3:if(mi=null,n=$t,$t=fi(t.containerInfo),St(t,e),$t=n,Nt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Ia(t.containerInfo)}catch(ue){He(e,e.return,ue)}ao&&(ao=!1,Vf(e));break;case 4:a=$t,$t=fi(e.stateNode.containerInfo),St(t,e),Nt(e),$t=a;break;case 12:St(t,e),Nt(e);break;case 31:St(t,e),Nt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ws(e,a)));break;case 13:St(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ps=bt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ws(e,a)));break;case 22:n=e.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,A=ml,U=tt;if(ml=A||n,tt=U||x,St(t,e),tt=U,ml=A,Nt(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||x||ml||tt||ma(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){x=l=t;try{if(s=x.stateNode,n)o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{u=x.stateNode;var X=x.memoizedProps.style,E=X!=null&&X.hasOwnProperty("display")?X.display:null;u.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch(ue){He(x,x.return,ue)}}}else if(t.tag===6){if(l===null){x=t;try{x.stateNode.nodeValue=n?"":x.memoizedProps}catch(ue){He(x,x.return,ue)}}}else if(t.tag===18){if(l===null){x=t;try{var R=x.stateNode;n?kd(R,!0):kd(x.stateNode,!1)}catch(ue){He(x,x.return,ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Ws(e,l))));break;case 19:St(t,e),Nt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ws(e,a)));break;case 30:break;case 21:break;default:St(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Df(a)){l=a;break}a=a.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var n=l.stateNode,s=to(e);Fs(e,s,n);break;case 5:var o=l.stateNode;l.flags&32&&(Sa(o,""),l.flags&=-33);var u=to(e);Fs(e,u,o);break;case 3:case 4:var x=l.stateNode.containerInfo,A=to(e);lo(e,A,x);break;default:throw Error(r(161))}}catch(U){He(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bf(e,t.alternate,t),t=t.sibling}function ma(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Dl(4,t,t.return),ma(t);break;case 1:Pt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&kf(t,t.return,l),ma(t);break;case 27:Kn(t.stateNode);case 26:case 5:Pt(t,t.return),ma(t);break;case 22:t.memoizedState===null&&ma(t);break;case 30:ma(t);break;default:ma(t)}e=e.sibling}}function bl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:bl(n,s,l),Hn(4,s);break;case 1:if(bl(n,s,l),a=s,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(A){He(a,a.return,A)}if(a=s,n=a.updateQueue,n!==null){var u=a.stateNode;try{var x=n.shared.hiddenCallbacks;if(x!==null)for(n.shared.hiddenCallbacks=null,n=0;n<x.length;n++)vu(x[n],u)}catch(A){He(a,a.return,A)}}l&&o&64&&Of(s),Bn(s,s.return);break;case 27:zf(s);case 26:case 5:bl(n,s,l),l&&a===null&&o&4&&Rf(s),Bn(s,s.return);break;case 12:bl(n,s,l);break;case 31:bl(n,s,l),l&&o&4&&Gf(n,s);break;case 13:bl(n,s,l),l&&o&4&&Yf(n,s);break;case 22:s.memoizedState===null&&bl(n,s,l),Bn(s,s.return);break;case 30:break;default:bl(n,s,l)}t=t.sibling}}function no(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&jn(l))}function so(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jn(e))}function Jt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xf(e,t,l,a),t=t.sibling}function Xf(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,l,a),n&2048&&Hn(9,t);break;case 1:Jt(e,t,l,a);break;case 3:Jt(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jn(e)));break;case 12:if(n&2048){Jt(e,t,l,a),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,u=s.onPostCommit;typeof u=="function"&&u(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){He(t,t.return,x)}}else Jt(e,t,l,a);break;case 31:Jt(e,t,l,a);break;case 13:Jt(e,t,l,a);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,t.memoizedState!==null?s._visibility&2?Jt(e,t,l,a):Un(e,t):s._visibility&2?Jt(e,t,l,a):(s._visibility|=2,Ya(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&no(o,t);break;case 24:Jt(e,t,l,a),n&2048&&so(t.alternate,t);break;default:Jt(e,t,l,a)}}function Ya(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,o=t,u=l,x=a,A=o.flags;switch(o.tag){case 0:case 11:case 15:Ya(s,o,u,x,n),Hn(8,o);break;case 23:break;case 22:var U=o.stateNode;o.memoizedState!==null?U._visibility&2?Ya(s,o,u,x,n):Un(s,o):(U._visibility|=2,Ya(s,o,u,x,n)),n&&A&2048&&no(o.alternate,o);break;case 24:Ya(s,o,u,x,n),n&&A&2048&&so(o.alternate,o);break;default:Ya(s,o,u,x,n)}t=t.sibling}}function Un(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:Un(l,a),n&2048&&no(a.alternate,a);break;case 24:Un(l,a),n&2048&&so(a.alternate,a);break;default:Un(l,a)}t=t.sibling}}var Ln=8192;function qa(e,t,l){if(e.subtreeFlags&Ln)for(e=e.child;e!==null;)Qf(e,t,l),e=e.sibling}function Qf(e,t,l){switch(e.tag){case 26:qa(e,t,l),e.flags&Ln&&e.memoizedState!==null&&Fh(l,$t,e.memoizedState,e.memoizedProps);break;case 5:qa(e,t,l);break;case 3:case 4:var a=$t;$t=fi(e.stateNode.containerInfo),qa(e,t,l),$t=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ln,Ln=16777216,qa(e,t,l),Ln=a):qa(e,t,l));break;default:qa(e,t,l)}}function Kf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];st=a,$f(a,e)}Kf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zf(e),e=e.sibling}function Zf(e){switch(e.tag){case 0:case 11:case 15:Gn(e),e.flags&2048&&Dl(9,e,e.return);break;case 3:Gn(e);break;case 12:Gn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Is(e)):Gn(e);break;default:Gn(e)}}function Is(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];st=a,$f(a,e)}Kf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Dl(8,t,t.return),Is(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Is(t));break;default:Is(t)}e=e.sibling}}function $f(e,t){for(;st!==null;){var l=st;switch(l.tag){case 0:case 11:case 15:Dl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:jn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,st=a;else e:for(l=e;st!==null;){a=st;var n=a.sibling,s=a.return;if(Uf(a),a===l){st=null;break e}if(n!==null){n.return=s,st=n;break e}st=s}}}var fh={getCacheForType:function(e){var t=rt(Ie),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return rt(Ie).controller.signal}},dh=typeof WeakMap=="function"?WeakMap:Map,De=0,Ye=null,Ne=null,Te=0,ze=0,kt=null,zl=!1,Va=!1,io=!1,pl=0,$e=0,Hl=0,ha=0,co=0,Rt=0,Xa=0,Yn=null,jt=null,oo=!1,Ps=0,Jf=0,ei=1/0,ti=null,Bl=null,lt=0,Ul=null,Qa=null,gl=0,ro=0,uo=null,Ff=null,qn=0,fo=null;function Dt(){return(De&2)!==0&&Te!==0?Te&-Te:h.T!==null?go():fr()}function Wf(){if(Rt===0)if((Te&536870912)===0||we){var e=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),Rt=e}else Rt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Rt}function _t(e,t,l){(e===Ye&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(Ka(e,0),Ll(e,Te,Rt,!1)),rn(e,l),((De&2)===0||e!==Ye)&&(e===Ye&&((De&2)===0&&(ha|=l),$e===4&&Ll(e,Te,Rt,!1)),el(e))}function If(e,t,l){if((De&6)!==0)throw Error(r(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||on(e,t),n=a?xh(e,t):ho(e,t,!0),s=a;do{if(n===0){Va&&!a&&Ll(e,t,0,!1);break}else{if(l=e.current.alternate,s&&!mh(l)){n=ho(e,t,!1),s=!1;continue}if(n===2){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var u=e;n=Yn;var x=u.current.memoizedState.isDehydrated;if(x&&(Ka(u,o).flags|=256),o=ho(u,o,!1),o!==2){if(io&&!x){u.errorRecoveryDisabledLanes|=s,ha|=s,n=4;break e}s=jt,jt=n,s!==null&&(jt===null?jt=s:jt.push.apply(jt,s))}n=o}if(s=!1,n!==2)continue}}if(n===1){Ka(e,0),Ll(e,t,0,!0);break}e:{switch(a=e,s=n,s){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ll(a,t,Rt,!zl);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(n=Ps+300-bt(),10<n)){if(Ll(a,t,Rt,!zl),fs(a,0,!0)!==0)break e;gl=t,a.timeoutHandle=Md(Pf.bind(null,a,l,jt,ti,oo,t,Rt,ha,Xa,zl,s,"Throttled",-0,0),n);break e}Pf(a,l,jt,ti,oo,t,Rt,ha,Xa,zl,s,null,-0,0)}}break}while(!0);el(e)}function Pf(e,t,l,a,n,s,o,u,x,A,U,X,E,R){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:al},Qf(t,s,X);var ue=(s&62914560)===s?Ps-bt():(s&4194048)===s?Jf-bt():0;if(ue=Wh(X,ue),ue!==null){gl=s,e.cancelPendingCommit=ue(cd.bind(null,e,t,s,l,a,n,o,u,x,U,X,null,E,R)),Ll(e,s,o,!A);return}}cd(e,t,s,l,a,n,o,u,x)}function mh(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],s=n.getSnapshot;n=n.value;try{if(!wt(s(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ll(e,t,l,a){t&=~co,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var s=31-Et(n),o=1<<s;a[s]=-1,n&=~o}l!==0&&or(e,l,t)}function li(){return(De&6)===0?(Vn(0),!1):!0}function mo(){if(Ne!==null){if(ze===0)var e=Ne.return;else e=Ne,cl=sa=null,wc(e),Ha=null,Tn=0,e=Ne;for(;e!==null;)Cf(e.alternate,e),e=e.return;Ne=null}}function Ka(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Rh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),gl=0,mo(),Ye=e,Ne=l=sl(e.current,null),Te=t,ze=0,kt=null,zl=!1,Va=on(e,t),io=!1,Xa=Rt=co=ha=Hl=$e=0,jt=Yn=null,oo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-Et(a),s=1<<n;t|=e[n],a&=~s}return pl=t,js(),l}function ed(e,t){ve=null,h.H=Rn,t===za||t===Os?(t=xu(),ze=3):t===bc?(t=xu(),ze=4):ze=t===Xc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,Ne===null&&($e=1,Qs(e,Gt(t,e.current)))}function td(){var e=Ct.current;return e===null?!0:(Te&4194048)===Te?Xt===null:(Te&62914560)===Te||(Te&536870912)!==0?e===Xt:!1}function ld(){var e=h.H;return h.H=Rn,e===null?Rn:e}function ad(){var e=h.A;return h.A=fh,e}function ai(){$e=4,zl||(Te&4194048)!==Te&&Ct.current!==null||(Va=!0),(Hl&134217727)===0&&(ha&134217727)===0||Ye===null||Ll(Ye,Te,Rt,!1)}function ho(e,t,l){var a=De;De|=2;var n=ld(),s=ad();(Ye!==e||Te!==t)&&(ti=null,Ka(e,t)),t=!1;var o=$e;e:do try{if(ze!==0&&Ne!==null){var u=Ne,x=kt;switch(ze){case 8:mo(),o=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var A=ze;if(ze=0,kt=null,Za(e,u,x,A),l&&Va){o=0;break e}break;default:A=ze,ze=0,kt=null,Za(e,u,x,A)}}hh(),o=$e;break}catch(U){ed(e,U)}while(!0);return t&&e.shellSuspendCounter++,cl=sa=null,De=a,h.H=n,h.A=s,Ne===null&&(Ye=null,Te=0,js()),o}function hh(){for(;Ne!==null;)nd(Ne)}function xh(e,t){var l=De;De|=2;var a=ld(),n=ad();Ye!==e||Te!==t?(ti=null,ei=bt()+500,Ka(e,t)):Va=on(e,t);e:do try{if(ze!==0&&Ne!==null){t=Ne;var s=kt;t:switch(ze){case 1:ze=0,kt=null,Za(e,t,s,1);break;case 2:case 9:if(mu(s)){ze=0,kt=null,sd(t);break}t=function(){ze!==2&&ze!==9||Ye!==e||(ze=7),el(e)},s.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:mu(s)?(ze=0,kt=null,sd(t)):(ze=0,kt=null,Za(e,t,s,7));break;case 5:var o=null;switch(Ne.tag){case 26:o=Ne.memoizedState;case 5:case 27:var u=Ne;if(o?Xd(o):u.stateNode.complete){ze=0,kt=null;var x=u.sibling;if(x!==null)Ne=x;else{var A=u.return;A!==null?(Ne=A,ni(A)):Ne=null}break t}}ze=0,kt=null,Za(e,t,s,5);break;case 6:ze=0,kt=null,Za(e,t,s,6);break;case 8:mo(),$e=6;break e;default:throw Error(r(462))}}bh();break}catch(U){ed(e,U)}while(!0);return cl=sa=null,h.H=a,h.A=n,De=l,Ne!==null?0:(Ye=null,Te=0,js(),$e)}function bh(){for(;Ne!==null&&!tl();)nd(Ne)}function nd(e){var t=wf(e.alternate,e,pl);e.memoizedProps=e.pendingProps,t===null?ni(e):Ne=t}function sd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Nf(l,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Nf(l,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:wc(t);default:Cf(l,t),t=Ne=lu(t,pl),t=wf(l,t,pl)}e.memoizedProps=e.pendingProps,t===null?ni(e):Ne=t}function Za(e,t,l,a){cl=sa=null,wc(t),Ha=null,Tn=0;var n=t.return;try{if(nh(e,n,t,l,Te)){$e=1,Qs(e,Gt(l,e.current)),Ne=null;return}}catch(s){if(n!==null)throw Ne=n,s;$e=1,Qs(e,Gt(l,e.current)),Ne=null;return}t.flags&32768?(we||a===1?e=!0:Va||(Te&536870912)!==0?e=!1:(zl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ct.current,a!==null&&a.tag===13&&(a.flags|=16384))),id(t,e)):ni(t)}function ni(e){var t=e;do{if((t.flags&32768)!==0){id(t,zl);return}e=t.return;var l=ch(t.alternate,t,pl);if(l!==null){Ne=l;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);$e===0&&($e=5)}function id(e,t){do{var l=oh(e.alternate,e);if(l!==null){l.flags&=32767,Ne=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=l}while(e!==null);$e=6,Ne=null}function cd(e,t,l,a,n,s,o,u,x){e.cancelPendingCommit=null;do si();while(lt!==0);if((De&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,s|=tc,J0(e,l,s,o,u,x),e===Ye&&(Ne=Ye=null,Te=0),Qa=t,Ul=e,gl=l,ro=s,uo=n,Ff=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yh(cs,function(){return dd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=h.T,h.T=null,n=B.p,B.p=2,o=De,De|=4;try{rh(e,t,l)}finally{De=o,B.p=n,h.T=a}}lt=1,od(),rd(),ud()}}function od(){if(lt===1){lt=0;var e=Ul,t=Qa,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=h.T,h.T=null;var a=B.p;B.p=2;var n=De;De|=4;try{qf(t,e);var s=Ao,o=Zr(e.containerInfo),u=s.focusedElem,x=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Kr(u.ownerDocument.documentElement,u)){if(x!==null&&Fi(u)){var A=x.start,U=x.end;if(U===void 0&&(U=A),"selectionStart"in u)u.selectionStart=A,u.selectionEnd=Math.min(U,u.value.length);else{var X=u.ownerDocument||document,E=X&&X.defaultView||window;if(E.getSelection){var R=E.getSelection(),ue=u.textContent.length,pe=Math.min(x.start,ue),Le=x.end===void 0?pe:Math.min(x.end,ue);!R.extend&&pe>Le&&(o=Le,Le=pe,pe=o);var y=Qr(u,pe),g=Qr(u,Le);if(y&&g&&(R.rangeCount!==1||R.anchorNode!==y.node||R.anchorOffset!==y.offset||R.focusNode!==g.node||R.focusOffset!==g.offset)){var T=X.createRange();T.setStart(y.node,y.offset),R.removeAllRanges(),pe>Le?(R.addRange(T),R.extend(g.node,g.offset)):(T.setEnd(g.node,g.offset),R.addRange(T))}}}}for(X=[],R=u;R=R.parentNode;)R.nodeType===1&&X.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<X.length;u++){var q=X[u];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}pi=!!To,Ao=To=null}finally{De=n,B.p=a,h.T=l}}e.current=t,lt=2}}function rd(){if(lt===2){lt=0;var e=Ul,t=Qa,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=h.T,h.T=null;var a=B.p;B.p=2;var n=De;De|=4;try{Bf(e,t.alternate,t)}finally{De=n,B.p=a,h.T=l}}lt=3}}function ud(){if(lt===4||lt===3){lt=0,is();var e=Ul,t=Qa,l=gl,a=Ff;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,Qa=Ul=null,fd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Bl=null),Oi(l),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(cn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=h.T,n=B.p,B.p=2,h.T=null;try{for(var s=e.onRecoverableError,o=0;o<a.length;o++){var u=a[o];s(u.value,{componentStack:u.stack})}}finally{h.T=t,B.p=n}}(gl&3)!==0&&si(),el(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===fo?qn++:(qn=0,fo=e):qn=0,Vn(0)}}function fd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,jn(t)))}function si(){return od(),rd(),ud(),dd()}function dd(){if(lt!==5)return!1;var e=Ul,t=ro;ro=0;var l=Oi(gl),a=h.T,n=B.p;try{B.p=32>l?32:l,h.T=null,l=uo,uo=null;var s=Ul,o=gl;if(lt=0,Qa=Ul=null,gl=0,(De&6)!==0)throw Error(r(331));var u=De;if(De|=4,Zf(s.current),Xf(s,s.current,o,l),De=u,Vn(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(cn,s)}catch{}return!0}finally{B.p=n,h.T=a,fd(e,t)}}function md(e,t,l){t=Gt(l,t),t=Vc(e.stateNode,t,2),e=Ol(e,t,2),e!==null&&(rn(e,2),el(e))}function He(e,t,l){if(e.tag===3)md(e,e,l);else for(;t!==null;){if(t.tag===3){md(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Bl===null||!Bl.has(a))){e=Gt(l,e),l=hf(2),a=Ol(t,l,2),a!==null&&(xf(l,a,t,e),rn(a,2),el(a));break}}t=t.return}}function xo(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new dh;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(io=!0,n.add(l),e=ph.bind(null,e,t,l),t.then(e,e))}function ph(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ye===e&&(Te&l)===l&&($e===4||$e===3&&(Te&62914560)===Te&&300>bt()-Ps?(De&2)===0&&Ka(e,0):co|=l,Xa===Te&&(Xa=0)),el(e)}function hd(e,t){t===0&&(t=cr()),e=la(e,t),e!==null&&(rn(e,t),el(e))}function gh(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),hd(e,l)}function vh(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),hd(e,l)}function yh(e,t){return at(e,t)}var ii=null,$a=null,bo=!1,ci=!1,po=!1,Gl=0;function el(e){e!==$a&&e.next===null&&($a===null?ii=$a=e:$a=$a.next=e),ci=!0,bo||(bo=!0,Nh())}function Vn(e,t){if(!po&&ci){po=!0;do for(var l=!1,a=ii;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var s=0;else{var o=a.suspendedLanes,u=a.pingedLanes;s=(1<<31-Et(42|e)+1)-1,s&=n&~(o&~u),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(l=!0,gd(a,s))}else s=Te,s=fs(a,a===Ye?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||on(a,s)||(l=!0,gd(a,s));a=a.next}while(l);po=!1}}function Sh(){xd()}function xd(){ci=bo=!1;var e=0;Gl!==0&&kh()&&(e=Gl);for(var t=bt(),l=null,a=ii;a!==null;){var n=a.next,s=bd(a,t);s===0?(a.next=null,l===null?ii=n:l.next=n,n===null&&($a=l)):(l=a,(e!==0||(s&3)!==0)&&(ci=!0)),a=n}lt!==0&&lt!==5||Vn(e),Gl!==0&&(Gl=0)}function bd(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var o=31-Et(s),u=1<<o,x=n[o];x===-1?((u&l)===0||(u&a)!==0)&&(n[o]=$0(u,t)):x<=t&&(e.expiredLanes|=u),s&=~u}if(t=Ye,l=Te,l=fs(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&xt(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||on(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&xt(a),Oi(l)){case 2:case 8:l=sr;break;case 32:l=cs;break;case 268435456:l=ir;break;default:l=cs}return a=pd.bind(null,e),l=at(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&xt(a),e.callbackPriority=2,e.callbackNode=null,2}function pd(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(si()&&e.callbackNode!==l)return null;var a=Te;return a=fs(e,e===Ye?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(If(e,a,t),bd(e,bt()),e.callbackNode!=null&&e.callbackNode===l?pd.bind(null,e):null)}function gd(e,t){if(si())return null;If(e,t,!0)}function Nh(){Dh(function(){(De&6)!==0?at(nr,Sh):xd()})}function go(){if(Gl===0){var e=Ra;e===0&&(e=os,os<<=1,(os&261888)===0&&(os=256)),Gl=e}return Gl}function vd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xs(""+e)}function yd(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function jh(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var s=vd((n[gt]||null).action),o=a.submitter;o&&(t=(t=o[gt]||null)?vd(t.formAction):o.getAttribute("formAction"),t!==null&&(s=t,o=null));var u=new vs("action","action",null,a,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Gl!==0){var x=o?yd(n,o):new FormData(n);Bc(l,{pending:!0,data:x,method:n.method,action:s},null,x)}}else typeof s=="function"&&(u.preventDefault(),x=o?yd(n,o):new FormData(n),Bc(l,{pending:!0,data:x,method:n.method,action:s},s,x))},currentTarget:n}]})}}for(var vo=0;vo<ec.length;vo++){var yo=ec[vo],_h=yo.toLowerCase(),Th=yo[0].toUpperCase()+yo.slice(1);Zt(_h,"on"+Th)}Zt(Fr,"onAnimationEnd"),Zt(Wr,"onAnimationIteration"),Zt(Ir,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(Ym,"onTransitionRun"),Zt(qm,"onTransitionStart"),Zt(Vm,"onTransitionCancel"),Zt(Pr,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Il("onBeforeInput",["compositionend","keypress","textInput","paste"]),Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ah=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xn));function Sd(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var o=a.length-1;0<=o;o--){var u=a[o],x=u.instance,A=u.currentTarget;if(u=u.listener,x!==s&&n.isPropagationStopped())break e;s=u,n.currentTarget=A;try{s(n)}catch(U){Ns(U)}n.currentTarget=null,s=x}else for(o=0;o<a.length;o++){if(u=a[o],x=u.instance,A=u.currentTarget,u=u.listener,x!==s&&n.isPropagationStopped())break e;s=u,n.currentTarget=A;try{s(n)}catch(U){Ns(U)}n.currentTarget=null,s=x}}}}function je(e,t){var l=t[ki];l===void 0&&(l=t[ki]=new Set);var a=e+"__bubble";l.has(a)||(Nd(t,e,2,!1),l.add(a))}function So(e,t,l){var a=0;t&&(a|=4),Nd(l,e,a,t)}var oi="_reactListening"+Math.random().toString(36).slice(2);function No(e){if(!e[oi]){e[oi]=!0,hr.forEach(function(l){l!=="selectionchange"&&(Ah.has(l)||So(l,!1,e),So(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oi]||(t[oi]=!0,So("selectionchange",!1,t))}}function Nd(e,t,l,a){switch(Wd(t)){case 2:var n=ex;break;case 8:n=tx;break;default:n=Bo}l=n.bind(null,t,l,e),n=void 0,!Yi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function jo(e,t,l,a,n){var s=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var u=a.stateNode.containerInfo;if(u===n)break;if(o===4)for(o=a.return;o!==null;){var x=o.tag;if((x===3||x===4)&&o.stateNode.containerInfo===n)return;o=o.return}for(;u!==null;){if(o=ba(u),o===null)return;if(x=o.tag,x===5||x===6||x===26||x===27){a=s=o;continue e}u=u.parentNode}}a=a.return}Ar(function(){var A=s,U=Li(l),X=[];e:{var E=eu.get(e);if(E!==void 0){var R=vs,ue=e;switch(e){case"keypress":if(ps(l)===0)break e;case"keydown":case"keyup":R=vm;break;case"focusin":ue="focus",R=Qi;break;case"focusout":ue="blur",R=Qi;break;case"beforeblur":case"afterblur":R=Qi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Nm;break;case Fr:case Wr:case Ir:R=um;break;case Pr:R=_m;break;case"scroll":case"scrollend":R=sm;break;case"wheel":R=Am;break;case"copy":case"cut":case"paste":R=dm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Or;break;case"toggle":case"beforetoggle":R=wm}var pe=(t&4)!==0,Le=!pe&&(e==="scroll"||e==="scrollend"),y=pe?E!==null?E+"Capture":null:E;pe=[];for(var g=A,T;g!==null;){var q=g;if(T=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||T===null||y===null||(q=dn(g,y),q!=null&&pe.push(Qn(g,q,T))),Le)break;g=g.return}0<pe.length&&(E=new R(E,ue,null,l,U),X.push({event:E,listeners:pe}))}}if((t&7)===0){e:{if(E=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",E&&l!==Ui&&(ue=l.relatedTarget||l.fromElement)&&(ba(ue)||ue[xa]))break e;if((R||E)&&(E=U.window===U?U:(E=U.ownerDocument)?E.defaultView||E.parentWindow:window,R?(ue=l.relatedTarget||l.toElement,R=A,ue=ue?ba(ue):null,ue!==null&&(Le=v(ue),pe=ue.tag,ue!==Le||pe!==5&&pe!==27&&pe!==6)&&(ue=null)):(R=null,ue=A),R!==ue)){if(pe=Mr,q="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Or,q="onPointerLeave",y="onPointerEnter",g="pointer"),Le=R==null?E:fn(R),T=ue==null?E:fn(ue),E=new pe(q,g+"leave",R,l,U),E.target=Le,E.relatedTarget=T,q=null,ba(U)===A&&(pe=new pe(y,g+"enter",ue,l,U),pe.target=T,pe.relatedTarget=Le,q=pe),Le=q,R&&ue)t:{for(pe=Eh,y=R,g=ue,T=0,q=y;q;q=pe(q))T++;q=0;for(var xe=g;xe;xe=pe(xe))q++;for(;0<T-q;)y=pe(y),T--;for(;0<q-T;)g=pe(g),q--;for(;T--;){if(y===g||g!==null&&y===g.alternate){pe=y;break t}y=pe(y),g=pe(g)}pe=null}else pe=null;R!==null&&jd(X,E,R,pe,!1),ue!==null&&Le!==null&&jd(X,Le,ue,pe,!0)}}e:{if(E=A?fn(A):window,R=E.nodeName&&E.nodeName.toLowerCase(),R==="select"||R==="input"&&E.type==="file")var Oe=Lr;else if(Br(E))if(Gr)Oe=Um;else{Oe=Hm;var fe=zm}else R=E.nodeName,!R||R.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?A&&Bi(A.elementType)&&(Oe=Lr):Oe=Bm;if(Oe&&(Oe=Oe(e,A))){Ur(X,Oe,l,U);break e}fe&&fe(e,E,A),e==="focusout"&&A&&E.type==="number"&&A.memoizedProps.value!=null&&Hi(E,"number",E.value)}switch(fe=A?fn(A):window,e){case"focusin":(Br(fe)||fe.contentEditable==="true")&&(Ta=fe,Wi=A,yn=null);break;case"focusout":yn=Wi=Ta=null;break;case"mousedown":Ii=!0;break;case"contextmenu":case"mouseup":case"dragend":Ii=!1,$r(X,l,U);break;case"selectionchange":if(Gm)break;case"keydown":case"keyup":$r(X,l,U)}var ye;if(Zi)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else _a?zr(e,l)&&(Ae="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(kr&&l.locale!=="ko"&&(_a||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&_a&&(ye=Er()):(_l=U,qi="value"in _l?_l.value:_l.textContent,_a=!0)),fe=ri(A,Ae),0<fe.length&&(Ae=new Cr(Ae,e,null,l,U),X.push({event:Ae,listeners:fe}),ye?Ae.data=ye:(ye=Hr(l),ye!==null&&(Ae.data=ye)))),(ye=Cm?Om(e,l):km(e,l))&&(Ae=ri(A,"onBeforeInput"),0<Ae.length&&(fe=new Cr("onBeforeInput","beforeinput",null,l,U),X.push({event:fe,listeners:Ae}),fe.data=ye)),jh(X,e,A,l,U)}Sd(X,t)})}function Qn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function ri(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,s=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||s===null||(n=dn(e,l),n!=null&&a.unshift(Qn(e,n,s)),n=dn(e,t),n!=null&&a.push(Qn(e,n,s))),e.tag===3)return a;e=e.return}return[]}function Eh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jd(e,t,l,a,n){for(var s=t._reactName,o=[];l!==null&&l!==a;){var u=l,x=u.alternate,A=u.stateNode;if(u=u.tag,x!==null&&x===a)break;u!==5&&u!==26&&u!==27||A===null||(x=A,n?(A=dn(l,s),A!=null&&o.unshift(Qn(l,A,x))):n||(A=dn(l,s),A!=null&&o.push(Qn(l,A,x)))),l=l.return}o.length!==0&&e.push({event:t,listeners:o})}var wh=/\r\n?/g,Mh=/\u0000|\uFFFD/g;function _d(e){return(typeof e=="string"?e:""+e).replace(wh,`
`).replace(Mh,"")}function Td(e,t){return t=_d(t),_d(e)===t}function Ue(e,t,l,a,n,s){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Sa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Sa(e,""+a);break;case"className":ms(e,"class",a);break;case"tabIndex":ms(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(e,l,a);break;case"style":_r(e,a,s);break;case"data":if(t!=="object"){ms(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=xs(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(l==="formAction"?(t!=="input"&&Ue(e,t,"name",n.name,n,null),Ue(e,t,"formEncType",n.formEncType,n,null),Ue(e,t,"formMethod",n.formMethod,n,null),Ue(e,t,"formTarget",n.formTarget,n,null)):(Ue(e,t,"encType",n.encType,n,null),Ue(e,t,"method",n.method,n,null),Ue(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=xs(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=al);break;case"onScroll":a!=null&&je("scroll",e);break;case"onScrollEnd":a!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=xs(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":je("beforetoggle",e),je("toggle",e),ds(e,"popover",a);break;case"xlinkActuate":ll(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ll(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ll(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ll(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ll(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ll(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ll(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ll(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ll(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ds(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=am.get(l)||l,ds(e,l,a))}}function _o(e,t,l,a,n,s){switch(l){case"style":_r(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Sa(e,a):(typeof a=="number"||typeof a=="bigint")&&Sa(e,""+a);break;case"onScroll":a!=null&&je("scroll",e);break;case"onScrollEnd":a!=null&&je("scrollend",e);break;case"onClick":a!=null&&(e.onclick=al);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),s=e[gt]||null,s=s!=null?s[l]:null,typeof s=="function"&&e.removeEventListener(t,s,n),typeof a=="function")){typeof s!="function"&&s!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):ds(e,l,a)}}}function ft(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var a=!1,n=!1,s;for(s in l)if(l.hasOwnProperty(s)){var o=l[s];if(o!=null)switch(s){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ue(e,t,s,o,l,null)}}n&&Ue(e,t,"srcSet",l.srcSet,l,null),a&&Ue(e,t,"src",l.src,l,null);return;case"input":je("invalid",e);var u=s=o=n=null,x=null,A=null;for(a in l)if(l.hasOwnProperty(a)){var U=l[a];if(U!=null)switch(a){case"name":n=U;break;case"type":o=U;break;case"checked":x=U;break;case"defaultChecked":A=U;break;case"value":s=U;break;case"defaultValue":u=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:Ue(e,t,a,U,l,null)}}yr(e,s,u,x,A,o,n,!1);return;case"select":je("invalid",e),a=o=s=null;for(n in l)if(l.hasOwnProperty(n)&&(u=l[n],u!=null))switch(n){case"value":s=u;break;case"defaultValue":o=u;break;case"multiple":a=u;default:Ue(e,t,n,u,l,null)}t=s,l=o,e.multiple=!!a,t!=null?ya(e,!!a,t,!1):l!=null&&ya(e,!!a,l,!0);return;case"textarea":je("invalid",e),s=n=a=null;for(o in l)if(l.hasOwnProperty(o)&&(u=l[o],u!=null))switch(o){case"value":a=u;break;case"defaultValue":n=u;break;case"children":s=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:Ue(e,t,o,u,l,null)}Nr(e,a,n,s);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(a=l[x],a!=null))switch(x){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ue(e,t,x,a,l,null)}return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(a=0;a<Xn.length;a++)je(Xn[a],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in l)if(l.hasOwnProperty(A)&&(a=l[A],a!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ue(e,t,A,a,l,null)}return;default:if(Bi(t)){for(U in l)l.hasOwnProperty(U)&&(a=l[U],a!==void 0&&_o(e,t,U,a,l,void 0));return}}for(u in l)l.hasOwnProperty(u)&&(a=l[u],a!=null&&Ue(e,t,u,a,l,null))}function Ch(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,o=null,u=null,x=null,A=null,U=null;for(R in l){var X=l[R];if(l.hasOwnProperty(R)&&X!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":x=X;default:a.hasOwnProperty(R)||Ue(e,t,R,null,a,X)}}for(var E in a){var R=a[E];if(X=l[E],a.hasOwnProperty(E)&&(R!=null||X!=null))switch(E){case"type":s=R;break;case"name":n=R;break;case"checked":A=R;break;case"defaultChecked":U=R;break;case"value":o=R;break;case"defaultValue":u=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:R!==X&&Ue(e,t,E,R,a,X)}}zi(e,o,u,x,A,U,s,n);return;case"select":R=o=u=E=null;for(s in l)if(x=l[s],l.hasOwnProperty(s)&&x!=null)switch(s){case"value":break;case"multiple":R=x;default:a.hasOwnProperty(s)||Ue(e,t,s,null,a,x)}for(n in a)if(s=a[n],x=l[n],a.hasOwnProperty(n)&&(s!=null||x!=null))switch(n){case"value":E=s;break;case"defaultValue":u=s;break;case"multiple":o=s;default:s!==x&&Ue(e,t,n,s,a,x)}t=u,l=o,a=R,E!=null?ya(e,!!l,E,!1):!!a!=!!l&&(t!=null?ya(e,!!l,t,!0):ya(e,!!l,l?[]:"",!1));return;case"textarea":R=E=null;for(u in l)if(n=l[u],l.hasOwnProperty(u)&&n!=null&&!a.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Ue(e,t,u,null,a,n)}for(o in a)if(n=a[o],s=l[o],a.hasOwnProperty(o)&&(n!=null||s!=null))switch(o){case"value":E=n;break;case"defaultValue":R=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(r(91));break;default:n!==s&&Ue(e,t,o,n,a,s)}Sr(e,E,R);return;case"option":for(var ue in l)if(E=l[ue],l.hasOwnProperty(ue)&&E!=null&&!a.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:Ue(e,t,ue,null,a,E)}for(x in a)if(E=a[x],R=l[x],a.hasOwnProperty(x)&&E!==R&&(E!=null||R!=null))switch(x){case"selected":e.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:Ue(e,t,x,E,a,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in l)E=l[pe],l.hasOwnProperty(pe)&&E!=null&&!a.hasOwnProperty(pe)&&Ue(e,t,pe,null,a,E);for(A in a)if(E=a[A],R=l[A],a.hasOwnProperty(A)&&E!==R&&(E!=null||R!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(137,t));break;default:Ue(e,t,A,E,a,R)}return;default:if(Bi(t)){for(var Le in l)E=l[Le],l.hasOwnProperty(Le)&&E!==void 0&&!a.hasOwnProperty(Le)&&_o(e,t,Le,void 0,a,E);for(U in a)E=a[U],R=l[U],!a.hasOwnProperty(U)||E===R||E===void 0&&R===void 0||_o(e,t,U,E,a,R);return}}for(var y in l)E=l[y],l.hasOwnProperty(y)&&E!=null&&!a.hasOwnProperty(y)&&Ue(e,t,y,null,a,E);for(X in a)E=a[X],R=l[X],!a.hasOwnProperty(X)||E===R||E==null&&R==null||Ue(e,t,X,E,a,R)}function Ad(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Oh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],s=n.transferSize,o=n.initiatorType,u=n.duration;if(s&&u&&Ad(o)){for(o=0,u=n.responseEnd,a+=1;a<l.length;a++){var x=l[a],A=x.startTime;if(A>u)break;var U=x.transferSize,X=x.initiatorType;U&&Ad(X)&&(x=x.responseEnd,o+=U*(x<u?1:(u-A)/(x-A)))}if(--a,t+=8*(s+o)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var To=null,Ao=null;function ui(e){return e.nodeType===9?e:e.ownerDocument}function Ed(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wo=null;function kh(){var e=window.event;return e&&e.type==="popstate"?e===wo?!1:(wo=e,!0):(wo=null,!1)}var Md=typeof setTimeout=="function"?setTimeout:void 0,Rh=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,Dh=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(e){return Cd.resolve(null).then(e).catch(zh)}:Md;function zh(e){setTimeout(function(){throw e})}function Yl(e){return e==="head"}function Od(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),Ia(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Kn(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Kn(l);for(var s=l.firstChild;s;){var o=s.nextSibling,u=s.nodeName;s[un]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&s.rel.toLowerCase()==="stylesheet"||l.removeChild(s),s=o}}else l==="body"&&Kn(e.ownerDocument.body);l=n}while(l);Ia(t)}function kd(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Mo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Mo(l),Ri(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Hh(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[un])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function Bh(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Qt(e.nextSibling),e===null))return null;return e}function Rd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Qt(e.nextSibling),e===null))return null;return e}function Co(e){return e.data==="$?"||e.data==="$~"}function Oo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Uh(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ko=null;function Dd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Qt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function zd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Hd(e,t,l){switch(t=ui(l),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Kn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ri(e)}var Kt=new Map,Bd=new Set;function fi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vl=B.d;B.d={f:Lh,r:Gh,D:Yh,C:qh,L:Vh,m:Xh,X:Kh,S:Qh,M:Zh};function Lh(){var e=vl.f(),t=li();return e||t}function Gh(e){var t=pa(e);t!==null&&t.tag===5&&t.type==="form"?Pu(t):vl.r(e)}var Ja=typeof document>"u"?null:document;function Ud(e,t,l){var a=Ja;if(a&&typeof t=="string"&&t){var n=Ut(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Bd.has(n)||(Bd.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),ft(t,"link",e),nt(t),a.head.appendChild(t)))}}function Yh(e){vl.D(e),Ud("dns-prefetch",e,null)}function qh(e,t){vl.C(e,t),Ud("preconnect",e,t)}function Vh(e,t,l){vl.L(e,t,l);var a=Ja;if(a&&e&&t){var n='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Ut(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Ut(l.imageSizes)+'"]')):n+='[href="'+Ut(e)+'"]';var s=n;switch(t){case"style":s=Fa(e);break;case"script":s=Wa(e)}Kt.has(s)||(e=_({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Kt.set(s,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Zn(s))||t==="script"&&a.querySelector($n(s))||(t=a.createElement("link"),ft(t,"link",e),nt(t),a.head.appendChild(t)))}}function Xh(e,t){vl.m(e,t);var l=Ja;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Ut(a)+'"][href="'+Ut(e)+'"]',s=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Wa(e)}if(!Kt.has(s)&&(e=_({rel:"modulepreload",href:e},t),Kt.set(s,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector($n(s)))return}a=l.createElement("link"),ft(a,"link",e),nt(a),l.head.appendChild(a)}}}function Qh(e,t,l){vl.S(e,t,l);var a=Ja;if(a&&e){var n=ga(a).hoistableStyles,s=Fa(e);t=t||"default";var o=n.get(s);if(!o){var u={loading:0,preload:null};if(o=a.querySelector(Zn(s)))u.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Kt.get(s))&&Ro(e,l);var x=o=a.createElement("link");nt(x),ft(x,"link",e),x._p=new Promise(function(A,U){x.onload=A,x.onerror=U}),x.addEventListener("load",function(){u.loading|=1}),x.addEventListener("error",function(){u.loading|=2}),u.loading|=4,di(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:u},n.set(s,o)}}}function Kh(e,t){vl.X(e,t);var l=Ja;if(l&&e){var a=ga(l).hoistableScripts,n=Wa(e),s=a.get(n);s||(s=l.querySelector($n(n)),s||(e=_({src:e,async:!0},t),(t=Kt.get(n))&&Do(e,t),s=l.createElement("script"),nt(s),ft(s,"link",e),l.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}}function Zh(e,t){vl.M(e,t);var l=Ja;if(l&&e){var a=ga(l).hoistableScripts,n=Wa(e),s=a.get(n);s||(s=l.querySelector($n(n)),s||(e=_({src:e,async:!0,type:"module"},t),(t=Kt.get(n))&&Do(e,t),s=l.createElement("script"),nt(s),ft(s,"link",e),l.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}}function Ld(e,t,l,a){var n=(n=k.current)?fi(n):null;if(!n)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Fa(l.href),l=ga(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Fa(l.href);var s=ga(n).hoistableStyles,o=s.get(e);if(o||(n=n.ownerDocument||n,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,o),(s=n.querySelector(Zn(e)))&&!s._p&&(o.instance=s,o.state.loading=5),Kt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Kt.set(e,l),s||$h(n,e,l,o.state))),t&&a===null)throw Error(r(528,""));return o}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wa(l),l=ga(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Fa(e){return'href="'+Ut(e)+'"'}function Zn(e){return'link[rel="stylesheet"]['+e+"]"}function Gd(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function $h(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),ft(t,"link",l),nt(t),e.head.appendChild(t))}function Wa(e){return'[src="'+Ut(e)+'"]'}function $n(e){return"script[async]"+e}function Yd(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ut(l.href)+'"]');if(a)return t.instance=a,nt(a),a;var n=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),nt(a),ft(a,"style",n),di(a,l.precedence,e),t.instance=a;case"stylesheet":n=Fa(l.href);var s=e.querySelector(Zn(n));if(s)return t.state.loading|=4,t.instance=s,nt(s),s;a=Gd(l),(n=Kt.get(n))&&Ro(a,n),s=(e.ownerDocument||e).createElement("link"),nt(s);var o=s;return o._p=new Promise(function(u,x){o.onload=u,o.onerror=x}),ft(s,"link",a),t.state.loading|=4,di(s,l.precedence,e),t.instance=s;case"script":return s=Wa(l.src),(n=e.querySelector($n(s)))?(t.instance=n,nt(n),n):(a=l,(n=Kt.get(s))&&(a=_({},l),Do(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),nt(n),ft(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,di(a,l.precedence,e));return t.instance}function di(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,s=n,o=0;o<a.length;o++){var u=a[o];if(u.dataset.precedence===t)s=u;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Ro(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Do(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var mi=null;function qd(e,t,l){if(mi===null){var a=new Map,n=mi=new Map;n.set(l,a)}else n=mi,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var s=l[n];if(!(s[un]||s[ct]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var o=s.getAttribute(t)||"";o=e+o;var u=a.get(o);u?u.push(s):a.set(o,[s])}}return a}function Vd(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Jh(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Xd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fh(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=Fa(a.href),s=t.querySelector(Zn(n));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=hi.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=s,nt(s);return}s=t.ownerDocument||t,a=Gd(a),(n=Kt.get(n))&&Ro(a,n),s=s.createElement("link"),nt(s);var o=s;o._p=new Promise(function(u,x){o.onload=u,o.onerror=x}),ft(s,"link",a),l.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=hi.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var zo=0;function Wh(e,t){return e.stylesheets&&e.count===0&&bi(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&bi(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&zo===0&&(zo=62500*Oh());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bi(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>zo?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function hi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xi=null;function bi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xi=new Map,t.forEach(Ih,e),xi=null,hi.call(e))}function Ih(e,t){if(!(t.state.loading&4)){var l=xi.get(e);if(l)var a=l.get(null);else{l=new Map,xi.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var o=n[s];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(l.set(o.dataset.precedence,o),a=o)}a&&l.set(null,a)}n=t.instance,o=n.getAttribute("data-precedence"),s=l.get(o)||a,s===a&&l.set(null,n),l.set(o,n),this.count++,a=hi.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),s?s.parentNode.insertBefore(n,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Jn={$$typeof:F,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Ph(e,t,l,a,n,s,o,u,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Qd(e,t,l,a,n,s,o,u,x,A,U,X){return e=new Ph(e,t,l,o,x,A,U,X,u),t=1,s===!0&&(t|=24),s=Mt(3,null,null,t),e.current=s,s.stateNode=e,t=mc(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:l,cache:t},pc(s),e}function Kd(e){return e?(e=wa,e):wa}function Zd(e,t,l,a,n,s){n=Kd(n),a.context===null?a.context=n:a.pendingContext=n,a=Cl(t),a.payload={element:l},s=s===void 0?null:s,s!==null&&(a.callback=s),l=Ol(e,a,t),l!==null&&(_t(l,e,t),En(l,e,t))}function $d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Ho(e,t){$d(e,t),(e=e.alternate)&&$d(e,t)}function Jd(e){if(e.tag===13||e.tag===31){var t=la(e,67108864);t!==null&&_t(t,e,67108864),Ho(e,67108864)}}function Fd(e){if(e.tag===13||e.tag===31){var t=Dt();t=Ci(t);var l=la(e,t);l!==null&&_t(l,e,t),Ho(e,t)}}var pi=!0;function ex(e,t,l,a){var n=h.T;h.T=null;var s=B.p;try{B.p=2,Bo(e,t,l,a)}finally{B.p=s,h.T=n}}function tx(e,t,l,a){var n=h.T;h.T=null;var s=B.p;try{B.p=8,Bo(e,t,l,a)}finally{B.p=s,h.T=n}}function Bo(e,t,l,a){if(pi){var n=Uo(a);if(n===null)jo(e,t,a,gi,l),Id(e,a);else if(ax(n,e,t,l,a))a.stopPropagation();else if(Id(e,a),t&4&&-1<lx.indexOf(e)){for(;n!==null;){var s=pa(n);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var o=Wl(s.pendingLanes);if(o!==0){var u=s;for(u.pendingLanes|=2,u.entangledLanes|=2;o;){var x=1<<31-Et(o);u.entanglements[1]|=x,o&=~x}el(s),(De&6)===0&&(ei=bt()+500,Vn(0))}}break;case 31:case 13:u=la(s,2),u!==null&&_t(u,s,2),li(),Ho(s,2)}if(s=Uo(a),s===null&&jo(e,t,a,gi,l),s===n)break;n=s}n!==null&&a.stopPropagation()}else jo(e,t,a,null,l)}}function Uo(e){return e=Li(e),Lo(e)}var gi=null;function Lo(e){if(gi=null,e=ba(e),e!==null){var t=v(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=S(t),e!==null)return e;e=null}else if(l===31){if(e=z(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return gi=e,null}function Wd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Y0()){case nr:return 2;case sr:return 8;case cs:case q0:return 32;case ir:return 268435456;default:return 32}default:return 32}}var Go=!1,ql=null,Vl=null,Xl=null,Fn=new Map,Wn=new Map,Ql=[],lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Id(e,t){switch(e){case"focusin":case"focusout":ql=null;break;case"dragenter":case"dragleave":Vl=null;break;case"mouseover":case"mouseout":Xl=null;break;case"pointerover":case"pointerout":Fn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(t.pointerId)}}function In(e,t,l,a,n,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},t!==null&&(t=pa(t),t!==null&&Jd(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function ax(e,t,l,a,n){switch(t){case"focusin":return ql=In(ql,e,t,l,a,n),!0;case"dragenter":return Vl=In(Vl,e,t,l,a,n),!0;case"mouseover":return Xl=In(Xl,e,t,l,a,n),!0;case"pointerover":var s=n.pointerId;return Fn.set(s,In(Fn.get(s)||null,e,t,l,a,n)),!0;case"gotpointercapture":return s=n.pointerId,Wn.set(s,In(Wn.get(s)||null,e,t,l,a,n)),!0}return!1}function Pd(e){var t=ba(e.target);if(t!==null){var l=v(t);if(l!==null){if(t=l.tag,t===13){if(t=S(l),t!==null){e.blockedOn=t,dr(e.priority,function(){Fd(l)});return}}else if(t===31){if(t=z(l),t!==null){e.blockedOn=t,dr(e.priority,function(){Fd(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Uo(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ui=a,l.target.dispatchEvent(a),Ui=null}else return t=pa(l),t!==null&&Jd(t),e.blockedOn=l,!1;t.shift()}return!0}function e0(e,t,l){vi(e)&&l.delete(t)}function nx(){Go=!1,ql!==null&&vi(ql)&&(ql=null),Vl!==null&&vi(Vl)&&(Vl=null),Xl!==null&&vi(Xl)&&(Xl=null),Fn.forEach(e0),Wn.forEach(e0)}function yi(e,t){e.blockedOn===t&&(e.blockedOn=null,Go||(Go=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,nx)))}var Si=null;function t0(e){Si!==e&&(Si=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Si===e&&(Si=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(Lo(a||l)===null)continue;break}var s=pa(l);s!==null&&(e.splice(t,3),t-=3,Bc(s,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function Ia(e){function t(x){return yi(x,e)}ql!==null&&yi(ql,e),Vl!==null&&yi(Vl,e),Xl!==null&&yi(Xl,e),Fn.forEach(t),Wn.forEach(t);for(var l=0;l<Ql.length;l++){var a=Ql[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ql.length&&(l=Ql[0],l.blockedOn===null);)Pd(l),l.blockedOn===null&&Ql.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],s=l[a+1],o=n[gt]||null;if(typeof s=="function")o||t0(l);else if(o){var u=null;if(s&&s.hasAttribute("formAction")){if(n=s,o=s[gt]||null)u=o.formAction;else if(Lo(n)!==null)continue}else u=o.action;typeof u=="function"?l[a+1]=u:(l.splice(a,3),a-=3),t0(l)}}}function l0(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(o){return n=o})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Yo(e){this._internalRoot=e}Ni.prototype.render=Yo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var l=t.current,a=Dt();Zd(l,a,e,t,null,null)},Ni.prototype.unmount=Yo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),li(),t[xa]=null}};function Ni(e){this._internalRoot=e}Ni.prototype.unstable_scheduleHydration=function(e){if(e){var t=fr();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ql.length&&t!==0&&t<Ql[l].priority;l++);Ql.splice(l,0,e),l===0&&Pd(e)}};var a0=f.version;if(a0!=="19.2.3")throw Error(r(527,a0,"19.2.3"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?j(e):null,e=e===null?null:e.stateNode,e};var sx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:h,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ji.isDisabled&&ji.supportsFiber)try{cn=ji.inject(sx),At=ji}catch{}}return es.createRoot=function(e,t){if(!m(e))throw Error(r(299));var l=!1,a="",n=uf,s=ff,o=df;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Qd(e,1,!1,null,null,l,a,null,n,s,o,l0),e[xa]=t.current,No(e),new Yo(t)},es.hydrateRoot=function(e,t,l){if(!m(e))throw Error(r(299));var a=!1,n="",s=uf,o=ff,u=df,x=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(s=l.onUncaughtError),l.onCaughtError!==void 0&&(o=l.onCaughtError),l.onRecoverableError!==void 0&&(u=l.onRecoverableError),l.formState!==void 0&&(x=l.formState)),t=Qd(e,1,!0,t,l??null,a,n,x,s,o,u,l0),t.context=Kd(null),l=t.current,a=Dt(),a=Ci(a),n=Cl(a),n.callback=null,Ol(l,n,a),l=a,t.current.lanes=l,rn(t,l),el(t),e[xa]=t.current,No(e),new Ni(t)},es.version="19.2.3",es}var m0;function xx(){if(m0)return Xo.exports;m0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(f){console.error(f)}}return c(),Xo.exports=hx(),Xo.exports}var bx=xx();const px=C0(bx);var oe=(c=>(c.KNIGHT="",c.WARRIOR="",c.ROGUE="",c.ARCHER="",c.MAGE="",c.BEATER="",c.KAYABA="GM",c))(oe||{}),D=(c=>(c.HEAD="head",c.BODY="body",c.LEGS="legs",c.HANDS="hands",c.FEET="feet",c.BACK="back",c.MAIN_HAND="mainHand",c.OFF_HAND="offHand",c.ACCESSORY="accessory",c.ACCESSORY_2="accessory2",c))(D||{}),$l=(c=>(c.WEAPON="weapon",c.ARMOR="armor",c.ACCESSORY="accessory",c.CONSUMABLE="consumable",c))($l||{}),ae=(c=>(c.SWORD_1H="",c.SWORD_2H="",c.BOW="",c.CROSSBOW="",c.STAFF_1H="",c.STAFF_2H="",c.DAGGER="",c.AXE_1H="",c.AXE_2H="",c.SHIELD="",c.CATALYST="",c.NONE="",c))(ae||{}),be=(c=>(c.PLAINS="",c.FOREST="",c.DESERT="",c.CAVE="",c.TOWER="BOSS ",c))(be||{});const ns={[be.PLAINS]:{id:be.PLAINS,name:"",recommendedLevel:1,minLevel:1,levelFluctuation:2,dropSlots:[D.HEAD,D.FEET],description:""},[be.FOREST]:{id:be.FOREST,name:"",recommendedLevel:1,minLevel:1,levelFluctuation:2,dropSlots:[D.BODY,D.HANDS],description:""},[be.DESERT]:{id:be.DESERT,name:"",recommendedLevel:1,minLevel:1,levelFluctuation:2,dropSlots:[D.LEGS,D.BACK],description:""},[be.CAVE]:{id:be.CAVE,name:"",recommendedLevel:1,minLevel:1,levelFluctuation:2,dropSlots:[D.MAIN_HAND,D.OFF_HAND,D.ACCESSORY],description:""},[be.TOWER]:{id:be.TOWER,name:"BOSS ",recommendedLevel:1,minLevel:1,levelFluctuation:0,dropSlots:Object.values(D),description:""}},k0={VERSION:"v4.5.2 (Deep Commission Integration)",SHARE_URL:window.location.href},Ei={REST_COOLDOWN_MS:600*1e3},_i={MYTHIC:.995,LEGENDARY:.95,RARE:.8,UNCOMMON:.5},ls={FLEE_CHANCE:{NORMAL:.25,BOSS:.05},SURVIVAL_TURNS:{START:12,END:3}},Pa=250,en=150,tr=[{id:"commission_e",name:"",label:"15 ",durationMs:900*1e3,baseGold:Pa,baseExp:en,icon:""},{id:"commission_d",name:"",label:"1 ",durationMs:3600*1e3,baseGold:Pa,baseExp:en,icon:""},{id:"commission_c",name:"",label:"4 ",durationMs:14400*1e3,baseGold:Pa,baseExp:en,icon:""},{id:"commission_b",name:"",label:"8 ",durationMs:480*60*1e3,baseGold:Pa,baseExp:en,icon:""},{id:"commission_a",name:"",label:"12 ",durationMs:720*60*1e3,baseGold:Pa,baseExp:en,icon:""},{id:"commission_s",name:"",label:"20 ",durationMs:1200*60*1e3,baseGold:Pa,baseExp:en,icon:""}],an=1.08,Ke={ATTRIBUTE_SCALING:{STR_TO_ATK:2,VIT_TO_HP:10,VIT_TO_DEF:.2,VIT_TO_MDEF:.1,INT_TO_MATK:2,AGI_TO_CRIT:.2,AGI_TO_DODGE:.15,AGI_TO_HIT:.1},BASE_VALS:{HP:100,ATK:15,MATK:10,DEF:5,MDEF:5},BOSS_MULTIPLIERS:{EXP:3,GOLD:5}},ss=c=>Math.floor(200*Math.pow(1.1,c-1)),h0={GOLD:100,POTIONS:3},lr={kirito:{feedback:" ",unlockHiddenClass:!0,forceClass:oe.BEATER},money777:{feedback:"  7,777,777 ",startGold:7777777,startLog:" 7,777,777 ",logType:"reward"},root:{feedback:" GM  100 ",unlockGMClass:!0,forceClass:oe.KAYABA,startLevel:100,startGold:99999999,startPotions:50,isVip:!0,startLog:"GM ",logType:"luckPositive"},cd100f:{feedback:"  100  BOSS ",startLevel:100,startFloor:100,startGold:6e10,startPotions:100,unlockGMClass:!0,isVip:!0,startLog:"",logType:"item"}},gx={[oe.KNIGHT]:{str:6,vit:8,agi:3,luk:3,int:2},[oe.WARRIOR]:{str:8,vit:6,agi:4,luk:3,int:1},[oe.ROGUE]:{str:4,vit:4,agi:9,luk:6,int:2},[oe.ARCHER]:{str:5,vit:4,agi:8,luk:4,int:4},[oe.MAGE]:{str:1,vit:3,agi:4,luk:4,int:10},[oe.BEATER]:{str:10,vit:8,agi:10,luk:5,int:5},[oe.KAYABA]:{str:99,vit:99,agi:99,luk:99,int:99}},ln={hp:100,maxHp:100,atk:10,matk:0,def:0,mdef:0,crit:5,critDamage:150,luck:10,dodge:5,hit:95,goldBonus:0},vx={[D.HEAD]:null,[D.BODY]:null,[D.LEGS]:null,[D.HANDS]:null,[D.FEET]:null,[D.BACK]:null,[D.MAIN_HAND]:null,[D.OFF_HAND]:null,[D.ACCESSORY]:null,[D.ACCESSORY_2]:null},yx={[oe.KNIGHT]:[ae.SWORD_1H,ae.SHIELD,ae.NONE],[oe.WARRIOR]:[ae.SWORD_1H,ae.SWORD_2H,ae.AXE_1H,ae.AXE_2H,ae.SHIELD,ae.NONE],[oe.ROGUE]:[ae.SWORD_1H,ae.DAGGER,ae.SHIELD,ae.NONE],[oe.ARCHER]:[ae.BOW,ae.CROSSBOW,ae.NONE],[oe.MAGE]:[ae.STAFF_1H,ae.STAFF_2H,ae.CATALYST,ae.SHIELD,ae.NONE],[oe.BEATER]:[ae.SWORD_1H,ae.DAGGER,ae.NONE],[oe.KAYABA]:Object.values(ae)},Fo=c=>c===ae.SWORD_2H||c===ae.AXE_2H||c===ae.BOW||c===ae.CROSSBOW||c===ae.STAFF_2H,Sx=c=>c?c===ae.SWORD_1H||c===ae.DAGGER||c===ae.AXE_1H:!1,Nx=c=>c===oe.ROGUE||c===oe.BEATER||c===oe.KAYABA,x0={:{stats:{goldBonus:10}},:{stats:{crit:5,critDamage:10}},:{stats:{atk:5,matk:5,critDamage:5}},:{stats:{dodge:5,crit:5,critDamage:5}},:{stats:{hp:50,mdef:5,def:5}}},b0={:{type:"OFFENSIVE",main:"str",sub:"agi"},:{type:"OFFENSIVE",main:"str",sub:"vit"},:{type:"OFFENSIVE",main:"agi",sub:"luk"},:{type:"MAGIC",main:"int",sub:"luk"},:{type:"MAGIC",main:"int",sub:"agi"},:{type:"MAGIC",main:"int",sub:"vit"},:{type:"DEFENSIVE",main:"vit",sub:"str"},:{type:"DEFENSIVE",main:"vit",sub:"agi"},:{type:"DEFENSIVE",main:"luk",sub:"vit"}},jx={[D.HEAD]:["",""],[D.BODY]:["","",""],[D.LEGS]:["",""],[D.HANDS]:["",""],[D.FEET]:["",""],[D.BACK]:["",""],[D.MAIN_HAND]:["","","","","",""],[D.OFF_HAND]:["",""],[D.ACCESSORY]:["",""],[D.ACCESSORY_2]:["",""]},R0=(c,f,d,r=0,m)=>{let v=m&&m.length>0?m:f&&ns[f]?ns[f].dropSlots:Object.values(D).filter(O=>O!==D.ACCESSORY_2);const S=v[Math.floor(Math.random()*v.length)],z=Math.random()+r;let N=d||(z>.995?"":z>.95?"":z>.8?"":z>.5?"":""),p=N===""?7:N===""?4:N===""?2.5:N===""?1.5:1;const j=.9+Math.random()*.2,_=jx[S],G=_[Math.floor(Math.random()*_.length)];let Q=ae.NONE;S===D.MAIN_HAND?G===""?Q=ae.STAFF_2H:G===""?Q=ae.STAFF_1H:G===""?Q=ae.SWORD_1H:G===""?Q=ae.SWORD_2H:G===""?Q=ae.BOW:G===""?Q=ae.DAGGER:Q=ae.SWORD_1H:S===D.OFF_HAND&&(Q=G===""?ae.CATALYST:ae.SHIELD);const ee=Object.keys(x0),K=ee[Math.floor(Math.random()*ee.length)],P=x0[K],se=Object.keys(b0),V=se[Math.floor(Math.random()*se.length)],F=b0[V],ce={...P.stats},he=Math.pow(an,c-1);ce.hp&&(ce.hp=Math.floor(ce.hp*he*j)),ce.def&&(ce.def=Math.floor(ce.def*he*j)),ce.mdef&&(ce.mdef=Math.floor(ce.mdef*he*j)),ce.atk&&(ce.atk=Math.floor(ce.atk*he*j)),ce.matk&&(ce.matk=Math.floor(ce.matk*he*j));const H=Math.floor((5+c)*p*j),w={[F.main]:Math.floor(H*.7),[F.sub]:Math.floor(H*.3)},Y={},Z=20*he*p*j;S===D.MAIN_HAND?Q===ae.STAFF_1H||Q===ae.STAFF_2H||Q===ae.CATALYST?Y.matk=Math.floor(Z):Y.atk=Math.floor(Z):S===D.BODY?(Y.def=Math.floor(Z*.4),Y.mdef=Math.floor(Z*.4),Y.hp=Math.floor(Z*5)):S===D.OFF_HAND?Q===ae.SHIELD?(Y.def=Math.floor(Z*.5),Y.hp=Math.floor(Z*2)):(Y.matk=Math.floor(Z*.5),Y.mdef=Math.floor(Z*.3)):(Y.def=Math.floor(Z*.2),Y.mdef=Math.floor(Z*.2),Y.hp=Math.floor(Z*2));const ie={...ce};return Object.entries(Y).forEach(([O,W])=>{ie[O]=(ie[O]||0)+(W||0)}),{id:Math.random().toString(36).substr(2,9),name:`${K}${V}${G}`,type:S===D.MAIN_HAND||S===D.OFF_HAND?$l.WEAPON:$l.ARMOR,slot:S,weaponType:Q,stats:ie,attributes:w,prefixStats:ce,affixAttributes:w,baseStats:Y,level:c,rarity:N}},_x=c=>{const f=[];let d="",r=ae.SWORD_1H,m={atk:15},v={str:2};c===oe.MAGE?(d="",r=ae.STAFF_1H,m={matk:12},v={int:2}):c===oe.ARCHER?(d="",r=ae.BOW,m={atk:14},v={agi:2}):c===oe.ROGUE?(d="",r=ae.DAGGER,m={atk:12},v={agi:2}):(c===oe.BEATER||c===oe.KAYABA)&&(d="",r=ae.DAGGER,m={atk:20},v={str:2,agi:2});const S={id:`s_wpn_${Math.random().toString(36).substr(2,4)}`,name:d,type:$l.WEAPON,slot:D.MAIN_HAND,weaponType:r,stats:m,attributes:v,baseStats:m,affixAttributes:v,level:1,rarity:""},z=c===oe.MAGE,N={id:`s_body_${Math.random().toString(36).substr(2,4)}`,name:z?"":"",type:$l.ARMOR,slot:D.BODY,stats:{def:5,mdef:5,hp:30},attributes:{vit:1},baseStats:{def:5,mdef:5,hp:30},affixAttributes:{vit:1},level:1,rarity:""},p={id:`s_legs_${Math.random().toString(36).substr(2,4)}`,name:z?"":"",type:$l.ARMOR,slot:D.LEGS,stats:{def:3,mdef:3,hp:15},attributes:{vit:1},baseStats:{def:3,mdef:3,hp:15},affixAttributes:{vit:1},level:1,rarity:""},j={id:`s_feet_${Math.random().toString(36).substr(2,4)}`,name:z?"":"",type:$l.ARMOR,slot:D.FEET,stats:{def:2,mdef:2,hp:10},attributes:{agi:1},baseStats:{def:2,mdef:2,hp:10},affixAttributes:{agi:1},level:1,rarity:""};return f.push(S,N,p,j),f},Tx=(c,f)=>null,p0={hp:"",maxHp:"",atk:"",matk:"",def:"",mdef:"",crit:"",critDamage:"",luck:"",dodge:"",hit:"",goldBonus:""},Ax={str:"",vit:"",agi:"",int:"",luk:""},Ex={[D.HEAD]:"",[D.BODY]:"",[D.LEGS]:"",[D.HANDS]:"",[D.FEET]:"",[D.BACK]:"",[D.MAIN_HAND]:"",[D.OFF_HAND]:"",[D.ACCESSORY]:"",[D.ACCESSORY_2]:""},ar=C.createContext(null),wi=()=>{const c=C.useContext(ar);if(!c)throw new Error("useTooltip error");return c},g0=({item:c,isEquipped:f,playerClass:d})=>{const r={:{text:"text-red-500",border:"border-red-600",bg:"bg-red-950/20",glow:"shadow-[0_0_20px_rgba(220,38,38,0.3)]",label:"Mythic"},:{text:"text-amber-400",border:"border-amber-600",bg:"bg-amber-900/20",glow:"shadow-[0_0_20px_rgba(251,191,36,0.2)]",label:"Legendary"},:{text:"text-purple-400",border:"border-purple-600",bg:"bg-purple-900/10",glow:"shadow-[0_0_15px_rgba(168,85,247,0.15)]",label:"Rare"},:{text:"text-blue-400",border:"border-blue-600",bg:"bg-blue-900/10",glow:"",label:"Uncommon"},:{text:"text-stone-300",border:"border-stone-700",bg:"bg-stone-900/20",glow:"",label:"Common"}}[c.rarity],m=Object.entries(c.prefixStats||{}).filter(([j,_])=>typeof _=="number"&&_!==0),v=Object.entries(c.affixAttributes||{}).filter(([j,_])=>typeof _=="number"&&_!==0),S=Object.entries(c.baseStats||{}).filter(([j,_])=>typeof _=="number"&&_!==0),z=Ex[c.slot]||c.slot,N=Fo(c.weaponType),p=c.weaponType&&c.weaponType!==ae.NONE?`${z}  ${c.weaponType}${N?" ()":""}`:z;return i.jsxs("div",{className:`w-72 md:w-80 bg-stone-950/95 backdrop-blur-xl border rounded-lg p-0 shadow-2xl overflow-hidden animate-fade-in flex-shrink-0 ${r.border} ${r.glow}`,children:[f&&i.jsx("div",{className:"bg-white text-red-600 text-[9px] py-1 text-center font-black tracking-[0.3em] border-b border-stone-200 uppercase",children:""}),i.jsxs("div",{className:`p-4 ${r.bg} relative overflow-hidden`,children:[i.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 font-black italic text-4xl select-none pointer-events-none uppercase",children:r.label}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${N?"text-amber-500":"text-stone-500"}`,children:p}),i.jsxs("span",{className:"text-[10px] font-mono text-stone-500",children:["Lv.",c.level]})]}),i.jsx("h3",{className:`text-xl md:text-2xl font-fantasy font-black tracking-tight leading-tight ${r.text}`,children:c.name})]})]}),i.jsxs("div",{className:"p-4 space-y-4",children:[S.length>0&&i.jsx("div",{className:"grid grid-cols-1 gap-1",children:S.map(([j,_])=>i.jsxs("div",{className:"flex justify-between items-center bg-stone-900/30 px-2 py-1.5 rounded border border-stone-800/50",children:[i.jsx("span",{className:"text-stone-500 text-xs font-bold uppercase tracking-wider",children:p0[j]||j}),i.jsxs("span",{className:"text-stone-200 font-mono font-black text-sm",children:["+",_]})]},j))}),v.length>0&&i.jsxs("div",{className:"space-y-1.5 pt-2 border-t border-stone-800",children:[i.jsxs("p",{className:"text-[9px] text-blue-500 font-black uppercase tracking-[0.2em] mb-2 flex items-center gap-2",children:[" ",i.jsx("span",{className:"h-px flex-1 bg-blue-900/30"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:v.map(([j,_])=>i.jsxs("div",{className:"flex justify-between items-center text-xs",children:[i.jsx("span",{className:"text-stone-500 font-serif",children:Ax[j]||j}),i.jsxs("span",{className:"text-blue-400 font-bold font-mono",children:["+",_]})]},j))})]}),m.length>0&&i.jsxs("div",{className:"space-y-1.5 pt-2 border-t border-stone-800",children:[i.jsxs("p",{className:"text-[9px] text-amber-500 font-black uppercase tracking-[0.2em] mb-2 flex items-center gap-2",children:[" ",i.jsx("span",{className:"h-px flex-1 bg-amber-900/30"})]}),i.jsx("div",{className:"space-y-1",children:m.map(([j,_])=>i.jsxs("div",{className:"flex justify-between items-center text-xs",children:[i.jsx("span",{className:"text-stone-400 italic font-serif",children:p0[j]||j}),i.jsxs("span",{className:"text-amber-200 font-bold font-mono",children:["+",_,j.includes("crit")||j==="goldBonus"||j==="dodge"||j==="hit"?"%":""]})]},j))})]})]}),i.jsxs("div",{className:"px-4 py-2 bg-stone-900/50 border-t border-stone-800 flex justify-between items-center",children:[i.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest ${r.text}`,children:c.rarity}),i.jsxs("span",{className:"text-[9px] text-stone-600 font-mono",children:["ID: ",c.id.slice(0,8)]})]})]})},wx=({title:c,content:f})=>i.jsxs("div",{className:"w-64 md:w-72 bg-stone-950 border border-stone-700 rounded-lg p-4 shadow-2xl text-stone-200 animate-fade-in ring-1 ring-white/10",children:[i.jsx("p",{className:"font-fantasy font-black text-lg text-amber-500 border-b border-stone-800 pb-2 mb-3 tracking-widest uppercase",children:c}),i.jsx("div",{className:"text-xs md:text-sm text-stone-400 font-serif leading-relaxed",children:f})]}),Mx=({children:c})=>{const[f,d]=C.useState(null),[r,m]=C.useState(null),[v,S]=C.useState(null),[z,N]=C.useState({x:0,y:0}),p=C.useRef(null),j=C.useCallback((P,se,V,F)=>{p.current&&clearTimeout(p.current),d(P),m(F||null),S(null),N({x:se,y:V})},[]),_=C.useCallback((P,se,V,F)=>{p.current&&clearTimeout(p.current),S({title:P,content:se}),d(null),m(null),N({x:V,y:F})},[]),G=C.useCallback(()=>{p.current=window.setTimeout(()=>{d(null),m(null),S(null)},10)},[]),Q=z.x>window.innerWidth/2,ee=z.y>window.innerHeight/2,K={position:"fixed",zIndex:9999,top:z.y,left:z.x,pointerEvents:"none",transform:`translate(${Q?"-105%":"15px"}, ${ee?"-100%":"15px"})`,transition:"top 0.05s linear, left 0.05s linear"};return i.jsxs(ar.Provider,{value:{showTooltip:j,showGenericTooltip:_,hideTooltip:G},children:[c,(f||v)&&i.jsx("div",{className:"fixed",style:K,children:v?i.jsx(wx,{title:v.title,content:v.content}):i.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-4",children:[i.jsx(g0,{item:f}),r&&i.jsx("div",{className:"opacity-90 scale-95 origin-top md:origin-left",children:i.jsx(g0,{item:r,isEquipped:!0})})]})})]})},v0=({item:c,compareItem:f,children:d})=>{const r=C.useContext(ar);return r?i.jsx("div",{className:"w-full h-full",onMouseMove:m=>c&&r.showTooltip(c,m.clientX,m.clientY,f),onMouseLeave:r.hideTooltip,children:d}):i.jsx(i.Fragment,{children:d})},D0={[oe.KNIGHT]:[{name:"",type:"damage",damageType:"physical",unlockLevel:25,triggerChance:.05,power:5,hits:3,description:"[]  30% ",lifesteal:.3},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.5,duration:5,targetStat:"all_defense",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:1.2,duration:3,targetStat:"dodge",description:"[BUFF] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.7,duration:4,targetStat:"all_attack",description:"[Debuff] "},{name:"",type:"stun",unlockLevel:15,triggerChance:.125,power:0,duration:1,targetStat:"stun",description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:.15,power:1.5,hits:1,description:"[]  STR "},{name:"",type:"damage",damageType:"physical",unlockLevel:3,triggerChance:.15,power:1.2,hits:1,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:10,triggerChance:.15,power:1.3,hits:1,description:"[] "}],[oe.WARRIOR]:[{name:"",type:"damage",damageType:"physical",unlockLevel:25,triggerChance:.05,power:3,hits:5,description:"[]  STR "},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.4,duration:3,targetStat:"atk",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:1.5,duration:4,targetStat:"critDamage",description:"[BUFF] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.6,duration:5,targetStat:"def",description:"[Debuff] "},{name:"",type:"debuff",unlockLevel:15,triggerChance:.125,power:.7,duration:3,targetStat:"dodge",description:"[Debuff] "},{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:.15,power:1.8,hits:1,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:3,triggerChance:.15,power:1.1,hits:2,description:"[] ",lifesteal:.2},{name:"",type:"damage",damageType:"physical",unlockLevel:10,triggerChance:.15,power:.8,hits:3,description:"[] "}],[oe.ROGUE]:[{name:"",type:"damage",damageType:"physical",unlockLevel:25,triggerChance:.05,power:1.5,hits:10,description:"[]  STR ",guaranteedCrit:!0},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.5,duration:3,targetStat:"dodge",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:1.25,duration:5,targetStat:"crit",description:"[BUFF] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.7,duration:3,targetStat:"hit",description:"[Debuff] "},{name:"",type:"dot",unlockLevel:15,triggerChance:.125,power:.5,duration:5,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:.15,power:2,hits:1,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:3,triggerChance:.15,power:2.5,hits:1,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:10,triggerChance:.15,power:.7,hits:4,description:"[] "}],[oe.ARCHER]:[{name:"",type:"damage",damageType:"physical",unlockLevel:25,triggerChance:.05,power:5,hits:3,description:"[] STR "},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.5,duration:5,targetStat:"hit",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:1.4,duration:4,targetStat:"agi",description:"[BUFF] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.5,duration:3,targetStat:"dodge",description:"[Debuff] "},{name:"",type:"debuff",unlockLevel:15,triggerChance:.125,power:.5,duration:4,targetStat:"matk",description:"[Debuff] "},{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:.15,power:1.9,hits:1,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:3,triggerChance:.15,power:1.2,hits:2,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:10,triggerChance:.15,power:.6,hits:5,description:"[] "}],[oe.MAGE]:[{name:"",type:"damage",damageType:"magic",unlockLevel:25,triggerChance:.05,power:1,hits:15,description:"[]  INT "},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.6,duration:3,targetStat:"matk",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:2,duration:4,targetStat:"mdef",description:"[BUFF] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.5,duration:5,targetStat:"mdef",description:"[Debuff] "},{name:"",type:"stun",unlockLevel:15,triggerChance:.125,power:0,duration:1,targetStat:"stun",description:"[] "},{name:"",type:"damage",damageType:"magic",unlockLevel:1,triggerChance:.15,power:2.2,hits:1,description:"[]  INT "},{name:"",type:"damage",damageType:"magic",unlockLevel:3,triggerChance:.15,power:.8,hits:4,description:"[] "},{name:"",type:"damage",damageType:"magic",unlockLevel:10,triggerChance:.15,power:1.5,hits:1,description:"[] "}],[oe.BEATER]:[{name:"",type:"damage",damageType:"physical",unlockLevel:25,triggerChance:.05,power:1.2,hits:16,description:"[]  STR "},{name:"",type:"buff",unlockLevel:5,triggerChance:.125,power:1.3,duration:3,targetStat:"all_attack",description:"[BUFF] "},{name:"",type:"buff",unlockLevel:12,triggerChance:.125,power:1.2,duration:3,targetStat:"crit",description:"[BUFF] "},{name:"",type:"stun",unlockLevel:15,triggerChance:.125,power:0,duration:1,targetStat:"stun",description:"[] "},{name:"",type:"debuff",unlockLevel:8,triggerChance:.125,power:.8,duration:4,targetStat:"all_defense",description:"[Debuff] "},{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:.15,power:1.4,hits:4,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:3,triggerChance:.15,power:2.2,hits:2,description:"[] "},{name:"",type:"damage",damageType:"physical",unlockLevel:10,triggerChance:.15,power:3,hits:1,description:"[] "}],[oe.KAYABA]:[{name:"",type:"damage",damageType:"physical",unlockLevel:1,triggerChance:1,power:1.2,hits:16,description:"[] 100% "}]},Cx={heavy_slam:{name:"",type:"damage",damageType:"physical",power:1.5,hits:1,unlockLevel:0,triggerChance:0,description:""},fire_breath:{name:"",type:"damage",damageType:"magic",power:2,hits:1,unlockLevel:0,triggerChance:0,description:""},dark_void:{name:"",type:"damage",damageType:"magic",power:2.5,hits:1,unlockLevel:0,triggerChance:0,description:""},world_end:{name:"",type:"damage",damageType:"magic",power:10,hits:1,unlockLevel:0,triggerChance:0,description:""},admin_nerf:{name:"",type:"debuff",unlockLevel:0,triggerChance:0,power:.5,duration:99,targetStat:"all",description:""},slime_regenerate:{name:"",type:"heal",unlockLevel:0,triggerChance:0,power:.2,description:""},poison_cloud:{name:"",type:"dot",unlockLevel:0,triggerChance:0,power:.3,duration:3,description:""},stone_skin:{name:"",type:"buff",unlockLevel:0,triggerChance:0,power:2,duration:5,targetStat:"def",description:""},thunder_clap:{name:"",type:"damage",damageType:"magic",power:1.8,hits:3,unlockLevel:0,triggerChance:0,description:""},execute:{name:"",type:"damage",damageType:"physical",power:5,hits:1,unlockLevel:0,triggerChance:0,description:""},god_heal:{name:"",type:"heal",unlockLevel:0,triggerChance:0,power:.5,description:""},time_stop:{name:"",type:"debuff",unlockLevel:0,triggerChance:0,power:0,duration:3,targetStat:"agi",description:""}},Ti=["","","","","","","","","",""],Qe=[{type:"random",chance:.3}],Ai=[{type:"random",chance:.15}],yl=[{type:"random",chance:.5}],Ox=[{type:"random",chance:1},{type:"random",chance:.5}],Ce=c=>c.map(f=>Cx[f]).filter(f=>!!f),kx={[be.PLAINS]:[{name:"",loot:Qe,goldMin:2,goldMax:5,skills:[],skillChanceNormal:0,skillChanceEnrage:.1},{name:"",loot:Qe,goldMin:5,goldMax:10,skills:Ce(["heavy_slam"]),skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:Qe,goldMin:8,goldMax:15,skills:[],skillChanceNormal:0,skillChanceEnrage:0},{name:"",loot:Ai,goldMin:3,goldMax:6,skills:[],skillChanceNormal:0,skillChanceEnrage:0},{name:"",loot:Qe,goldMin:10,goldMax:18,skills:Ce(["heavy_slam"]),skillChanceNormal:.1,skillChanceEnrage:.3},{name:"",loot:Ai,goldMin:5,goldMax:12,skills:Ce(["poison_cloud"]),skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:yl,goldMin:20,goldMax:35,skills:Ce(["intimidate","heavy_slam"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:Qe,goldMin:15,goldMax:25,skills:[],skillChanceNormal:0,skillChanceEnrage:0}],[be.FOREST]:[{name:"",loot:Qe,goldMin:25,goldMax:45,skills:Ce(["heavy_slam","stone_skin"]),skillChanceNormal:.15,skillChanceEnrage:.3},{name:"",loot:Qe,goldMin:20,goldMax:35,skills:Ce(["poison_cloud","web_trap"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:Qe,goldMin:30,goldMax:50,skills:Ce(["stone_skin","slime_regenerate"]),skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:[{type:"random",chance:.4}],goldMin:40,goldMax:80,skills:Ce(["vampiric_bite"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:yl,goldMin:50,goldMax:100,skills:Ce(["fire_breath"]),skillChanceNormal:.3,skillChanceEnrage:.5},{name:"",loot:Qe,goldMin:35,goldMax:60,skills:Ce(["poison_cloud"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:Qe,goldMin:40,goldMax:70,skills:Ce(["web_trap"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:yl,goldMin:60,goldMax:120,skills:Ce(["fire_breath","heavy_slam"]),skillChanceNormal:.25,skillChanceEnrage:.4}],[be.DESERT]:[{name:"",loot:Qe,goldMin:35,goldMax:60,skills:Ce(["poison_cloud"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:Ai,goldMin:30,goldMax:50,skills:[],skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:Qe,goldMin:40,goldMax:70,skills:Ce(["stone_skin"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:yl,goldMin:80,goldMax:150,skills:Ce(["heavy_slam","web_trap"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:[{type:"random",chance:.4}],goldMin:50,goldMax:90,skills:Ce(["vampiric_bite"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:Qe,goldMin:60,goldMax:100,skills:Ce(["dark_void"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:yl,goldMin:150,goldMax:300,skills:Ce(["thunder_clap","intimidate"]),skillChanceNormal:.3,skillChanceEnrage:.5},{name:"",loot:Qe,goldMin:70,goldMax:120,skills:Ce(["execute"]),skillChanceNormal:.1,skillChanceEnrage:.3}],[be.CAVE]:[{name:"",loot:Ai,goldMin:30,goldMax:50,skills:Ce(["vampiric_bite"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:Qe,goldMin:60,goldMax:100,skills:Ce(["stone_skin","heavy_slam"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:Qe,goldMin:40,goldMax:70,skills:[],skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:Qe,goldMin:35,goldMax:60,skills:Ce(["heavy_slam"]),skillChanceNormal:.1,skillChanceEnrage:.2},{name:"",loot:yl,goldMin:100,goldMax:200,skills:Ce(["slime_regenerate","heavy_slam"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:Qe,goldMin:50,goldMax:90,skills:Ce(["dark_void","web_trap"]),skillChanceNormal:.25,skillChanceEnrage:.4},{name:"",loot:yl,goldMin:80,goldMax:150,skills:Ce(["vampiric_bite","intimidate"]),skillChanceNormal:.25,skillChanceEnrage:.4},{name:"",loot:Qe,goldMin:45,goldMax:80,skills:Ce(["poison_cloud"]),skillChanceNormal:.2,skillChanceEnrage:.3}],[be.TOWER]:[{name:"",loot:Qe,goldMin:50,goldMax:100,skills:Ce(["heavy_slam"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:Qe,goldMin:80,goldMax:150,skills:Ce(["fire_breath","intimidate"]),skillChanceNormal:.25,skillChanceEnrage:.4},{name:"",loot:Qe,goldMin:70,goldMax:130,skills:Ce(["stone_skin","thunder_clap"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:Qe,goldMin:60,goldMax:110,skills:Ce(["dark_void"]),skillChanceNormal:.2,skillChanceEnrage:.4},{name:"",loot:yl,goldMin:100,goldMax:200,skills:Ce(["dark_void","execute"]),skillChanceNormal:.3,skillChanceEnrage:.5},{name:"",loot:Qe,goldMin:90,goldMax:160,skills:Ce(["stone_skin","heavy_slam"]),skillChanceNormal:.2,skillChanceEnrage:.3},{name:"",loot:yl,goldMin:120,goldMax:250,skills:Ce(["fire_breath","thunder_clap","poison_cloud"]),skillChanceNormal:.3,skillChanceEnrage:.5}]},Rx={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:" ()",9:" ()",10:"",11:"",12:"",13:"",14:"",15:"",16:"",17:"",18:"",19:" Pudge",20:"",21:"",22:"",23:"",24:"",25:"",26:"",27:"",28:"",29:"",30:"",31:"",32:"",33:"",34:"",35:"",36:"",37:"",38:"",39:"",40:"",41:"",42:"",43:"",44:"",45:"",46:"",47:"",48:"",49:"",50:"",51:"",52:"",53:"",54:"",55:"",56:"",57:"",58:"",59:"",60:"",61:"",62:"",63:"",64:"",65:"",66:"",67:"",68:"",69:"",70:"",71:"",72:"",73:"",74:"The Gleam Eyes",75:"",76:"",77:"",78:"",79:" ()",80:" (Beru)",81:"",82:"",83:"",84:"",85:"",86:"",87:"",88:"",89:"",90:"",91:"",92:"",93:"",94:"",95:"",96:"",97:"",98:" ()",99:"",100:"The Admin"},Dx={1:"",2:"... ",10:"...",13:"...",20:"",29:"",30:"... ...",35:"",50:"... ",53:"",60:"",65:"... ",69:"",74:"",75:"",79:"",80:"... ",89:"",90:"Ex...calibur",95:"... ",98:"... ",99:"... ",100:"... "},zx=()=>{const c={};for(let f=1;f<=100;f++){const d=[...Ox];f===10&&d.push({type:"unique",chance:.5,uniqueId:"slime_crown"}),f===20&&d.push({type:"unique",chance:.5,uniqueId:"goblin_club"}),f===50&&d.push({type:"unique",chance:.4,uniqueId:"berserk_armor"}),f===60&&d.push({type:"unique",chance:.3,uniqueId:"frostmourne"}),f===74&&d.push({type:"unique",chance:.2,uniqueId:"elucidator"}),f===75&&d.push({type:"unique",chance:1,uniqueId:"admin_shield"}),f===90&&d.push({type:"unique",chance:.3,uniqueId:"excalibur"}),f===99&&d.push({type:"unique",chance:.5,uniqueId:"ring_of_power"});let r=Dx[f];r||(f<20?r="... ":f<50?r="... ":f<80?r="... ":r="... ");let m=["heavy_slam"];f>10&&m.push("intimidate"),f>20&&m.push("poison_cloud"),f>30&&m.push("stone_skin"),f>40&&m.push("fire_breath"),f>50&&m.push("thunder_clap"),f>60&&m.push("vampiric_bite"),f>70&&m.push("execute"),f>80&&m.push("meteor_fall"),f>90&&m.push("time_stop","god_heal"),m.length>4&&(m=m.slice(m.length-4)),f===1&&(m=["slime_regenerate"]),f===10&&(m=["slime_regenerate","heavy_slam"]),f===13&&(m=["execute","intimidate"]),f===35&&(m=["fire_breath","stone_skin"]),f===50&&(m=["heavy_slam","stone_skin","execute"]),f===75&&(m=["god_heal","heavy_slam","stone_skin"]),f===100&&(m=["admin_nerf","world_end","time_stop","god_heal"]),c[f]={name:Rx[f]||` Mk-${f}`,loot:d,goldMin:50+f*100,goldMax:100+f*200,description:r,skills:Ce(m),skillChanceNormal:.15,skillChanceEnrage:.2}}return c},y0=zx(),Hx=(c,f)=>{if(c===be.TOWER&&f&&y0[f])return y0[f];const d=kx[c],r=d[Math.floor(Math.random()*d.length)];if(c===be.TOWER){const v=Ti[Math.floor(Math.random()*Ti.length)];return{...r,name:`${v} ${r.name}`,description:`${v}`}}const m=Ti[Math.floor(Math.random()*Ti.length)];return{...r,name:`${m}${r.name}`}},Wo={soulShards:0,totalSoulShardsEarned:0,totalRuns:0,upgrades:{},achievements:{},selectedTitleId:null,lifetimeStats:{maxFloor:1,maxLevel:1,totalKills:0,maxGold:0}},Jl=[{id:"legacy_hp",name:"",description:"",maxLevel:20,costBase:50,costMult:1.4,effectType:"percent",effectTarget:"maxHp",effectValue:.025},{id:"legacy_atk",name:"",description:"",maxLevel:20,costBase:50,costMult:1.4,effectType:"percent",effectTarget:"atk",effectValue:.025},{id:"legacy_gold",name:"",description:"",maxLevel:20,costBase:80,costMult:1.5,effectType:"percent",effectTarget:"gold",effectValue:.025},{id:"legacy_exp",name:"",description:"",maxLevel:20,costBase:80,costMult:1.5,effectType:"percent",effectTarget:"exp",effectValue:.025},{id:"legacy_start_gold",name:"",description:"",maxLevel:20,costBase:40,costMult:1.3,effectType:"flat",effectTarget:"startGold",effectValue:500},{id:"legacy_start_potions",name:"",description:"",maxLevel:20,costBase:60,costMult:1.35,effectType:"flat",effectTarget:"startPotions",effectValue:3}],Bx=(c,f)=>{const d=Jl.find(r=>r.id===c);return d?Math.floor(d.costBase*Math.pow(d.costMult,f)):0},Ux={:"text-stone-400",:"text-blue-400",:"text-purple-400",:"text-amber-400",:"text-red-500"},nn=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2,11)+Date.now().toString(36),Lx=(c,f,d,r)=>{var P,se;const m=lr[d],v=m&&m.forceClass?m.forceClass:f,S=(r.upgrades.legacy_start_gold||0)*(((P=Jl.find(V=>V.id==="legacy_start_gold"))==null?void 0:P.effectValue)||0),z=(r.upgrades.legacy_start_potions||0)*(((se=Jl.find(V=>V.id==="legacy_start_potions"))==null?void 0:se.effectValue)||0),N=((m==null?void 0:m.startGold)??h0.GOLD)+S,p=((m==null?void 0:m.startPotions)??h0.POTIONS)+z,j=(m==null?void 0:m.startLevel)??1,_=(m==null?void 0:m.startFloor)??1,G=_x(v),Q={...vx};G.forEach(V=>{Q[V.slot]===null&&(Q[V.slot]=V)});const ee={name:c,classType:v,level:j,exp:0,maxExp:ss(j),gold:N,attributes:{...gx[v]},statPoints:(j-1)*5,equipment:Q,inventory:[],towerFloor:_,isDead:!1,activeEffects:[],consumables:{healthPotion:{count:p,autoUse:!0,threshold:30},inventory:{potion_str:0,potion_vit:0,potion_agi:0,potion_int:0,potion_luk:0}},skipBossWarning:!1,lastRestTime:0,workStatus:null,stats:{...ln}},{stats:K}=ht(ee,r);return ee.stats={...K,hp:K.maxHp},ee},Io=c=>{let f=50;f+=Math.floor(Math.pow(1.1,c.level)*10);let d=1;switch(c.rarity){case"":d=1;break;case"":d=3;break;case"":d=8;break;case"":d=25;break;case"":d=100;break}return c.type==="weapon"&&(d*=1.2),Math.floor(f*d)},ht=(c,f)=>{var I,ne,le;const{attributes:d,equipment:r,level:m,activeEffects:v}=c;let S=d.str,z=d.vit||0,N=d.agi,p=d.luk,j=d.int;Object.values(r).forEach(h=>{h&&h.attributes&&(h.attributes.str&&(S+=h.attributes.str),h.attributes.vit&&(z+=h.attributes.vit),h.attributes.agi&&(N+=h.attributes.agi),h.attributes.luk&&(p+=h.attributes.luk),h.attributes.int&&(j+=h.attributes.int))});let _=S,G=z,Q=N,ee=j,K=p;v.forEach(h=>{h.type==="buff"&&h.valueType==="flat"&&(h.targetStat==="str"&&(_+=h.power),h.targetStat==="vit"&&(G+=h.power),h.targetStat==="agi"&&(Q+=h.power),h.targetStat==="int"&&(ee+=h.power),h.targetStat==="luk"&&(K+=h.power))}),v.forEach(h=>{h.type==="buff"&&h.valueType==="percent"&&(h.targetStat==="str"&&(_*=h.power),h.targetStat==="vit"&&(G*=h.power),h.targetStat==="agi"&&(Q*=h.power),h.targetStat==="int"&&(ee*=h.power),h.targetStat==="luk"&&(K*=h.power))});const P=Math.pow(an,m-1);let se=Ke.BASE_VALS.HP*P+G*Ke.ATTRIBUTE_SCALING.VIT_TO_HP,V=Ke.BASE_VALS.ATK*P+_*Ke.ATTRIBUTE_SCALING.STR_TO_ATK,F=Ke.BASE_VALS.MATK*P+ee*Ke.ATTRIBUTE_SCALING.INT_TO_MATK,ce=Ke.BASE_VALS.DEF*P+G*Ke.ATTRIBUTE_SCALING.VIT_TO_DEF,he=Ke.BASE_VALS.MDEF*P+G*Ke.ATTRIBUTE_SCALING.VIT_TO_MDEF,H=ln.crit+Q*Ke.ATTRIBUTE_SCALING.AGI_TO_CRIT,w=ln.dodge+Q*Ke.ATTRIBUTE_SCALING.AGI_TO_DODGE,Y=ln.hit+Q*Ke.ATTRIBUTE_SCALING.AGI_TO_HIT,Z=ln.luck+K*1,ie=ln.critDamage,O=0;if(Object.values(r).forEach(h=>{h&&(h.stats.hp&&(se+=h.stats.hp),h.stats.atk&&(V+=h.stats.atk),h.stats.matk&&(F+=h.stats.matk),h.stats.def&&(ce+=h.stats.def),h.stats.mdef&&(he+=h.stats.mdef),h.stats.crit&&(H+=h.stats.crit),h.stats.critDamage&&(ie+=h.stats.critDamage),h.stats.dodge&&(w+=h.stats.dodge),h.stats.luck&&(Z+=h.stats.luck),h.stats.hit&&(Y+=h.stats.hit),h.stats.goldBonus&&(O+=h.stats.goldBonus))}),f){const B=(f.upgrades.legacy_hp||0)*(((I=Jl.find(M=>M.id==="legacy_hp"))==null?void 0:I.effectValue)||0);se*=1+B;const re=(f.upgrades.legacy_atk||0)*(((ne=Jl.find(M=>M.id==="legacy_atk"))==null?void 0:ne.effectValue)||0);V*=1+re,F*=1+re;const b=(f.upgrades.legacy_gold||0)*(((le=Jl.find(M=>M.id==="legacy_gold"))==null?void 0:le.effectValue)||0);O+=b*100}v.forEach(h=>{if(h.type==="buff"||h.type==="debuff"){const B=h.power;(h.targetStat==="atk"||h.targetStat==="all_attack")&&(V*=B),(h.targetStat==="matk"||h.targetStat==="all_attack")&&(F*=B),(h.targetStat==="def"||h.targetStat==="all_defense")&&(ce*=B),(h.targetStat==="mdef"||h.targetStat==="all_defense")&&(he*=B),h.targetStat==="dodge"&&(w*=B),h.targetStat==="hit"&&(Y*=B),h.targetStat==="crit"&&(H*=B),h.targetStat==="critDamage"&&(ie*=B),h.targetStat==="all"&&(V*=B,F*=B,ce*=B,he*=B,se*=B)}});const W=Math.floor(se);return{stats:{hp:Math.min(c.stats.hp,W),maxHp:W,atk:Math.floor(V),matk:Math.floor(F),def:Math.floor(ce),mdef:Math.floor(he),crit:Math.min(100,Math.floor(H)),critDamage:Math.floor(ie),dodge:Math.min(75,Math.floor(w)),hit:Math.min(100,Math.floor(Y)),luck:Math.floor(Z),goldBonus:Math.floor(O)},finalAttributes:{str:Math.floor(_),vit:Math.floor(G),agi:Math.floor(Q),int:Math.floor(ee),luk:Math.floor(K)},rawAttributes:{str:Math.floor(S),vit:Math.floor(z),agi:Math.floor(N),int:Math.floor(j),luk:Math.floor(p)}}},S0=c=>{let{atk:f,matk:d,def:r,mdef:m,dodge:v,hit:S,crit:z,critDamage:N,hp:p,maxHp:j,luck:_}=c.stats;return c.activeEffects.forEach(G=>{if(G.type==="debuff"||G.type==="buff"){const Q=G.power;(G.targetStat==="atk"||G.targetStat==="all_attack")&&(f*=Q),(G.targetStat==="matk"||G.targetStat==="all_attack")&&(d*=Q),(G.targetStat==="def"||G.targetStat==="all_defense")&&(r*=Q),(G.targetStat==="mdef"||G.targetStat==="all_defense")&&(m*=Q),G.targetStat==="dodge"&&(v*=Q),G.targetStat==="hit"&&(S*=Q),G.targetStat==="all"&&(f*=Q,d*=Q,r*=Q,m*=Q)}}),{hp:p,maxHp:j,luck:_,crit:z,critDamage:N,dodge:v,hit:S,atk:Math.floor(f),matk:Math.floor(d),def:Math.floor(r),mdef:Math.floor(m)}},Gx=(c,f,d)=>{let r=f;const m=ns[c];d?r=d:m&&(r=Math.max(f,m.minLevel)+Math.floor(Math.random()*(m.levelFluctuation+1))),r=Math.min(100,Math.max(1,r));const v=c===be.TOWER,S=Hx(c,r),z=Math.pow(an,r-1);if(v){let se=1,V=7.5,F=9;r<=20?(se=1,V=7.5,F=9):r<=40?(se=1.5,V=6.5,F=11):r<=60?(se=2.5,V=5.5,F=13):r<=80?(se=4,V=4.5,F=15):r<100?(se=7,V=3.5,F=17):(se=7,V=2+Math.random()*2,F=10+Math.random()*10);const ce=400*z*se,he=100*z+r*2*10+ce,H=15*z+r*3*2+30*z*se,w=.65,Y=.5,Z=Math.floor(he/(V*w)),ie=Math.floor(H*F*Y),O=Math.floor(Ke.BASE_VALS.DEF*z*1.5);return{name:S.name,level:r,isBoss:!0,lootTable:S.loot,goldReward:Math.floor(10*z*Ke.BOSS_MULTIPLIERS.GOLD),description:S.description,stats:{hp:ie,maxHp:ie,atk:Z,matk:Math.floor(Z*.9),def:O,mdef:O,crit:5+Math.floor(r/8)+10,critDamage:150+r/2,luck:0,dodge:10+r/10,hit:95+r/20},activeEffects:[],skills:S.skills||[],skillChanceNormal:S.skillChanceNormal??.15,skillChanceEnrage:S.skillChanceEnrage??.25}}const N=Ke.BASE_VALS.HP*z+r*5*Ke.ATTRIBUTE_SCALING.VIT_TO_HP,p=(r-1)/99,j=ls.SURVIVAL_TURNS.START-p*(ls.SURVIVAL_TURNS.START-ls.SURVIVAL_TURNS.END),_=N/j*1.2;let G=Math.floor(N*.7),Q=Math.floor(_),ee=Math.floor(_*.8),K=Math.floor(Ke.BASE_VALS.DEF*z),P=Math.floor(Ke.BASE_VALS.MDEF*z);return{name:S.name,level:r,isBoss:!1,lootTable:S.loot,goldReward:Math.floor(10*z),description:S.description,stats:{hp:G,maxHp:G,atk:Q,matk:ee,def:K,mdef:P,crit:5+Math.floor(r/15),critDamage:150,luck:0,dodge:5,hit:95},activeEffects:[],skills:S.skills||[],skillChanceNormal:S.skillChanceNormal??.1,skillChanceEnrage:S.skillChanceEnrage??.2}},z0=c=>{const f=(c.towerFloor-1)*20,d=c.level*10,r=Math.floor(c.gold/500);return f+d+r},N0="https://script.google.com/macros/s/AKfycbzXofZeRg2WQtkjs61XL1-HTXUiN1aiOst1mtx9h0HsTweyo_eM7WF_kYQ_RgKgBQCx/exec",sn={fetchGlobalStats:async()=>{try{const c=await fetch(N0);if(!c.ok)throw new Error("Network response was not ok");return await c.json()}catch(c){return console.warn("Failed to fetch global stats:",c),null}},reportAction:async c=>{try{await fetch(N0,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(c)})}catch(f){console.warn("Failed to report game action:",f)}}},as=[{id:"floor_10",title:"",description:" 10 ",type:"floor",rarity:"",targetValue:10,rewardShards:100},{id:"floor_50",title:"",description:" 50 ",type:"floor",rarity:"",targetValue:50,rewardShards:500},{id:"floor_100",title:"",description:" 100 ",type:"floor",rarity:"",targetValue:100,rewardShards:2e3},{id:"gold_100k",title:"",description:" 100,000",type:"gold",rarity:"",targetValue:1e5,rewardShards:200},{id:"gold_1m",title:"",description:" 1,000,000",type:"gold",rarity:"",targetValue:1e6,rewardShards:1e3},{id:"master_knight",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:oe.KNIGHT,rewardShards:300},{id:"master_warrior",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:oe.WARRIOR,rewardShards:300},{id:"master_rogue",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:oe.ROGUE,rewardShards:300},{id:"master_archer",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:oe.ARCHER,rewardShards:300},{id:"master_mage",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:oe.MAGE,rewardShards:300},{id:"master_beater",title:"",description:" 50 ",type:"class_level",rarity:"",targetValue:50,targetClass:oe.BEATER,rewardShards:500},{id:"master_kayaba",title:"",description:"GM  50 ",type:"class_level",rarity:"",targetValue:50,targetClass:oe.KAYABA,rewardShards:1e3},{id:"zenith_knight",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:oe.KNIGHT,rewardShards:1e3},{id:"zenith_warrior",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:oe.WARRIOR,rewardShards:1e3},{id:"zenith_rogue",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:oe.ROGUE,rewardShards:1e3},{id:"zenith_archer",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:oe.ARCHER,rewardShards:1e3},{id:"zenith_mage",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:oe.MAGE,rewardShards:1e3},{id:"zenith_beater",title:"",description:" 100 ",type:"class_level",rarity:"",targetValue:100,targetClass:oe.BEATER,rewardShards:1500},{id:"zenith_kayaba",title:"",description:"GM  100 ",type:"class_level",rarity:"",targetValue:100,targetClass:oe.KAYABA,rewardShards:5e3}],$o="ETHEREAL_TOWER_SAVE_DATA_V1",j0="ETHEREAL_RPG_SECURE_KEY_v1",H0=c=>{let f="";for(let d=0;d<c.length;d++)f+=String.fromCharCode(c.charCodeAt(d)^j0.charCodeAt(d%j0.length));return f},Yx=c=>{try{const f=JSON.stringify(c),d=H0(f);return btoa(encodeURIComponent(d).replace(/%([0-9A-F]{2})/g,(r,m)=>String.fromCharCode(parseInt(m,16))))}catch(f){return console.error("Encryption failed",f),""}},qx=c=>{try{const f=decodeURIComponent(atob(c).split("").map(r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join("")),d=H0(f);return JSON.parse(d)}catch(f){return console.error("Decryption failed",f),null}},Vx=()=>{const[c]=C.useState(()=>{try{const r=localStorage.getItem($o);if(!r)return null;try{if(r.startsWith("{")){const v=JSON.parse(r);if(v&&v.gameState)return{...v,legacy:v.legacy||Wo}}}catch{}const m=qx(r);return m?{...m,legacy:m.legacy||Wo}:null}catch(r){return console.error("Failed to load save data:",r),null}});return{savedData:c,saveGame:r=>{try{const m=Yx(r);m&&localStorage.setItem($o,m)}catch(m){console.error("Failed to save data:",m)}},clearSave:()=>{localStorage.removeItem($o)}}},Xx=1.1,B0=c=>Math.pow(Xx,Math.max(1,c)-1),U0=(c,f,d,r)=>{const m=d/36e5,v=B0(r);return{gold:Math.floor(c*m*v),exp:Math.floor(f*m*v)}},Zl=(c,f)=>Math.floor(c*B0(f)),Qx=(c,f)=>{const d=Math.random();let r="";d>_i.MYTHIC?r="":d>_i.LEGENDARY?r="":d>_i.RARE?r="":d>_i.UNCOMMON?r="":r="";let m;return f==="mystery_weapon_box"?m=[D.MAIN_HAND,D.OFF_HAND]:f==="mystery_armor_box"&&(m=[D.HEAD,D.BODY,D.LEGS,D.HANDS,D.FEET,D.BACK,D.ACCESSORY]),R0(c,be.TOWER,r,0,m)},Ee={POTION_SMALL:{healPercent:.25,basePrice:50,name:" ()"},STAT_POTIONS:{percentBuff:.15,flatBuffBase:5,basePrice:100,duration:50},WEAPON_BOX:{basePrice:500,name:""},ARMOR_BOX:{basePrice:500,name:""}},L0=c=>{const f=Math.max(1,c),d=Ee.STAT_POTIONS.flatBuffBase*f,r=`${(Ee.STAT_POTIONS.percentBuff*100).toFixed(0)}%`;return[{id:"potion_small",name:Ee.POTION_SMALL.name,description:` ${Ee.POTION_SMALL.healPercent*100}% `,price:Zl(Ee.POTION_SMALL.basePrice,f),icon:"",type:"consumable_potion",effectDisplay:`HP +${Ee.POTION_SMALL.healPercent*100}%`},{id:"potion_str",name:"",description:` ${r} + ${d} `,price:Zl(Ee.STAT_POTIONS.basePrice,f),icon:"",type:"consumable_potion",effectDisplay:`STR +${r} +${d}`},{id:"potion_vit",name:"",description:` ${r} + ${d} `,price:Zl(Ee.STAT_POTIONS.basePrice,f),icon:"",type:"consumable_potion",effectDisplay:`VIT +${r} +${d}`},{id:"potion_agi",name:"",description:` ${r} + ${d} `,price:Zl(Ee.STAT_POTIONS.basePrice,f),icon:"",type:"consumable_potion",effectDisplay:`AGI +${r} +${d}`},{id:"potion_int",name:"",description:` ${r} + ${d} `,price:Zl(Ee.STAT_POTIONS.basePrice,f),icon:"",type:"consumable_potion",effectDisplay:`INT +${r} +${d}`},{id:"potion_luk",name:"",description:` ${r} + ${d} `,price:Zl(Ee.STAT_POTIONS.basePrice,f),icon:"",type:"consumable_potion",effectDisplay:`LUK +${r} +${d}`},{id:"mystery_weapon_box",name:Ee.WEAPON_BOX.name,description:"",price:Zl(Ee.WEAPON_BOX.basePrice,f),icon:"",type:"gacha_box",effectDisplay:` Lv.${f}`},{id:"mystery_armor_box",name:Ee.ARMOR_BOX.name,description:"",price:Zl(Ee.ARMOR_BOX.basePrice,f),icon:"",type:"gacha_box",effectDisplay:` Lv.${f}`}]},Kx={potion_str:{id:"potion_str",name:"",icon:"",effects:[{targetStat:"str",type:"percent",duration:Ee.STAT_POTIONS.duration,getPower:()=>1+Ee.STAT_POTIONS.percentBuff},{targetStat:"str",type:"flat",duration:Ee.STAT_POTIONS.duration,getPower:c=>Ee.STAT_POTIONS.flatBuffBase*c}],logMessage:(c,f)=>`${f}  ${c}`},potion_vit:{id:"potion_vit",name:"",icon:"",effects:[{targetStat:"vit",type:"percent",duration:Ee.STAT_POTIONS.duration,getPower:()=>1+Ee.STAT_POTIONS.percentBuff},{targetStat:"vit",type:"flat",duration:Ee.STAT_POTIONS.duration,getPower:c=>Ee.STAT_POTIONS.flatBuffBase*c}],logMessage:(c,f)=>`${f}  ${c}`},potion_agi:{id:"potion_agi",name:"",icon:"",effects:[{targetStat:"agi",type:"percent",duration:Ee.STAT_POTIONS.duration,getPower:()=>1+Ee.STAT_POTIONS.percentBuff},{targetStat:"agi",type:"flat",duration:Ee.STAT_POTIONS.duration,getPower:c=>Ee.STAT_POTIONS.flatBuffBase*c}],logMessage:(c,f)=>`${f}  ${c}`},potion_int:{id:"potion_int",name:"",icon:"",effects:[{targetStat:"int",type:"percent",duration:Ee.STAT_POTIONS.duration,getPower:()=>1+Ee.STAT_POTIONS.percentBuff},{targetStat:"int",type:"flat",duration:Ee.STAT_POTIONS.duration,getPower:c=>Ee.STAT_POTIONS.flatBuffBase*c}],logMessage:(c,f)=>`${f}  ${c}`},potion_luk:{id:"potion_luk",name:"",icon:"",effects:[{targetStat:"luk",type:"percent",duration:Ee.STAT_POTIONS.duration,getPower:()=>1+Ee.STAT_POTIONS.percentBuff},{targetStat:"luk",type:"flat",duration:Ee.STAT_POTIONS.duration,getPower:c=>Ee.STAT_POTIONS.flatBuffBase*c}],logMessage:(c,f)=>`${f}  ${c}`}},Zx=c=>Kx[c],$x=({player:c,setPlayer:f,gameState:d,addLog:r,setIsAutoBattling:m,legacy:v})=>{const S=C.useCallback(H=>{f(w=>{if(!w||w.statPoints<=0)return w;const Y={...w.attributes,[H]:w.attributes[H]+1},Z=w.statPoints-1,ie={...w,attributes:Y},{stats:O}=ht(ie,v),W=Math.min(w.stats.hp,O.maxHp);return{...w,attributes:Y,statPoints:Z,stats:{...O,hp:W}}})},[f,v]),z=C.useCallback(H=>{f(w=>{if(!w)return null;let Y=0;const Z={...w.attributes};if(Object.entries(H).forEach(([I,ne])=>{const le=I;ne&&ne>0&&(Z[le]+=ne,Y+=ne)}),Y>w.statPoints)return w;const ie={...w,attributes:Z},{stats:O}=ht(ie,v),W=Math.min(w.stats.hp,O.maxHp);return r(` ${Y} `,"info"),{...w,attributes:Z,statPoints:w.statPoints-Y,stats:{...O,hp:W}}})},[f,r,v]),N=C.useCallback(H=>{f(w=>w?{...w,skipBossWarning:H}:null)},[f]),p=C.useCallback((H,w)=>{if(!c)return[];const Z=L0(c.towerFloor).find(W=>W.id===H);if(!Z)return[];const ie=Z.price*w;if(c.gold<ie)return r("","info"),[];let O=[];if(Z.type==="gacha_box"){for(let W=0;W<w;W++)O.push(Qx(c.towerFloor,Z.id));return r(` ${w}  ${Z.name} ${ie} `,"reward"),O.forEach(W=>{r(`>>  :::${W.rarity}|${W.name}:::`,"reward")}),f(W=>W?{...W,gold:W.gold-ie,inventory:[...W.inventory,...O]}:null),O}return r(` ${w}  ${Z.name} ${ie} `,"reward"),f(W=>{if(!W)return null;let I={...W.consumables};return H==="potion_small"?I.healthPotion={...I.healthPotion,count:I.healthPotion.count+w}:I.inventory[H]=(I.inventory[H]||0)+w,{...W,gold:W.gold-ie,consumables:I}}),[]},[c,r,f]),j=C.useCallback(H=>{f(w=>{if(!w)return null;const Y=Zx(H);if(!Y)return w;const Z=w.consumables.inventory[H]||0;if(Z<=0)return r(`${Y.name} `,"info"),w;const ie=Math.max(1,w.towerFloor),O=Y.effects.map(ne=>({id:nn(),name:Y.name,type:"buff",source:"player",targetStat:ne.targetStat,power:ne.getPower(ie),valueType:ne.type,duration:ne.duration})),I=((ne,le)=>{let h=[...ne];return le.forEach(B=>{const J=h.findIndex(re=>re.name===B.name&&re.targetStat===B.targetStat&&re.valueType===B.valueType);J>-1?h[J]={...B,id:h[J].id}:h.push(B)}),h})(w.activeEffects,O);return Y.effects.forEach(ne=>{const le=ne.getPower(ie),h=ne.type==="percent"?`${Math.round((le-1)*100)}%`:`${le}`;r(Y.logMessage(h,ne.targetStat.toUpperCase()),"buff")}),{...w,activeEffects:I,consumables:{...w.consumables,inventory:{...w.consumables.inventory,[H]:Z-1}}}})},[r,f]),_=C.useCallback((H,w)=>{f(Y=>Y?{...Y,consumables:{...Y.consumables,healthPotion:{...Y.consumables.healthPotion,autoUse:H,threshold:w}}}:null)},[f]),G=C.useCallback(H=>{if(!c||d==="GAME_OVER")return;if(d==="COMBAT"){r("","info");return}if(H.type===$l.WEAPON){const le=yx[c.classType];if(H.weaponType&&!le.includes(H.weaponType)){r(`${c.classType}  ${H.weaponType}`,"info");return}}let w=H.slot;Nx(c.classType)&&H.slot===D.MAIN_HAND&&Sx(H.weaponType)&&c.equipment[D.MAIN_HAND]&&!c.equipment[D.OFF_HAND]&&(w=D.OFF_HAND),H.slot===D.ACCESSORY&&c.equipment[D.ACCESSORY]&&!c.equipment[D.ACCESSORY_2]&&(w=D.ACCESSORY_2);const Y=c.inventory.findIndex(le=>le.id===H.id);if(Y===-1)return;const Z={...c.equipment},ie=[...c.inventory],O=Z[w];if(w===D.MAIN_HAND&&Fo(H.weaponType)&&Z[D.OFF_HAND]){const le=Z[D.OFF_HAND];ie.push(le),Z[D.OFF_HAND]=null,r(`${H.name}`,"info")}if(w===D.OFF_HAND){const le=Z[D.MAIN_HAND];le&&Fo(le.weaponType)&&(ie.push(le),Z[D.MAIN_HAND]=null,r(`${H.name}${le.name}`,"info"))}O?ie[Y]=O:ie.splice(Y,1),Z[w]=H;const W={...c,equipment:Z,inventory:ie},{stats:I}=ht(W,v),ne=Math.min(c.stats.hp,I.maxHp);f({...W,stats:{...I,hp:ne}}),r(` :::${H.rarity}|${H.name}:::`,"info")},[c,d,r,f,v]),Q=C.useCallback(H=>{if(!c||!c.equipment[H]||d==="GAME_OVER")return;if(d==="COMBAT"){r("","info");return}const w=c.equipment[H],Y={...c.equipment,[H]:null},Z=[...c.inventory,w],ie={...c,equipment:Y,inventory:Z},{stats:O}=ht(ie,v),W=Math.min(c.stats.hp,O.maxHp);f({...ie,stats:{...O,hp:W}})},[c,d,r,f,v]),ee=C.useCallback(H=>{f(w=>{if(!w)return null;const Y=w.inventory.map(Z=>Z.id===H.id?{...Z,isLocked:!Z.isLocked}:Z);return{...w,inventory:Y}})},[f]),K=C.useCallback(H=>{if(!c||!c.inventory.some(ie=>ie.id===H.id))return;if(H.isLocked){r("","info");return}const Y=Io(H),Z=c.inventory.filter(ie=>ie.id!==H.id);f({...c,inventory:Z,gold:(c.gold||0)+Y}),r(` :::${H.rarity}|${H.name}::: ${Y} `,"reward")},[c,f,r]),P=C.useCallback(()=>{if(!c||c.inventory.length===0){r("","info");return}const H=c.inventory.filter(W=>!W.isLocked),w=c.inventory.length-H.length;if(H.length===0){r(w>0?"":"","info");return}const Y=H.reduce((W,I)=>W+Io(I),0),Z=H.length,ie=c.inventory.filter(W=>W.isLocked);f({...c,inventory:ie,gold:c.gold+Y});let O=` ${Z}  ${Y} `;w>0&&(O+=` ( ${w} )`),r(O,"reward")},[c,f,r]),se=C.useCallback(()=>{if(!c)return;const H={:5,:4,:3,:2,:1},w=[...c.inventory].sort((Y,Z)=>{const ie=H[Y.rarity]||0,O=H[Z.rarity]||0;return ie!==O?O-ie:Y.type!==Z.type?Y.type==="weapon"?-1:1:Y.level!==Z.level?Z.level-Y.level:Y.name.localeCompare(Z.name)});f({...c,inventory:w}),r("","info")},[c,f,r]),V=C.useCallback(()=>{if(!c)return;if(d==="COMBAT"){r("","info");return}if(c.workStatus){r("","info");return}const H=Date.now(),w=c.lastRestTime||0;if(H-w<Ei.REST_COOLDOWN_MS){const Y=Math.ceil((Ei.REST_COOLDOWN_MS-(H-w))/6e4);r(`...  ${Y} `,"info");return}f(Y=>{if(!Y)return null;const{stats:Z}=ht(Y,v);return{...Y,stats:{...Z,hp:Z.maxHp},activeEffects:[],lastRestTime:H}}),r("","reward"),m(!1)},[c,d,r,f,m,v]),F=C.useCallback(H=>{f(w=>{if(!w)return null;if(d==="COMBAT")return r("","info"),w;if(w.workStatus)return r("","info"),w;const Y=tr.find(ie=>ie.id===H);if(!Y)return w;const Z=U0(Y.baseGold,Y.baseExp,Y.durationMs,w.towerFloor);return r(`${Y.name} (${Y.label})`,"info"),m(!1),{...w,workStatus:{jobId:Y.id,jobName:Y.name,startTime:Date.now(),durationMs:Y.durationMs,rewardGold:Z.gold,rewardExp:Z.exp}}})},[d,r,f,m]),ce=C.useCallback(()=>{f(H=>{if(!H||!H.workStatus)return H;const w=Date.now(),Y=H.workStatus.startTime+H.workStatus.durationMs;if(w<Y)return r("","info"),H;const Z=H.workStatus.rewardGold,ie=H.workStatus.rewardExp;r(`  ${Z}   ${ie}`,"reward");let O=H.exp+ie,W=H.level,I=H.statPoints,ne=ss(W);for(;O>=ne;)O-=ne,W++,ne=ss(W),I+=5,r(` ${W}`,"luckPositive");const le={...H,gold:H.gold+Z,exp:O,level:W,statPoints:I,maxExp:ne,workStatus:null};if(W>H.level){const{stats:h}=ht(le,v);le.stats={...h,hp:h.maxHp}}return le})},[r,f,v]),he=C.useCallback(()=>{f(H=>!H||!H.workStatus?H:(r("","info"),{...H,workStatus:null}))},[r,f]);return{allocateAttribute:S,batchAllocateAttributes:z,toggleBossWarning:N,buyShopItem:p,useConsumableItem:j,configurePotion:_,equipItem:G,unequipItem:Q,sellItem:K,sellAllItems:P,toggleItemLock:ee,sortInventory:se,returnHome:V,startWork:F,claimWorkReward:ce,cancelWork:he}},_0=[{effect:"crit",message:""},{effect:"heal",message:""},{effect:"dodge",message:""},{effect:"crit",message:"... (IT'S OVER 9000!)"},{effect:"dodge",message:""},{effect:"heal",message:""},{effect:"crit",message:" (Serious Punch)"},{effect:"dodge",message:" (Ultra Instinct) "},{effect:"heal",message:""},{effect:"crit",message:"Explosion"},{effect:"dodge",message:""},{effect:"crit",message:"... "},{effect:"heal",message:""},{effect:"dodge",message:""},{effect:"crit",message:""},{effect:"crit",message:""}],T0=[{effect:"selfDamage",message:""},{effect:"stun",message:""},{effect:"stun",message:""},{effect:"selfDamage",message:""},{effect:"stun",message:" (The World)"},{effect:"selfDamage",message:" (Emotional Damage)"},{effect:"stun",message:""},{effect:"selfDamage",message:" (Yamcha) "},{effect:"stun",message:" (Lag 999ms)... "},{effect:"selfDamage",message:" +10"},{effect:"stun",message:"Windows ... "},{effect:"selfDamage",message:""},{effect:"stun",message:""},{effect:"selfDamage",message:""},{effect:"stun",message:""}],Jx=c=>{const f=.05+c*.001;if(Math.random()>f)return{triggered:!1,type:"positive",effect:"none",message:""};const d=.5+c*.002;if(Math.random()<d){const m=_0[Math.floor(Math.random()*_0.length)];return{triggered:!0,type:"positive",effect:m.effect,message:m.message}}else{const m=T0[Math.floor(Math.random()*T0.length)];return{triggered:!0,type:"negative",effect:m.effect,message:m.message}}},Sl={applyVariance:c=>{const m=.95+Math.random()*.10000000000000009;return Math.max(1,Math.floor(c*m))},calculateBaseDamage:(c,f,d,r,m,v="physical")=>{const S=v==="physical"?Ke.BASE_VALS.DEF:Ke.BASE_VALS.MDEF,z=Math.pow(an,d-1),N=S*z*20,p=N/(N+f);let j=c*p;return r&&(j*=m/100),Sl.applyVariance(j)},checkHit:(c,f)=>{const d=c-f+85,r=Math.random()*100;return{isHit:r<=d,isMiss:r>d}},processSkill:(c,f,d,r,m,v=!1)=>{const S=nn(),z=c.damageType||"physical",N=z==="physical"?f.atk:f.matk,p=z==="physical"?d.def:d.mdef,j=v||Math.random()*100<f.crit||!!c.guaranteedCrit;let _={damage:0,hits:c.hits||1,heal:0,isCrit:j,effect:null};switch(c.type){case"damage":{let G=N*c.power,Q=0;m==="player"&&(Q=(z==="magic"?f.int||0:f.str||0)*2.5);let ee=G+Q;j&&(ee*=f.critDamage/100);const K=(z==="physical"?Ke.BASE_VALS.DEF:Ke.BASE_VALS.MDEF)*Math.pow(an,r-1)*20,P=K/(K+p);_.damage=Sl.applyVariance(ee*P),c.lifesteal&&(_.heal=Math.floor(_.damage*c.lifesteal));break}case"heal":{const G=z==="magic"?f.matk:f.atk,Q=m==="player"&&f.int?f.int*5:0,ee=m==="player"?G*c.power:d.maxHp*.1*c.power;_.heal=Sl.applyVariance(ee+Q);break}case"stun":{_.effect={id:S,name:c.name,type:"stun",power:0,duration:c.duration||1,targetStat:"stun",source:m};break}case"buff":case"debuff":case"dot":{const G=c.type==="dot"?N*.2*c.power:c.power;_.effect={id:S,name:c.name,type:c.type,power:G,duration:c.duration||3,targetStat:c.targetStat,source:m,valueType:c.type==="dot"?"flat":"percent"};break}}return _}},Fx=({player:c,setPlayer:f,enemy:d,setEnemy:r,gameState:m,setGameState:v,activeLocation:S,setActiveLocation:z,logs:N,setLogs:p,addLog:j,isAutoBattling:_,setIsAutoBattling:G,legacy:Q})=>{const[ee,K]=C.useState(!1),P=C.useRef(m),se=C.useRef(d),V=C.useRef(c);C.useEffect(()=>{P.current=m},[m]),C.useEffect(()=>{se.current=d},[d]),C.useEffect(()=>{V.current=c},[c]);const F=O=>new Promise(W=>setTimeout(W,O)),ce=(O,W)=>{const I=O.findIndex(ne=>ne.name===W.name&&ne.targetStat===W.targetStat&&ne.valueType===W.valueType);if(I>-1){const ne=[...O];return ne[I]={...W,id:ne[I].id},ne}return[...O,W]},he=(O,W=!1)=>{if(O.length===0)return null;const I=Math.random();let ne=0;for(const le of O){const h=W?le.triggerChance*1.5:le.triggerChance;if(ne+=h,I<=ne)return le}return null},H=C.useCallback(async(O=null)=>{if(P.current!=="COMBAT"||!se.current){K(!1);return}if(se.current.activeEffects.some(I=>I.targetStat==="stun")){j(`${se.current.name} `,"info"),r(I=>{if(!I)return null;let ne=I.stats.hp;return I.activeEffects.forEach(le=>{le.type==="dot"&&(ne-=Math.floor(le.power))}),{...I,stats:{...I.stats,hp:Math.max(0,ne)},activeEffects:I.activeEffects.map(le=>le.targetStat==="stun"?{...le,duration:le.duration-1}:le).filter(le=>le.duration>0)}}),K(!1);return}r(I=>{if(!I)return I;let ne=I.stats.hp;return I.activeEffects.forEach(le=>{le.type==="dot"&&(ne-=Math.floor(le.power))}),{...I,stats:{...I.stats,hp:Math.max(0,ne)},activeEffects:I.activeEffects.map(le=>({...le,duration:le.duration-1})).filter(le=>le.duration>0)}}),await F(400),r(I=>{if(!I||I.stats.hp<=0||P.current!=="COMBAT"||I.activeEffects.some(re=>re.targetStat==="stun"))return K(!1),I;if(O==="dodge")return j("","luckPositive"),K(!1),I;const ne=S0(I),{stats:le}=ht(V.current,Q),h=I.isBoss&&I.stats.hp/I.stats.maxHp<.3;let B=null;if(I.skills.length>0){const re=Math.random(),me=h?I.skillChanceEnrage:I.skillChanceNormal;re<me&&(B=I.skills[Math.floor(Math.random()*I.skills.length)])}return(async()=>{let re=0,me=1,b=!1,M=null;if(B)j(`${I.name} ${B.name}`,"enemyAction"),M=Sl.processSkill(B,ne,le,I.level,"enemy"),re=M.damage,me=M.hits,b=M.isCrit;else{if(Sl.checkHit(ne.hit,le.dodge).isMiss){j(`${I.name} `,"info",void 0,!1,!0),K(!1);return}b=Math.random()*100<ne.crit,re=Sl.calculateBaseDamage(h?ne.atk*1.3:ne.atk,le.def,I.level,b,ne.critDamage)}if(b&&j(`${I.name} `,"enemyAction"),re>0){const $=Math.max(1,Math.floor(re/me));for(let te=0;te<me&&!(P.current!=="COMBAT"||V.current.stats.hp<=0);te++)f(L=>L?{...L,stats:{...L.stats,hp:Math.max(0,L.stats.hp-$)}}:null),j(`${I.name}  ${$} `,"enemyAction",$,b),me>1&&te<me-1&&await F(60)}M!=null&&M.heal&&r($=>$?{...$,stats:{...$.stats,hp:Math.min($.stats.maxHp,$.stats.hp+M.heal)}}:null),M!=null&&M.effect&&(M.effect.type==="buff"?r($=>$?{...$,activeEffects:ce($.activeEffects,M.effect)}:null):f($=>$?{...$,activeEffects:ce($.activeEffects,M.effect)}:null)),K(!1)})(),I})},[j,f,r,Q]),w=C.useCallback(async()=>{if(P.current!=="COMBAT"){K(!1);return}f(O=>{if(!O)return null;if(O.activeEffects.some(J=>J.targetStat==="stun"))return j("","info"),setTimeout(()=>H(null),400),{...O,activeEffects:O.activeEffects.map(J=>({...J,duration:J.duration-1})).filter(J=>J.duration>0)};const{stats:W,finalAttributes:I}=ht(O,Q);let ne=O.stats.hp,le={...O.consumables};if(O.consumables.healthPotion.autoUse&&O.consumables.healthPotion.count>0&&ne/W.maxHp*100<O.consumables.healthPotion.threshold){const J=Math.floor(W.maxHp*Ee.POTION_SMALL.healPercent);ne=Math.min(W.maxHp,ne+J),le.healthPotion={...O.consumables.healthPotion,count:O.consumables.healthPotion.count-1},j(`[]  ${J} `,"item",J)}const h=Jx(W.luck);return h.triggered&&j(h.message,h.type==="positive"?"luckPositive":"luckNegative"),(async()=>{const J=se.current;if(!J)return;const re=S0(J),me=D0[O.classType].filter(k=>O.level>=k.unlockLevel),b=he(me,h.triggered&&h.type==="positive");let M=0,$=1,te=!1,L=null;if(b)j(`${b.name}`,"skill"),L=Sl.processSkill(b,{...W,str:I.str,int:I.int},re,O.level,"player",h.effect==="crit"),M=L.damage,$=L.hits,te=L.isCrit;else{if(Sl.checkHit(W.hit,re.dodge).isMiss){j("","info",void 0,!1,!0),setTimeout(()=>H(null),400);return}te=Math.random()*100<W.crit||h.effect==="crit",M=Sl.calculateBaseDamage(W.atk,re.def,O.level,te,W.critDamage)}if(te&&j("","luckPositive"),M>0){const k=Math.max(1,Math.floor(M/$));for(let de=0;de<$&&!(P.current!=="COMBAT"||se.current.stats.hp<=0);de++)r(Se=>Se?{...Se,stats:{...Se.stats,hp:Math.max(0,Se.stats.hp-k)}}:null),j(` ${k} `,"playerAction",k,te),$>1&&de<$-1&&await F(60)}L!=null&&L.heal&&f(k=>k?{...k,stats:{...k.stats,hp:Math.min(ht(k,Q).stats.maxHp,k.stats.hp+L.heal)}}:null),L!=null&&L.effect&&(L.effect.type==="buff"?f(k=>k?{...k,activeEffects:ce(k.activeEffects,L.effect)}:null):r(k=>k?{...k,activeEffects:ce(k.activeEffects,L.effect)}:null)),setTimeout(()=>{P.current==="COMBAT"&&se.current.stats.hp>0&&H(h.triggered?h.effect:null)},400)})(),{...O,stats:{...O.stats,hp:ne},consumables:le,activeEffects:O.activeEffects.map(J=>({...J,duration:J.duration-1})).filter(J=>J.duration>0)}})},[H,j,f,r,Q]),Y=C.useCallback(O=>{if(!c)return;const W=Gx(O,c.level,O===be.TOWER?c.towerFloor:void 0);z(O),v("COMBAT"),p([{id:nn(),text:` Lv.${W.level} ${W.name}`,type:"enemyAction",timestamp:Date.now()}]),r(W),K(!1)},[c,z,v,p,r]),Z=C.useCallback(()=>{m==="COMBAT"&&c&&d&&!ee&&(K(!0),w())},[m,c,d,ee,w]),ie=C.useCallback(()=>{if(ee)return;const O=d!=null&&d.isBoss?ls.FLEE_CHANCE.BOSS:ls.FLEE_CHANCE.NORMAL;Math.random()<O?(j("","info"),v("IDLE"),r(null),G(!1)):(j("","enemyAction"),K(!0),H())},[ee,d,j,v,r,G,H]);return C.useEffect(()=>{let O;return _&&m==="COMBAT"&&!ee&&(O=window.setInterval(()=>{P.current==="COMBAT"&&Z()},1200)),()=>clearInterval(O)},[_,m,ee,Z]),C.useEffect(()=>{var O;if(c&&c.stats.hp<=0&&m!=="GAME_OVER"&&(v("GAME_OVER"),G(!1),sn.reportAction({action:"die"})),d&&d.stats.hp<=0&&m==="COMBAT"){j(` ${d.name}`,"reward");const I=(Q.upgrades.legacy_exp||0)*(((O=Jl.find(h=>h.id==="legacy_exp"))==null?void 0:O.effectValue)||0),ne=Math.floor(d.level*10*(d.isBoss?Ke.BOSS_MULTIPLIERS.EXP:1)*Math.pow(an,d.level/10)*(1+I)),le=Math.floor(d.goldReward*(1+(ht(c,Q).stats.goldBonus||0)/100));if(j(` ${ne}  ${le}`,"reward"),f(h=>{if(!h)return null;let B=h.exp+ne,J=h.level,re=h.statPoints,me=ss(J);for(;B>=me;)B-=me,J++,me=ss(J),re+=5,j(` ${J}`,"luckPositive");const b={...h,exp:B,level:J,statPoints:re,maxExp:me,gold:h.gold+le};return J>h.level&&(b.stats.hp=ht(b,Q).stats.maxHp),b}),d.lootTable.forEach(h=>{if(Math.random()<h.chance){let B;if(S===be.TOWER&&d.isBoss){const re=d.level,me=Math.random()*100;re<=40?me<75?B="":me<95?B="":B="":re<=80&&me<90?B="":B=""}const J=h.type==="unique"?Tx(h.uniqueId,d.level):R0(d.level,S||void 0,B,0);J&&(j(`:::${J.rarity}|${J.name}:::`,"reward"),f(re=>re?{...re,inventory:[...re.inventory,J]}:null))}}),S===be.TOWER){const h=c.towerFloor+1;f(B=>B?{...B,towerFloor:h}:null),sn.reportAction({action:"update_level",level:h})}v("IDLE"),r(null)}},[c,d,m,S,j,v,f,r,Q]),C.useEffect(()=>{if(m==="IDLE"&&_&&S&&c&&c.stats.hp>0){const O=window.setTimeout(()=>{_&&P.current==="IDLE"&&Y(S)},1500);return()=>window.clearTimeout(O)}},[m,_,S,c,Y]),{startCombat:Y,processTurn:Z,handleFlee:ie,isTurnProcessing:ee}},Wx=()=>{const{savedData:c,saveGame:f,clearSave:d}=Vx(),[r,m]=C.useState((c==null?void 0:c.gameState)||"MENU"),[v,S]=C.useState((c==null?void 0:c.heroName)||""),[z,N]=C.useState((c==null?void 0:c.inviteCode)||""),[p,j]=C.useState((c==null?void 0:c.selectedClass)||oe.KNIGHT),[_,G]=C.useState((c==null?void 0:c.player)||null),[Q,ee]=C.useState((c==null?void 0:c.enemy)||null),[K,P]=C.useState((c==null?void 0:c.logs)||[]),[se,V]=C.useState((c==null?void 0:c.activeLocation)||null),[F,ce]=C.useState(!1),[he,H]=C.useState((c==null?void 0:c.legacy)||{...Wo,selectedTitleId:null}),[w,Y]=C.useState([]),Z=C.useCallback((_e,Re="info",Ge,at,xt)=>{P(tl=>[...tl.slice(-49),{id:nn(),text:_e,type:Re,value:Ge,isCrit:at,isMiss:xt,timestamp:Date.now()}])},[]),{allocateAttribute:ie,batchAllocateAttributes:O,buyShopItem:W,configurePotion:I,equipItem:ne,unequipItem:le,sellItem:h,sellAllItems:B,toggleItemLock:J,sortInventory:re,returnHome:me,toggleBossWarning:b,useConsumableItem:M,startWork:$,claimWorkReward:te,cancelWork:L}=$x({player:_,setPlayer:G,gameState:r,addLog:Z,setIsAutoBattling:ce,legacy:he}),{startCombat:k,processTurn:de,handleFlee:Se,isTurnProcessing:Me}=Fx({player:_,setPlayer:G,enemy:Q,setEnemy:ee,gameState:r,setGameState:m,activeLocation:se,setActiveLocation:V,logs:K,setLogs:P,addLog:Z,isAutoBattling:F,setIsAutoBattling:ce,legacy:he}),We=C.useCallback(()=>{_&&H(_e=>{let Re=!1;const Ge={..._e.achievements},at={..._e.lifetimeStats};return _.towerFloor>at.maxFloor&&(at.maxFloor=_.towerFloor,Re=!0),_.level>at.maxLevel&&(at.maxLevel=_.level,Re=!0),_.gold>at.maxGold&&(at.maxGold=_.gold,Re=!0),as.forEach(xt=>{var is;if((is=Ge[xt.id])!=null&&is.unlockedAt)return;let tl=!1;switch(xt.type){case"floor":_.towerFloor>=xt.targetValue&&(tl=!0);break;case"level":_.level>=xt.targetValue&&(tl=!0);break;case"gold":_.gold>=xt.targetValue&&(tl=!0);break;case"class_level":_.classType===xt.targetClass&&_.level>=xt.targetValue&&(tl=!0);break}tl&&(Ge[xt.id]={unlockedAt:Date.now(),claimed:!1},Y(bt=>[...bt,xt.title]),Re=!0)}),Re?{..._e,achievements:Ge,lifetimeStats:at}:_e})},[_]);C.useEffect(()=>{(r==="IDLE"||r==="COMBAT")&&We()},[_==null?void 0:_.level,_==null?void 0:_.towerFloor,_==null?void 0:_.gold,r,We]);const dt=_e=>{const Re=as.find(Ge=>Ge.id===_e);Re&&(H(Ge=>{const at=Ge.achievements[_e];return!at||!at.unlockedAt||at.claimed?Ge:{...Ge,soulShards:Ge.soulShards+Re.rewardShards,achievements:{...Ge.achievements,[_e]:{...at,claimed:!0}}}}),Z(` ${Re.rewardShards} `,"reward"))},it=_e=>{if(H(Re=>({...Re,selectedTitleId:_e})),_e){const Re=as.find(Ge=>Ge.id===_e);Re&&Z(`${Re.title}`,"info")}else Z("","info")},Ft=()=>{G(Lx(v,p,z,he)),m("IDLE"),ee(null),P([]),ce(!1),V(null),sn.reportAction({action:"survive"});const _e=lr[z];_e&&_e.startLog&&Z(_e.startLog,_e.logType||"luckPositive"),Z(`${p} ${v}`)},Tt=C.useCallback(()=>{if(_){const _e=z0(_);H(Re=>({...Re,soulShards:Re.soulShards+_e,totalSoulShardsEarned:Re.totalSoulShardsEarned+_e,totalRuns:Re.totalRuns+1}))}},[_]),Fl=(_e=!1)=>{_&&(r!=="GAME_OVER"&&sn.reportAction({action:"die"}),Tt()),m("MENU"),G(null),ee(null),P([]),N(""),ce(!1),V(null),_e&&d()},Ht=(_e,Re)=>{H(Ge=>Ge.soulShards<Re?Ge:{...Ge,soulShards:Ge.soulShards-Re,upgrades:{...Ge.upgrades,[_e]:(Ge.upgrades[_e]||0)+1}})};return C.useEffect(()=>{if(r==="MENU"&&!_&&he.totalRuns>0){f({gameState:r,heroName:v,inviteCode:z,selectedClass:p,player:null,enemy:null,logs:[],activeLocation:null,isAutoBattling:!1,legacy:he});return}const _e={gameState:r,heroName:v,inviteCode:z,selectedClass:p,player:_,enemy:Q,logs:K,activeLocation:se,isAutoBattling:F,legacy:he},Re=setTimeout(()=>{f(_e)},1e3);return()=>clearTimeout(Re)},[r,v,z,p,_,Q,K,se,F,he,f]),{gameState:r,heroName:v,setHeroName:S,inviteCode:z,setInviteCode:N,selectedClass:p,setSelectedClass:j,player:_,enemy:Q,logs:K,activeLocation:se,setActiveLocation:V,isAutoBattling:F,setIsAutoBattling:ce,startGame:Ft,resetGame:Fl,legacy:he,buyLegacyUpgrade:Ht,claimAchievement:dt,selectTitle:it,unlockedAchievements:w,setUnlockedAchievements:Y,equipItem:ne,unequipItem:le,sellItem:h,sellAllItems:B,toggleItemLock:J,sortInventory:re,buyShopItem:W,configurePotion:I,allocateAttribute:ie,batchAllocateAttributes:O,returnHome:me,toggleBossWarning:b,useConsumableItem:M,startWork:$,claimWorkReward:te,cancelWork:L,startCombat:k,processTurn:de,handleFlee:Se,isTurnProcessing:Me}},Jo={[oe.KNIGHT]:{icon:"",desc:"",color:"text-blue-200",bgGradient:"from-blue-900/80 to-stone-950",accentBorder:"border-blue-500"},[oe.WARRIOR]:{icon:"",desc:"",color:"text-red-300",bgGradient:"from-red-900/80 to-stone-950",accentBorder:"border-red-600"},[oe.ROGUE]:{icon:"",desc:"",color:"text-stone-300",bgGradient:"from-stone-800 to-stone-950",accentBorder:"border-stone-400"},[oe.ARCHER]:{icon:"",desc:"",color:"text-emerald-300",bgGradient:"from-emerald-900/80 to-stone-950",accentBorder:"border-emerald-500"},[oe.MAGE]:{icon:"",desc:"",color:"text-purple-300",bgGradient:"from-purple-900/80 to-stone-950",accentBorder:"border-purple-500"},[oe.BEATER]:{icon:"",desc:"",color:"text-stone-100",bgGradient:"from-black to-stone-900",accentBorder:"border-stone-200"},[oe.KAYABA]:{icon:"",desc:" (GM)",color:"text-red-100",bgGradient:"from-red-950 to-stone-950",accentBorder:"border-red-500"}},Ix=()=>{const c=C.useMemo(()=>Array.from({length:40}).map((f,d)=>({id:d,left:`${Math.random()*100}%`,size:Math.random()*3+2+"px",animationDuration:Math.random()*8+6+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.6+.3,color:Math.random()>.6?"#fbbf24":"#78716c"})),[]);return i.jsx("div",{className:"fixed inset-0 pointer-events-none z-10 overflow-hidden",children:c.map(f=>i.jsx("div",{className:"absolute rounded-full animate-rise",style:{left:f.left,top:"100%",width:f.size,height:f.size,backgroundColor:f.color,opacity:f.opacity,animationDuration:f.animationDuration,animationDelay:f.animationDelay,boxShadow:f.color==="#fbbf24"?"0 0 6px #f59e0b":"none"}},f.id))})},Px=({heroName:c,setHeroName:f,inviteCode:d,setInviteCode:r,selectedClass:m,setSelectedClass:v,onStartGame:S,onOpenLegacy:z})=>{const[N,p]=C.useState("idle"),[j,_]=C.useState(!1),[G,Q]=C.useState(!1),[ee,K]=C.useState(""),[P,se]=C.useState(null),V=C.useRef(null),F=C.useRef({}),[ce,he]=C.useState(!1);C.useEffect(()=>{he(!0);const O=setTimeout(()=>he(!1),300);return()=>clearTimeout(O)},[m]),C.useEffect(()=>{sn.fetchGlobalStats().then(se)},[]),C.useEffect(()=>{const O=F.current[m];O&&V.current&&O.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[m]);const H=()=>{const O=lr[d];O?(p("success"),K(O.feedback),O.unlockHiddenClass&&_(!0),O.unlockGMClass&&Q(!0),O.forceClass&&v(O.forceClass)):(p("error"),K(" "),setTimeout(()=>{p("idle"),K("")},2e3))},w=Object.values(oe).filter(O=>!(O===oe.BEATER&&!j||O===oe.KAYABA&&!G)),Y=()=>{const W=(w.indexOf(m)+1)%w.length;v(w[W])},Z=()=>{const W=(w.indexOf(m)-1+w.length)%w.length;v(w[W])},ie=Jo[m];return i.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center p-4 font-sans overflow-hidden relative z-0",children:[i.jsx("div",{className:"fixed inset-0 bg-[#0c0a09] -z-20"}),i.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-stone-900 via-stone-950 to-black opacity-60 -z-10"}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-[70vh] bg-gradient-to-t from-amber-900/50 via-stone-950/80 to-transparent z-0 pointer-events-none"}),i.jsx("div",{className:"fixed inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20 z-0 animate-pulse-slow pointer-events-none"}),i.jsx(Ix,{}),i.jsx("div",{className:"fixed top-4 right-4 z-[50] flex flex-col items-end gap-2 animate-fade-in-slow",children:i.jsxs("div",{className:"bg-stone-950/80 backdrop-blur-md border border-amber-900/50 rounded-lg p-2 md:p-3 shadow-2xl flex flex-col gap-1.5 md:gap-2 min-w-[120px] md:min-w-[140px]",children:[i.jsx("div",{className:"text-[10px] text-stone-500 font-bold uppercase tracking-widest text-center border-b border-stone-800 pb-1 mb-1 hidden md:block",children:"Server Statistics"}),P?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center gap-4",children:[i.jsx("span",{className:"text-[10px] md:text-xs text-stone-400 font-bold",children:" "}),i.jsx("span",{className:"text-red-500 font-mono font-bold text-xs md:text-sm",children:P.death.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center gap-4",children:[i.jsx("span",{className:"text-[10px] md:text-xs text-stone-400 font-bold",children:" "}),i.jsx("span",{className:"text-blue-400 font-mono font-bold text-xs md:text-sm",children:P.alive.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center gap-4",children:[i.jsx("span",{className:"text-[10px] md:text-xs text-stone-400 font-bold",children:" "}),i.jsxs("span",{className:"text-amber-400 font-mono font-bold text-xs md:text-sm",children:[P.maxLevel,"F"]})]})]}):i.jsx("div",{className:"flex justify-center py-2",children:i.jsx("div",{className:"w-4 h-4 border-2 border-stone-600 border-t-amber-500 rounded-full animate-spin"})})]})}),i.jsxs("div",{className:"mb-4 md:mb-6 text-center relative z-20 shrink-0",children:[i.jsx("h1",{className:"text-4xl md:text-6xl font-black font-fantasy tracking-wider text-transparent bg-clip-text bg-gradient-to-b from-amber-100 to-amber-600 animate-fade-in-out",children:"ETHEREAL TOWER"}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-stone-500 font-serif text-[10px] md:text-xs uppercase tracking-[0.4em] mt-1 md:mt-2",children:[i.jsx("span",{className:"h-px w-8 md:w-12 bg-stone-800"}),i.jsx("span",{children:"Role Playing Game"}),i.jsx("span",{className:"h-px w-8 md:w-12 bg-stone-800"})]})]}),i.jsxs("div",{className:"w-full max-w-4xl bg-stone-900 border border-stone-800 rounded-2xl shadow-2xl flex flex-col md:flex-row overflow-hidden relative z-30 transition-all duration-500 max-h-[85vh] md:max-h-none flex-shrink-0",children:[i.jsxs("div",{className:`relative w-full md:w-5/12 p-5 md:p-10 flex flex-col items-center justify-center text-center overflow-hidden bg-gradient-to-br ${ie.bgGradient} transition-colors duration-700`,children:[i.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-${ie.accentBorder.split("-")[1]} to-transparent opacity-50`}),i.jsx("div",{className:"absolute inset-0 border-r border-stone-800/50 hidden md:block"}),i.jsx("div",{className:`hidden md:block text-7xl md:text-8xl mb-4 md:mb-6 transition-all duration-500 filter drop-shadow-[0_0_20px_rgba(0,0,0,0.5)] select-none ${ce?"scale-90 opacity-50 blur-sm":"scale-100 opacity-100 blur-0"}`,children:ie.icon}),i.jsx("h2",{className:`text-xl md:text-3xl font-fantasy font-bold mb-2 md:mb-3 tracking-widest uppercase transition-colors duration-300 ${ie.color} drop-shadow-md`,children:m}),i.jsx("div",{className:"w-10 md:w-12 h-0.5 md:h-1 bg-white/10 rounded-full mb-3 md:mb-6"}),i.jsx("p",{className:"text-stone-300 font-serif italic text-xs md:text-base leading-relaxed max-w-sm opacity-90 px-4 md:px-0",children:ie.desc})]}),i.jsxs("div",{className:"w-full md:w-7/12 p-6 md:p-8 bg-stone-950/50 backdrop-blur-sm flex flex-col justify-center gap-5 md:gap-6",children:[i.jsxs("div",{className:"space-y-1.5 group",children:[i.jsx("label",{className:"block text-stone-300 text-[10px] md:text-xs font-bold uppercase tracking-widest group-focus-within:text-amber-500 transition-colors",children:" (Name)"}),i.jsx("input",{value:c,onChange:O=>f(O.target.value),className:"w-full bg-transparent border-b border-stone-800 py-2 text-xs md:text-sm text-stone-200 font-sans focus:outline-none focus:border-amber-500 transition-all placeholder-stone-500",placeholder:"...",maxLength:12})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsx("label",{className:"block text-stone-300 text-[10px] md:text-xs font-bold uppercase tracking-widest",children:" (Select Class)"}),i.jsxs("span",{className:"text-[10px] text-stone-600 font-mono hidden md:inline-block",children:[w.indexOf(m)+1," / ",w.length]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:Z,className:"h-14 md:h-16 w-8 md:w-10 rounded-lg bg-stone-900 border border-stone-800 text-stone-500 hover:text-amber-400 hover:border-amber-900/50 hover:bg-stone-800 transition-all flex items-center justify-center flex-shrink-0 active:scale-95",children:""}),i.jsx("div",{className:"relative group/scroll flex-1 min-w-0",children:i.jsx("div",{ref:V,className:"flex overflow-x-auto gap-3 py-5 px-2 snap-x scrollbar-hide mask-fade-right scroll-smooth items-center",children:w.map(O=>i.jsxs("button",{ref:W=>{F.current[O]=W},onClick:()=>v(O),className:`flex-shrink-0 w-14 h-14 md:w-18 md:h-18 rounded-xl border-2 flex items-center justify-center text-2xl md:text-3xl transition-all duration-300 relative overflow-visible group snap-center
                                        ${m===O?`bg-stone-800 ${Jo[O].accentBorder} shadow-[0_0_15px_rgba(0,0,0,0.5)] scale-110 z-10`:"bg-stone-900 border-stone-800 text-stone-600 hover:border-stone-600 hover:bg-stone-800 hover:scale-105 opacity-80 hover:opacity-100"}`,children:[i.jsx("span",{className:`transition-transform duration-300 ${m===O?"scale-110":"grayscale group-hover:grayscale-0"}`,children:Jo[O].icon}),m===O&&i.jsx("div",{className:"absolute inset-0 bg-white/5 animate-pulse rounded-xl pointer-events-none"}),i.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-[8px] md:text-[10px] text-center uppercase tracking-wider font-bold opacity-0 group-hover:opacity-100 transition-opacity text-stone-400 bg-black/80 px-2 py-0.5 rounded pointer-events-none z-20 whitespace-nowrap",children:O})]},O))})}),i.jsx("button",{onClick:Y,className:"h-14 md:h-16 w-8 md:w-10 rounded-lg bg-stone-900 border border-stone-800 text-stone-500 hover:text-amber-400 hover:border-amber-900/50 hover:bg-stone-800 transition-all flex items-center justify-center flex-shrink-0 active:scale-95",children:""})]})]}),i.jsxs("div",{className:"space-y-1.5 group",children:[i.jsx("label",{className:"block text-stone-300 text-[10px] md:text-xs font-bold uppercase tracking-widest group-focus-within:text-amber-500 transition-colors",children:" (Optional Code)"}),i.jsxs("div",{className:"flex gap-2 relative h-10",children:[i.jsx("input",{value:d,onChange:O=>{r(O.target.value),N!=="idle"&&(p("idle"),K(""))},disabled:N==="success",className:`flex-1 bg-stone-900 border rounded-lg px-3 py-2 text-xs md:text-sm font-sans tracking-wide text-stone-300 focus:outline-none transition-colors placeholder-stone-500
                                ${N==="success"?"border-green-900/50 text-green-400 bg-green-950/10":N==="error"?"border-red-900/50 text-red-400":"border-stone-800 focus:border-stone-600"}`,placeholder:"...",maxLength:20}),i.jsx("button",{onClick:H,disabled:!d||N==="success",className:`px-4 md:px-6 rounded-lg text-[10px] md:text-xs font-bold tracking-widest uppercase transition-all
                                ${N==="success"?"bg-transparent text-green-500 border border-green-800 cursor-default":"bg-stone-800 text-stone-300 border border-stone-700 hover:bg-stone-700 hover:text-stone-200"}`,children:N==="success"?"":""})]}),i.jsx("div",{className:`text-[10px] h-3 font-bold transition-opacity duration-300 ${ee?"opacity-100":"opacity-0"} ${N==="success"?"text-green-500":"text-red-500"}`,children:ee})]}),i.jsx("div",{className:"pt-2",children:i.jsxs("button",{onClick:S,disabled:!c.trim(),className:`w-full py-4 text-base md:text-lg font-fantasy font-black tracking-[0.2em] uppercase rounded-lg border-2 transition-all duration-300 relative overflow-hidden group
                        ${c.trim()?"bg-amber-700 border-amber-500 text-amber-100 shadow-[0_0_20px_rgba(180,83,9,0.4)] hover:shadow-[0_0_30px_rgba(180,83,9,0.6)] hover:bg-amber-600 hover:-translate-y-1":"bg-stone-800 border-stone-800 text-stone-600 cursor-not-allowed opacity-50"}`,children:[i.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[" ",i.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:""})]}),c.trim()&&i.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent z-0"})]})})]})]}),i.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex flex-col items-center gap-2",children:[i.jsx("button",{onClick:z,className:"w-14 h-14 md:w-16 md:h-16 bg-stone-900 border-2 border-amber-600/50 rounded-full flex items-center justify-center text-2xl md:text-3xl shadow-[0_0_20px_rgba(0,0,0,0.5)] hover:border-amber-500 hover:scale-110 hover:shadow-[0_0_25px_rgba(245,158,11,0.4)] transition-all active:scale-95 group",children:i.jsx("span",{className:"group-hover:animate-pulse",children:""})}),i.jsx("span",{className:"text-[10px] md:text-xs font-fantasy font-bold text-amber-500/80 uppercase tracking-[0.3em] drop-shadow-sm pointer-events-none",children:""})]}),i.jsx("div",{className:"fixed bottom-2 left-4 text-[10px] text-stone-500 font-serif tracking-widest select-none z-30",children:k0.VERSION})]})},eb=({player:c,onHardReset:f,onToggleStealth:d})=>{const[r,m]=C.useState(!1),[v,S]=C.useState(!1),[z,N]=C.useState(null),[p,j]=C.useState(0),_=async()=>{const K=await sn.fetchGlobalStats();K&&N(K)};C.useEffect(()=>{_()},[]);const G=()=>{p>0||(_(),j(60))};C.useEffect(()=>{if(p>0){const K=setInterval(()=>j(P=>P-1),1e3);return()=>clearInterval(K)}},[p]);const Q=()=>{r?f():(m(!0),setTimeout(()=>m(!1),3e3))},ee=()=>{navigator.clipboard.writeText(k0.SHARE_URL).then(()=>{S(!0),setTimeout(()=>S(!1),2e3)})};return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"w-full h-full flex justify-between items-center px-2 md:px-4 bg-stone-950/90 backdrop-blur-md border-b border-white/10 text-[10px] md:text-xs font-mono text-stone-400 select-none shadow-sm pointer-events-auto relative",children:[i.jsx("div",{className:"flex items-center gap-2 md:gap-4 z-10",children:z?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-1",title:"",children:[i.jsx("span",{className:"text-red-900 text-[10px] md:text-xs",children:""}),i.jsx("span",{className:"text-red-400 font-bold",children:z.death.toLocaleString()})]}),i.jsx("div",{className:"w-px h-3 bg-stone-800 hidden sm:block"}),i.jsxs("div",{className:"hidden sm:flex items-center gap-1.5",title:"",children:[i.jsx("span",{className:"text-blue-900 text-xs",children:""}),i.jsx("span",{className:"text-blue-400 font-bold",children:z.alive.toLocaleString()})]}),i.jsx("div",{className:"w-px h-3 bg-stone-800 hidden sm:block"}),i.jsxs("div",{className:"hidden sm:flex items-center gap-1.5",title:"",children:[i.jsx("span",{className:"text-amber-900 text-xs",children:""}),i.jsxs("span",{className:"text-amber-400 font-bold",children:[z.maxLevel,"F"]})]}),i.jsx("button",{onClick:G,disabled:p>0,className:`ml-1 hover:text-white transition-opacity hidden sm:block ${p>0?"opacity-20":"opacity-50"}`,title:"",children:""})]}):i.jsx("span",{className:"animate-pulse text-stone-600 text-[9px]",children:"Connecting..."})}),i.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 flex items-center justify-center pointer-events-none w-full max-w-[120px] md:max-w-none",children:i.jsx("h1",{className:"font-fantasy font-black tracking-[0.1em] md:tracking-[0.2em] text-transparent bg-clip-text bg-gradient-to-b from-amber-200 to-amber-600 text-[10px] sm:text-xs md:text-base drop-shadow-md whitespace-nowrap text-center",children:"ETHEREAL TOWER RPG"})}),i.jsxs("div",{className:"flex items-center gap-1 md:gap-2 z-10",children:[i.jsx("button",{onClick:d,className:"p-1.5 rounded hover:bg-stone-800 text-stone-500 hover:text-stone-300 transition-colors",title:" (Stealth Mode) [Alt+S]",children:""}),i.jsx("button",{onClick:ee,className:`p-1.5 rounded hover:bg-stone-800 transition-colors ${v?"text-green-500":"text-stone-500 hover:text-stone-300"}`,title:" (Share)",children:v?"":""}),i.jsx("button",{onClick:Q,className:`p-1.5 rounded hover:bg-red-900/30 transition-colors ${r?"text-red-500 animate-pulse":"text-stone-600 hover:text-red-400"}`,title:r?"?":" (Reset)",children:""})]})]})})},tb={[oe.KNIGHT]:{color:"#fef3c7",glow:"rgba(251, 191, 36, 0.6)",type:"slash",scale:1.2},[oe.WARRIOR]:{color:"#ef4444",glow:"rgba(239, 68, 68, 0.6)",type:"slash",scale:1.5},[oe.ROGUE]:{color:"#10b981",glow:"rgba(16, 185, 129, 0.6)",type:"slash",scale:1},[oe.ARCHER]:{color:"#fbbf24",glow:"rgba(251, 191, 36, 0.6)",type:"shoot-up",scale:1},[oe.MAGE]:{color:"#3b82f6",glow:"rgba(59, 130, 246, 0.6)",type:"blast",scale:1.3},[oe.BEATER]:{color:"#6366f1",glow:"rgba(99, 102, 241, 0.8)",type:"slash",scale:1.2},[oe.KAYABA]:{color:"#ffffff",glow:"rgba(255, 255, 255, 0.9)",type:"blast",scale:2}},lb=c=>tb[c]||{color:"#ffffff",glow:"rgba(255,255,255,0.5)",type:"slash"},ab={[be.PLAINS]:"from-sky-900/40 to-transparent",[be.FOREST]:"from-emerald-900/30 to-transparent",[be.DESERT]:"from-amber-900/30 to-transparent",[be.CAVE]:"from-indigo-950/50 to-stone-950/50",[be.TOWER]:"from-red-950/40 to-stone-950/60"},A0=c=>c?{str:"",agi:"",int:"",vit:"",luk:"",atk:"",matk:"",def:"",mdef:"",all_defense:"",all_attack:"",all:"",dodge:"",hit:"",crit:"",critDamage:"",stun:""}[c]||c:"",nb=c=>c?c==="all"?"ALL":{str:"STR",agi:"AGI",int:"INT",vit:"VIT",luk:"LUK",atk:"ATK",matk:"MATK",def:"DEF",mdef:"MDEF",crit:"CRT",dodge:"DGE",hit:"HIT",stun:"STN"}[c]||c.substring(0,3).toUpperCase():"EFF",Po=({effect:c})=>{const{showGenericTooltip:f,hideTooltip:d}=wi();let r="bg-stone-700 border-stone-500 text-stone-200",m="",v="";const S=c.valueType==="percent"?c.power>1?`+${Math.round((c.power-1)*100)}%`:`-${Math.round((1-c.power)*100)}%`:c.type==="buff"?`+${c.power}`:`-${c.power}`;return c.type==="buff"?(r="bg-blue-900/80 border-blue-500 text-blue-200",m="",v=` ${A0(c.targetStat)} ${S}`):c.type==="debuff"?(r="bg-purple-900/80 border-purple-500 text-purple-200",m="",v=` ${A0(c.targetStat)} ${S}`):c.type==="dot"?(r="bg-red-900/80 border-red-500 text-red-200",m="",v=` ${Math.round(c.power)} `):c.type==="stun"&&(r="bg-amber-900/80 border-amber-500 text-amber-200 animate-pulse",m="",v=""),i.jsxs("div",{onMouseEnter:z=>f(c.name,i.jsxs("div",{children:[i.jsx("p",{className:"text-amber-400 font-bold mb-1",children:v}),i.jsxs("p",{className:"text-[10px] opacity-60 italic",children:[": ",c.duration," "]})]}),z.clientX,z.clientY),onMouseLeave:d,className:"pointer-events-auto h-6 md:h-8 px-1.5 md:px-2 rounded flex items-center justify-center gap-1 text-[10px] md:text-xs border shadow-md cursor-help transition-all hover:scale-105",style:{backgroundColor:r.split(" ")[0],borderColor:r.split(" ")[1],color:r.split(" ")[2]},children:[i.jsx("span",{className:"font-black",children:m}),i.jsx("span",{className:"font-bold uppercase tracking-tighter opacity-90",children:nb(c.targetStat)}),i.jsxs("span",{className:"font-mono opacity-50 text-[8px] md:text-[10px]",children:["(",c.duration,")"]})]})},sb=({current:c,max:f,isPlayer:d,isEnraged:r})=>{const[m,v]=C.useState(c),S=Math.max(0,Math.min(100,c/f*100)),z=Math.max(0,Math.min(100,m/f*100));return C.useEffect(()=>{const N=setTimeout(()=>{v(c)},500);return()=>clearTimeout(N)},[c]),i.jsxs("div",{className:"relative w-full h-3 md:h-4 bg-stone-900 rounded border border-stone-800 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-stone-950"}),i.jsx("div",{className:"absolute h-full bg-amber-100 transition-all duration-700 ease-out",style:{width:`${z}%`}}),i.jsx("div",{className:`absolute h-full transition-all duration-200 ease-out ${d?"bg-gradient-to-r from-red-800 to-red-500":r?"bg-gradient-to-r from-red-600 to-orange-500 animate-pulse":"bg-gradient-to-r from-red-800 to-red-500"}`,style:{width:`${S}%`}}),i.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] md:text-[10px] font-bold text-white drop-shadow-md z-10",children:[c," / ",f]})]})},ts=({id:c,count:f,onUse:d})=>{const{showGenericTooltip:r,hideTooltip:m}=wi();let v="",S="",z="";switch(c){case"potion_str":v="",S="border-red-600 hover:bg-red-900/50",z="";break;case"potion_vit":v="",S="border-green-600 hover:bg-green-900/50",z="";break;case"potion_agi":v="",S="border-emerald-600 hover:bg-emerald-900/50",z="";break;case"potion_int":v="",S="border-blue-600 hover:bg-blue-900/50",z="";break;case"potion_luk":v="",S="border-amber-600 hover:bg-amber-900/50",z="";break;default:v="",S="border-stone-600 hover:bg-stone-900/50",z="";break}return f<=0?null:i.jsxs("button",{onClick:d,onMouseEnter:N=>r(z,i.jsx("div",{children:" Buff "}),N.clientX,N.clientY),onMouseLeave:m,className:`w-8 h-8 md:w-10 md:h-10 rounded-full bg-stone-900/80 backdrop-blur-sm border flex items-center justify-center relative transition-all active:scale-95 group ${S}`,children:[i.jsx("span",{className:"text-base md:text-xl filter drop-shadow-md",children:v}),i.jsx("span",{className:"absolute -bottom-1 -right-1 bg-black text-[8px] md:text-[9px] text-white px-1 rounded-full border border-stone-600 min-w-[14px] md:min-w-[16px] text-center font-bold",children:f})]})},ib=({config:c,onConfigure:f})=>{const[d,r]=C.useState(!1),[m,v]=C.useState(c.threshold.toString());C.useEffect(()=>{d||v(c.threshold.toString())},[c.threshold,d]);const S=()=>{let N=parseInt(m);isNaN(N)&&(N=c.threshold),N=Math.max(5,Math.min(95,N)),f(c.autoUse,N),r(!1)},z=N=>{N.stopPropagation();let p=parseInt(m);isNaN(p)&&(p=c.threshold),f(!c.autoUse,p)};return i.jsxs("div",{className:"relative",children:[d&&i.jsx("div",{className:"fixed inset-0 z-40 bg-black/5 md:bg-transparent",onClick:S}),d&&i.jsxs("div",{className:"absolute bottom-12 right-0 md:left-1/2 md:-translate-x-1/2 w-40 md:w-44 bg-stone-950 border border-stone-600 rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.9)] p-3 z-50 flex flex-col gap-3 animate-fade-in text-xs font-sans ring-1 ring-white/10",onClick:N=>N.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-stone-800 pb-2",children:[i.jsx("span",{className:"font-bold text-stone-400 uppercase tracking-widest text-[9px]",children:""}),i.jsx("div",{onClick:z,className:`w-8 h-4 rounded-full relative cursor-pointer transition-colors ${c.autoUse?"bg-green-600":"bg-stone-800"}`,children:i.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${c.autoUse?"translate-x-4":"translate-x-0"}`})})]}),i.jsxs("div",{className:"flex flex-col gap-1.5",children:[i.jsx("div",{className:"text-[10px] text-stone-400 uppercase font-bold",children:" (HP %)"}),i.jsxs("div",{className:"flex items-center gap-2 bg-stone-900/50 p-2 rounded-lg border border-stone-800",children:[i.jsx("input",{type:"number",value:m,onChange:N=>v(N.target.value),onBlur:S,className:"w-full bg-transparent text-center text-stone-400 font-mono font-bold focus:outline-none p-0 text-sm"}),i.jsx("span",{className:"text-stone-600 font-bold",children:"%"})]})]}),i.jsx("button",{onClick:S,className:"w-full bg-stone-800 hover:bg-stone-700 text-stone-200 py-1.5 rounded-lg text-[10px] font-bold border border-stone-700 transition-colors uppercase tracking-widest",children:"OK"})]}),i.jsxs("button",{onClick:N=>{N.stopPropagation(),r(!d)},className:`w-8 h-8 md:w-10 md:h-10 rounded border flex items-center justify-center relative transition-all duration-300 ${c.autoUse?"bg-green-900/20 border-green-600 shadow-[0_0_15px_rgba(34,197,94,0.3)]":"bg-stone-800 border-stone-600 hover:border-stone-500"} ${d?"scale-110 border-amber-500":""}`,title:"",children:[i.jsx("span",{className:`text-base md:text-xl filter drop-shadow-sm transition-transform ${d?"scale-110":""}`,children:""}),i.jsx("span",{className:`absolute -top-1 -right-1 text-[8px] md:text-[9px] text-white px-1 rounded-full border min-w-[14px] md:min-w-[16px] text-center font-bold ${c.count<=0?"bg-red-900 border-red-700 animate-pulse":"bg-black border-stone-600"}`,children:c.count}),c.autoUse&&i.jsx("div",{className:"absolute -bottom-1 -left-1 w-2.5 h-2.5 bg-green-500 rounded-full border border-stone-950 animate-pulse"})]})]})},cb=({gameState:c,player:f,enemy:d,logs:r,activeLocation:m,isAutoBattling:v,setIsAutoBattling:S,onAttack:z,onFlee:N,isTurnProcessing:p,onUseConsumable:j,onConfigurePotion:_,onStartCombat:G,onCancelWork:Q,onClaimWorkReward:ee})=>{const K=C.useRef(null),[P,se]=C.useState([]),[V,F]=C.useState([]),[ce,he]=C.useState(!1),[H,w]=C.useState(!1),Y=C.useRef(new Set),[Z,ie]=C.useState(""),[O,W]=C.useState(0);C.useEffect(()=>{if(!f.workStatus)return;const L=setInterval(()=>{if(f.workStatus){const k=Date.now(),de=f.workStatus.startTime+f.workStatus.durationMs-k,Se=Math.min(100,Math.max(0,(k-f.workStatus.startTime)/f.workStatus.durationMs*100));if(W(Se),de>0){const Me=Math.floor(de/36e5),We=Math.floor(de%36e5/6e4),dt=Math.floor(de%6e4/1e3);ie(`${Me>0?Me+"h ":""}${We}m ${dt}s`)}else ie("")}},1e3);return()=>clearInterval(L)},[f.workStatus]);const I=C.useMemo(()=>ht(f),[f]),ne=(d==null?void 0:d.isBoss)&&d.stats.hp>0&&d.stats.hp/d.stats.maxHp<.3,le=(d==null?void 0:d.isBoss)&&(d==null?void 0:d.level)===100,h=f.stats.hp>0&&f.stats.hp/I.stats.maxHp<=.25,B=C.useRef(d);C.useEffect(()=>{B.current=d},[d]),C.useEffect(()=>{se([]),F([]),d&&(Y.current=new Set)},[d==null?void 0:d.name]);const J=(L,k,de)=>{const Se=nn(),Me=(Math.random()-.5)*80,We=(Math.random()-.5)*40,dt=de==="enemy"?0:-100,it=de==="enemy"?-50:100;se(Ft=>[...Ft,{id:Se,x:dt+Me,y:it+We,text:L,type:k}]),setTimeout(()=>{se(Ft=>Ft.filter(Tt=>Tt.id!==Se))},1e3)},re=()=>{const L=nn(),k=lb(f.classType);F(de=>[...de,{id:L,type:k.type,color:k.color,glow:k.glow,scale:k.scale}]),setTimeout(()=>F(de=>de.filter(Se=>Se.id!==L)),500)};C.useEffect(()=>{if(r.length===0)return;const L=r.filter(k=>!Y.current.has(k.id));if(L.length!==0){if(L.forEach(k=>{Y.current.add(k.id),(k.type==="playerAction"||k.type==="skill")&&(B.current&&k.value&&k.value>0?(J(k.value.toString(),k.isCrit?"crit":"damage","enemy"),re(),he(!0),setTimeout(()=>he(!1),200),k.isCrit&&(w(!0),setTimeout(()=>w(!1),200))):B.current&&k.isMiss&&J("MISS","miss","enemy")),(k.type==="enemyAction"||k.type==="effect"&&k.value)&&(k.value&&k.value>0?(J(k.value.toString(),"damage","player"),w(!0),setTimeout(()=>w(!1),300)):k.isMiss&&J("DODGE","miss","player")),(k.type==="heal"||k.type==="luckPositive"||k.type==="item"&&k.value&&k.value>0)&&k.value&&k.value>0&&J(`+${k.value}`,"heal","player")}),Y.current.size>200){const k=Array.from(Y.current);Y.current=new Set(k.slice(-100))}K.current&&(K.current.scrollTop=K.current.scrollHeight)}},[r]);const me=()=>{var L;return i.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-all duration-1000 bg-gradient-to-b ${m?ab[m]:"from-transparent to-transparent"} ${H?"animate-shake-hard":""}`,children:f.workStatus?i.jsxs("div",{className:"flex flex-col items-center gap-6 animate-fade-in max-w-sm w-full px-8",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 bg-stone-900/60 backdrop-blur-xl border-2 border-amber-600/30 rounded-full flex items-center justify-center text-5xl md:text-6xl animate-breathe shadow-[0_0_40px_rgba(245,158,11,0.2)]",children:((L=tr.find(k=>{var de;return k.id===((de=f.workStatus)==null?void 0:de.jobId)}))==null?void 0:L.icon)||""}),i.jsx("div",{className:"absolute inset-0 rounded-full border border-amber-500/20 animate-ping"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-fantasy font-black text-amber-100 tracking-[0.1em] mb-1",children:f.workStatus.jobName}),i.jsx("p",{className:"text-[10px] md:text-xs text-stone-500 uppercase tracking-[0.3em] font-bold",children:""})]}),i.jsxs("div",{className:"w-full space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-end px-1",children:[i.jsx("span",{className:"text-[10px] font-mono text-stone-600 font-bold uppercase tracking-widest",children:""}),i.jsxs("span",{className:"text-sm font-mono text-amber-400 font-black",children:[O.toFixed(1),"%"]})]}),i.jsx("div",{className:"w-full bg-stone-950 h-2.5 md:h-3 rounded-full border border-stone-800 overflow-hidden relative shadow-inner",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-amber-800 to-amber-500 transition-all duration-1000 relative overflow-hidden",style:{width:`${O}%`},children:i.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(90deg,transparent_0%,rgba(255,255,255,0.2)_50%,transparent_100%)] animate-[shimmer_2s_infinite]"})})}),i.jsx("div",{className:"text-center font-mono text-xl md:text-2xl text-stone-200 tracking-widest pt-1",children:Z})]}),i.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-stone-900/80 px-4 py-1.5 rounded-full border border-stone-800 shadow-sm",children:[i.jsx("span",{className:"text-amber-500 text-xs",children:""}),i.jsx("span",{className:"text-stone-300 font-mono text-xs font-bold",children:f.workStatus.rewardGold.toLocaleString()})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-stone-900/80 px-4 py-1.5 rounded-full border border-stone-800 shadow-sm",children:[i.jsx("span",{className:"text-blue-400 text-[10px] font-black",children:"EXP"}),i.jsx("span",{className:"text-stone-300 font-mono text-xs font-bold",children:f.workStatus.rewardExp.toLocaleString()})]})]}),i.jsx("div",{className:"w-full max-w-[200px] space-y-2",children:O>=100?i.jsx("button",{onClick:ee,className:"w-full py-3 bg-amber-600 border border-amber-400 text-white rounded-lg font-black uppercase tracking-widest text-xs shadow-[0_0_15px_rgba(245,158,11,0.4)] animate-pulse hover:bg-amber-500 transition-all active:scale-95 pointer-events-auto",children:" (Claim)"}):i.jsx("button",{onClick:Q,className:"w-full py-2.5 bg-stone-900/80 border border-stone-700 text-stone-500 rounded-lg font-bold uppercase tracking-widest text-[10px] hover:text-red-400 hover:border-red-900/50 transition-all active:scale-95 pointer-events-auto",children:" (Cancel)"})})]})]}):d?i.jsxs("div",{className:"relative flex flex-col items-center justify-center mb-16 md:mb-0",children:[i.jsx("div",{className:"absolute inset-0 z-50 pointer-events-none flex items-center justify-center",children:P.filter(k=>k.y<0).map(k=>i.jsx("div",{className:`absolute font-black text-4xl damage-text-shadow animate-float-up z-50 whitespace-nowrap ${k.type==="crit"?"text-yellow-400 text-6xl animate-crit-scale":k.type==="heal"?"text-green-400":k.type==="miss"?"text-stone-500 text-2xl":"text-white"}`,style:{transform:`translate(${k.x}px, ${k.y}px)`},children:k.text},k.id))}),i.jsxs("div",{className:`flex flex-col items-center gap-2 md:gap-4 transition-transform duration-100 relative ${le?"animate-pulse":""}`,children:[V.map(k=>i.jsxs("div",{className:"absolute inset-0 z-40 pointer-events-none flex items-center justify-center",style:{transform:`scale(${k.scale||1})`},children:[k.type==="slash"&&i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[250px] md:w-[450px] h-[250px] md:h-[450px] flex items-center justify-center rotate-[45deg]",children:i.jsx("div",{className:"w-full h-2 md:h-3 animate-slash rounded-full mix-blend-screen",style:{backgroundColor:k.color,boxShadow:`0 0 25px ${k.glow}`}})}),k.type==="shoot-up"&&i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 md:w-6 h-full flex items-center justify-center",children:i.jsx("div",{className:"w-1 md:w-1.5 h-32 md:h-48 animate-shoot-up rounded-full mix-blend-screen",style:{backgroundColor:k.color,boxShadow:`0 0 20px ${k.glow}`}})}),k.type==="pierce"&&i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 md:w-48 h-32 md:h-48 flex items-center justify-center",children:i.jsx("div",{className:"w-full h-full animate-pierce rounded-full",style:{border:`4px solid ${k.color}`,boxShadow:`inset 0 0 40px ${k.glow}, 0 0 20px ${k.glow}`}})}),k.type==="blast"&&i.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 md:w-72 h-48 md:h-72 flex items-center justify-center",children:[i.jsx("div",{className:"w-full h-full animate-pulse-fast rounded-full blur-xl opacity-60",style:{backgroundColor:k.color}}),i.jsx("div",{className:"absolute w-1/2 h-1/2 animate-ping rounded-full",style:{backgroundColor:k.color}})]})]},k.id)),i.jsx("div",{className:`w-32 h-32 md:w-64 md:h-64 flex items-center justify-center text-[80px] md:text-[120px] drop-shadow-[0_10px_10px_rgba(0,0,0,0.5)] transition-all ${ne?"scale-110 filter hue-rotate-[-20deg] brightness-75":"scale-100"} ${ce?"animate-flash-white":""}`,children:d.isBoss?"":""}),i.jsx("div",{className:"flex justify-center gap-2 min-h-[24px] md:min-h-[32px]",children:d.activeEffects.map(k=>i.jsx(Po,{effect:k},k.id))})]})]}):i.jsxs("div",{className:"flex flex-col items-center gap-4 md:gap-6 animate-fade-in mb-10 md:mb-0",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-5xl md:text-7xl mb-2 opacity-50",children:m?m===be.PLAINS?"":m===be.FOREST?"":m===be.DESERT?"":m===be.CAVE?"":"":""}),i.jsx("h2",{className:"text-2xl md:text-4xl font-fantasy font-bold text-stone-300 tracking-[0.2em] uppercase",children:m?ns[m].name:""}),!m&&i.jsx("div",{className:"text-stone-500 font-serif italic text-sm animate-pulse mt-2",children:"..."}),m===be.TOWER&&i.jsxs("div",{className:"text-red-500 font-mono font-bold mt-2",children:["Floor ",f.towerFloor]})]}),m&&(v?i.jsxs("div",{className:"flex flex-col items-center gap-3 py-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),i.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),i.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full animate-bounce"})]}),i.jsx("div",{className:"text-amber-500 font-fantasy font-bold tracking-[0.3em] uppercase animate-pulse text-sm md:text-lg",children:"..."}),i.jsx("button",{onClick:()=>S(!1),className:"px-6 py-2 bg-stone-900/80 border border-stone-700 text-stone-400 text-[10px] uppercase tracking-widest rounded hover:bg-red-950/20 hover:border-red-800 hover:text-red-400 transition-all active:scale-95 pointer-events-auto",children:" (Cancel)"})]}):i.jsxs("button",{onClick:G,className:"group relative px-8 py-4 bg-stone-900/80 backdrop-blur-sm border-2 border-amber-600/50 hover:border-amber-500 rounded-lg overflow-hidden transition-all hover:scale-105 active:scale-95 shadow-[0_0_20px_rgba(0,0,0,0.5)]",children:[i.jsx("div",{className:"absolute inset-0 bg-amber-600/10 group-hover:bg-amber-600/20 transition-colors"}),i.jsx("span",{className:"relative z-10 text-xl md:text-2xl font-fantasy font-bold text-amber-100 tracking-[0.1em] uppercase group-hover:text-white transition-colors",children:""}),i.jsx("div",{className:"absolute inset-0 border border-amber-400/30 rounded-lg animate-ping opacity-0 group-hover:opacity-50"})]}))]})})},b=()=>f.activeEffects.length===0?null:i.jsx("div",{className:"fixed top-14 right-6 hidden md:flex flex-wrap justify-end gap-2 max-w-[450px] pointer-events-none z-[60]",children:f.activeEffects.map(L=>i.jsx(Po,{effect:L},L.id))}),M=()=>d?i.jsxs("div",{className:"fixed top-12 right-2 w-[140px] md:top-10 md:left-1/2 md:right-auto md:-translate-x-1/2 md:w-[300px] bg-stone-950/80 backdrop-blur-md border border-stone-700 rounded-lg p-2 md:p-3 shadow-2xl z-40 transition-transform cursor-default pointer-events-auto flex flex-col md:flex-row items-center md:items-center gap-2 md:gap-3",children:[i.jsxs("div",{className:`hidden md:flex relative w-16 h-16 rounded bg-stone-900 border border-stone-600 items-center justify-center text-3xl shadow-inner shrink-0 ${d.isBoss?"border-red-800":""}`,children:[d.isBoss?"":"",d.isBoss&&i.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 text-sm filter drop-shadow-md",children:""})]}),i.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center gap-1 w-full",children:[i.jsx("div",{className:"flex justify-between items-end",children:i.jsxs("span",{className:`font-bold font-fantasy tracking-wide truncate text-[10px] md:text-base ${d.isBoss?"text-red-500":"text-stone-300"}`,children:[i.jsxs("span",{className:"text-stone-500 font-mono text-[9px] md:text-xs mr-1",children:["Lv.",d.level]}),d.name]})}),i.jsx(sb,{current:d.stats.hp,max:d.stats.maxHp,isEnraged:ne})]})]}):null,$=()=>i.jsxs("div",{className:"fixed bottom-48 md:bottom-10 left-1/2 transform -translate-x-1/2 z-50 flex items-end justify-center pointer-events-none w-full max-w-md px-4",children:[i.jsxs("div",{className:"relative flex flex-col items-center pointer-events-auto w-full md:w-auto",children:[i.jsx("button",{onClick:z,disabled:!d||v||p,className:`w-20 h-20 md:w-20 md:h-20 rounded-full border-4 shadow-[0_0_20px_rgba(0,0,0,0.5)] flex items-center justify-center text-3xl transition-all active:scale-95 z-20 mx-auto ${d?p?"bg-stone-800 border-stone-600 text-stone-500":"bg-red-900 border-red-500 text-red-100 hover:bg-red-800 hover:scale-105":"bg-stone-900 border-stone-700 text-stone-600 cursor-not-allowed opacity-0"}`,children:""}),d&&i.jsx("span",{className:"text-[10px] text-stone-400 font-bold uppercase tracking-wider bg-black/60 px-2 rounded mt-1",children:"Attack"}),d&&i.jsxs("div",{className:"absolute left-0 bottom-4 md:right-[100%] md:left-auto md:bottom-6 md:pr-6 flex items-center justify-center gap-1 md:gap-2 pointer-events-auto w-1/3 md:w-auto",children:[i.jsx(ts,{id:"potion_luk",count:f.consumables.inventory.potion_luk||0,onUse:()=>j("potion_luk")}),i.jsx(ts,{id:"potion_int",count:f.consumables.inventory.potion_int||0,onUse:()=>j("potion_int")}),i.jsx(ts,{id:"potion_agi",count:f.consumables.inventory.potion_agi||0,onUse:()=>j("potion_agi")}),i.jsx(ts,{id:"potion_vit",count:f.consumables.inventory.potion_vit||0,onUse:()=>j("potion_vit")}),i.jsx(ts,{id:"potion_str",count:f.consumables.inventory.potion_str||0,onUse:()=>j("potion_str")})]}),i.jsxs("div",{className:"absolute right-0 bottom-4 md:left-[100%] md:right-auto md:bottom-6 md:pl-6 flex items-center justify-center gap-2 pointer-events-auto w-1/3 md:w-auto",children:[d&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:N,disabled:!d||v,className:"w-8 h-8 md:w-10 md:h-10 bg-stone-800 border border-stone-600 rounded flex items-center justify-center hover:bg-stone-700 active:scale-95 disabled:opacity-50",title:"Flee",children:""}),i.jsx("div",{className:"w-px h-6 md:h-8 bg-stone-700/50"})]}),d&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:`w-8 h-8 md:w-10 md:h-10 rounded border flex items-center justify-center cursor-pointer transition-colors ${v?"bg-amber-900 border-amber-500 text-amber-100 animate-pulse":"bg-stone-800 border-stone-600 text-stone-400"}`,children:[i.jsx("input",{type:"checkbox",className:"hidden",checked:v,onChange:L=>S(L.target.checked)}),i.jsx("span",{className:"text-sm md:text-base",children:""})]}),i.jsx(ib,{config:f.consumables.healthPotion,onConfigure:_})]})]})]}),i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-24 w-64 h-32 pointer-events-none flex items-end justify-center",children:P.filter(L=>L.y>0).map(L=>i.jsx("div",{className:`absolute font-black text-2xl damage-text-shadow animate-float-up z-50 whitespace-nowrap ${L.type==="heal"?"text-green-400":L.type==="miss"?"text-stone-500":"text-red-500"}`,style:{transform:`translate(${L.x}px, ${L.y-100}px)`},children:L.text},L.id))})]}),te=()=>i.jsxs("div",{className:"fixed z-30 pointer-events-auto flex flex-col font-sans text-xs transition-opacity md:bottom-6 md:left-4 md:right-auto md:w-96 md:h-48 md:rounded-lg md:opacity-80 md:hover:opacity-100 bottom-6 left-2 right-2 h-24 opacity-80 pointer-events-none",children:[i.jsx("div",{className:"bg-black/60 backdrop-blur-sm px-3 py-1 text-stone-500 uppercase font-bold text-[10px] border-stone-800 flex justify-between md:rounded-t-lg md:border-t md:border-x border-t rounded-t-lg border-x",children:i.jsx("span",{children:""})}),i.jsxs("div",{ref:K,className:"flex-1 bg-black/40 backdrop-blur-sm border-stone-800 overflow-y-auto scrollbar-hide flex flex-col gap-1 shadow-lg p-3 md:border md:rounded-b-lg border-b border-x rounded-b-lg",children:[r.map(L=>i.jsxs("div",{className:`leading-snug break-words ${L.type==="playerAction"?"text-stone-300":L.type==="enemyAction"?"text-red-400":L.type==="reward"?"text-amber-300":L.type==="heal"?"text-green-400":"text-stone-500"}`,children:[i.jsxs("span",{className:"text-stone-500 font-mono text-[10px] mr-2",children:["[",new Date(L.timestamp).toLocaleTimeString([],{hour12:!1,minute:"2-digit",second:"2-digit"}),"]"]}),L.text.split(":::").map((k,de)=>{if(de%2===0)return k;const[Se,Me]=k.split("|"),We=Ux[Se]||"text-amber-200";return i.jsx("span",{className:`${We} font-bold`,children:Me},de)})]},L.id)),i.jsx("div",{className:"h-4"})]})]});return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`fixed inset-0 pointer-events-none z-30 transition-opacity duration-1000 enrage-vignette ${h?"opacity-100":"opacity-0"}`}),me(),b(),M(),$(),te()]})},ob=C.memo(cb),rb={:"",:"",:"",:"",:"",:"",GM:""},ub={:"border-stone-700 shadow-2xl",:"border-blue-600 shadow-[0_0_15px_rgba(59,130,246,0.3)]",:"border-purple-600 shadow-[0_0_15px_rgba(168,85,247,0.3)]",:"border-amber-500 shadow-[0_0_20px_rgba(251,191,36,0.4)]",:"border-red-600 shadow-[0_0_25px_rgba(239,68,68,0.5)] animate-pulse-slow"},fb={:"text-stone-400",:"text-blue-400",:"text-purple-400",:"text-amber-400",:"text-red-500 font-black"},db=({current:c,max:f})=>{const[d,r]=C.useState(c),m=Math.max(0,Math.min(100,c/f*100)),v=Math.max(0,Math.min(100,d/f*100));return C.useEffect(()=>{const S=setTimeout(()=>{r(c)},500);return()=>clearTimeout(S)},[c]),i.jsxs("div",{className:"relative w-full h-3 md:h-4 bg-stone-900 rounded border border-stone-800 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-stone-950"}),i.jsx("div",{className:"absolute h-full bg-amber-100 transition-all duration-700 ease-out",style:{width:`${v}%`}}),i.jsx("div",{className:"absolute h-full bg-gradient-to-r from-red-800 to-red-500 transition-all duration-200 ease-out",style:{width:`${m}%`}}),i.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] md:text-[10px] font-bold text-white drop-shadow-md z-10",children:[c," / ",f]})]})},mb=({player:c,legacy:f})=>{const d=C.useMemo(()=>ht(c,f),[c,f]),r=C.useMemo(()=>f.selectedTitleId&&as.find(v=>v.id===f.selectedTitleId)||null,[f.selectedTitleId]),m=r?ub[r.rarity]:"border-stone-700 shadow-2xl";return i.jsxs("div",{className:"flex flex-col gap-2 pointer-events-none",children:[i.jsxs("div",{className:`w-[140px] md:w-[300px] bg-stone-950/85 backdrop-blur-md border rounded-lg p-2 md:p-3 flex items-center gap-2 md:gap-3 transition-all pointer-events-auto ${m}`,children:[i.jsxs("div",{className:"hidden md:flex relative w-12 h-12 md:w-16 md:h-16 rounded bg-stone-900 border border-stone-800 items-center justify-center text-2xl md:text-3xl shadow-inner shrink-0 overflow-hidden",children:[rb[c.classType],(r==null?void 0:r.rarity)===""&&i.jsx("div",{className:"absolute inset-0 bg-red-500/10 animate-pulse"})]}),i.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center gap-1 md:gap-1.5",children:[i.jsxs("div",{className:"flex items-baseline flex-wrap gap-x-1 md:gap-x-1.5 min-w-0",children:[r&&i.jsxs("span",{className:`text-[8px] md:text-[10px] font-black uppercase tracking-tighter shrink-0 ${fb[r.rarity]}`,children:["[",r.title,"]"]}),i.jsxs("span",{className:"text-stone-400 font-mono text-[9px] md:text-[11px] shrink-0",children:["Lv.",c.level]}),i.jsx("span",{className:"text-stone-100 font-bold font-fantasy tracking-wide truncate text-[10px] md:text-sm",children:c.name})]}),i.jsx(db,{current:c.stats.hp,max:d.stats.maxHp})]})]}),c.activeEffects.length>0&&i.jsx("div",{className:"flex md:hidden flex-wrap gap-1 px-1 pointer-events-auto max-w-[140px] animate-fade-in",children:c.activeEffects.map(v=>i.jsx(Po,{effect:v},v.id))})]})},hb=C.memo(mb);var zt=O0();const xb=[{key:"str",label:" (STR)",color:"text-red-400",icon:"",desc:" (ATK)"},{key:"vit",label:" (VIT)",color:"text-green-400",icon:"",desc:""},{key:"agi",label:" (AGI)",color:"text-emerald-400",icon:"",desc:""},{key:"int",label:" (INT)",color:"text-blue-400",icon:"",desc:" (MATK)"},{key:"luk",label:" (LUK)",color:"text-amber-400",icon:"",desc:""}],bb=({attr:c,finalVal:f,rawVal:d,addedVal:r,remainingPoints:m,onAllocate:v})=>{const{showGenericTooltip:S,hideTooltip:z}=wi(),N=f-(d+r);return i.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${r>0?"bg-amber-900/10 border-amber-800/50":"bg-stone-900/20 border-stone-800/50 hover:bg-stone-900/40"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 cursor-help select-none",onMouseEnter:p=>S(c.label,c.desc,p.clientX,p.clientY),onMouseLeave:z,children:[i.jsx("span",{className:"text-base grayscale opacity-70",children:c.icon}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:`text-xs font-bold ${c.color}`,children:c.label.split(" ")[0]}),i.jsx("span",{className:"text-[10px] text-stone-600 font-mono",children:c.label.split(" ")[1]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-baseline justify-end gap-1",children:[i.jsx("span",{className:`font-mono text-sm font-bold ${N>0?"text-green-400":"text-stone-200"}`,children:f}),N>0&&i.jsx("span",{className:"text-[9px] text-green-600 font-bold",children:"()"})]}),r>0&&i.jsxs("div",{className:"text-[10px] text-amber-500 font-bold",children:[": +",r]})]}),i.jsx("button",{onClick:()=>v(c.key),disabled:m<=0,className:`w-8 h-8 rounded-lg border flex items-center justify-center font-bold text-sm transition-all active:scale-90 ${m>0?"bg-stone-800 border-stone-600 text-stone-300 hover:border-amber-500 hover:text-amber-400":"bg-stone-900 border-stone-800 text-stone-700 cursor-not-allowed opacity-50"}`,children:"+"})]})]})},pb=({player:c,legacy:f,onBatchAllocate:d,onClose:r})=>{const[m,v]=C.useState(1),[S,z]=C.useState({}),N=Object.values(S).reduce((V,F)=>V+F,0),p=c.statPoints-N,{stats:j,finalAttributes:_,rawAttributes:G}=C.useMemo(()=>ht(c,f),[c,f]),{stats:Q}=C.useMemo(()=>{const V={...c,attributes:{...c.attributes}};return Object.entries(S).forEach(([F,ce])=>{V.attributes[F]+=ce}),ht(V,f)},[c,S,f]),ee=({label:V,oldVal:F,newVal:ce,unit:he="",hasLegacyBonus:H})=>{const w=ce-F,Y=he==="%",Z=Y?F.toFixed(1):F,ie=Y?ce.toFixed(1):ce;return i.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-stone-800/50 text-xs sm:text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-stone-500 font-bold",children:V}),H&&i.jsx("span",{className:"text-[10px] text-amber-500",title:"",children:""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`font-mono ${H?"text-amber-200":"text-stone-300"}`,children:[Z,he]}),w!==0&&i.jsxs("span",{className:"text-green-400 font-mono font-bold animate-pulse",children:[" ",ie,he]})]})]})},K=(f.upgrades.legacy_atk||0)>0,P=(f.upgrades.legacy_hp||0)>0,se=(f.upgrades.legacy_gold||0)>0;return zt.createPortal(i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/85 backdrop-blur-sm p-4",onClick:r,children:i.jsxs("div",{className:"w-full max-w-4xl bg-stone-950 border border-stone-600 rounded-2xl shadow-2xl flex flex-col max-h-[90dvh] overflow-hidden",onClick:V=>V.stopPropagation(),children:[i.jsxs("div",{className:"bg-stone-900 p-4 border-b border-stone-800 flex justify-between items-center shrink-0",children:[i.jsxs("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em] flex items-center gap-3",children:[i.jsx("span",{className:"text-xl",children:""})," "]}),i.jsx("button",{onClick:r,className:"text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]}),i.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8 overflow-y-auto scrollbar-hide",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-stone-900/50 p-4 rounded-xl border border-stone-800 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-[10px] text-stone-500 uppercase font-bold",children:""}),i.jsx("div",{className:"text-3xl font-mono font-bold text-amber-400",children:p})]}),i.jsx("div",{className:"flex bg-stone-950 rounded-lg p-1 gap-1 border border-stone-800",children:[1,10,-1].map(V=>i.jsx("button",{onClick:()=>v(V),className:`px-4 py-2 text-[10px] font-bold rounded-md transition-all ${m===V?"bg-amber-600 text-white":"text-stone-500 hover:bg-stone-900"}`,children:V===-1?"MAX":`+${V}`},V))})]}),i.jsx("div",{className:"space-y-2",children:xb.map(V=>i.jsx(bb,{attr:V,finalVal:_[V.key],rawVal:G[V.key],addedVal:S[V.key]||0,remainingPoints:p,onAllocate:F=>{const ce=m===-1?p:Math.min(m,p);ce>0&&z(he=>({...he,[F]:(he[F]||0)+ce}))}},V.key))}),N>0&&i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{onClick:()=>z({}),className:"flex-1 py-3 bg-stone-900 border border-stone-700 text-stone-500 rounded-xl text-xs font-bold uppercase",children:""}),i.jsxs("button",{onClick:()=>{d(S),z({})},className:"flex-[2] py-3 bg-amber-600 border border-amber-500 text-white rounded-xl font-bold uppercase shadow-lg text-xs",children:[" (",N,")"]})]})]}),i.jsxs("div",{className:"bg-stone-900/20 rounded-xl border border-stone-800 p-5",children:[i.jsx("h3",{className:"text-[10px] font-bold text-stone-500 uppercase tracking-widest border-b border-stone-800 pb-3 mb-4",children:" ()"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ee,{label:" (HP)",oldVal:j.maxHp,newVal:Q.maxHp,hasLegacyBonus:P}),i.jsx(ee,{label:" (ATK)",oldVal:j.atk,newVal:Q.atk,hasLegacyBonus:K}),i.jsx(ee,{label:" (MATK)",oldVal:j.matk,newVal:Q.matk,hasLegacyBonus:K}),i.jsx("div",{className:"h-px bg-stone-800/50 my-3"}),i.jsx(ee,{label:" (DEF)",oldVal:j.def,newVal:Q.def}),i.jsx(ee,{label:" (MDEF)",oldVal:j.mdef,newVal:Q.mdef}),i.jsx("div",{className:"h-px bg-stone-800/50 my-3"}),i.jsx(ee,{label:" (CRIT)",oldVal:j.crit,newVal:Q.crit,unit:"%"}),i.jsx(ee,{label:" (CDMG)",oldVal:j.critDamage,newVal:Q.critDamage,unit:"%"}),i.jsx(ee,{label:" (DODGE)",oldVal:j.dodge,newVal:Q.dodge,unit:"%"}),i.jsx(ee,{label:" (HIT)",oldVal:j.hit,newVal:Q.hit,unit:"%"}),i.jsx("div",{className:"h-px bg-stone-800/50 my-3"}),i.jsx(ee,{label:" (GOLD)",oldVal:j.goldBonus||0,newVal:Q.goldBonus||0,unit:"%",hasLegacyBonus:se})]}),i.jsx("div",{className:"mt-6 p-3 bg-amber-900/10 border border-amber-900/30 rounded-lg",children:i.jsxs("p",{className:"text-[10px] text-amber-400 leading-relaxed font-serif italic flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:""})]})})]})]})]})}),document.body)},gb={[D.HEAD]:"",[D.BODY]:"",[D.LEGS]:"",[D.HANDS]:"",[D.FEET]:"",[D.BACK]:"",[D.MAIN_HAND]:"",[D.OFF_HAND]:"",[D.ACCESSORY]:"",[D.ACCESSORY_2]:""},vb={[D.HEAD]:"",[D.BODY]:"",[D.LEGS]:"",[D.HANDS]:"",[D.FEET]:"",[D.BACK]:"",[D.MAIN_HAND]:"",[D.OFF_HAND]:"",[D.ACCESSORY]:"",[D.ACCESSORY_2]:""},yb=[{title:" (Arms)",slots:[D.MAIN_HAND,D.OFF_HAND]},{title:" (Armor)",slots:[D.HEAD,D.BODY,D.HANDS,D.LEGS,D.FEET,D.BACK]},{title:" (Accessories)",slots:[D.ACCESSORY,D.ACCESSORY_2]}],E0=c=>{switch(c){case"":return"text-red-500 border-red-600 bg-red-900/20 shadow-[0_0_10px_rgba(220,38,38,0.3)]";case"":return"text-amber-400 border-amber-600 bg-amber-900/20 shadow-[0_0_10px_rgba(234,179,8,0.2)]";case"":return"text-purple-400 border-purple-600 bg-purple-900/20 shadow-[0_0_10px_rgba(168,85,247,0.15)]";case"":return"text-blue-400 border-blue-600 bg-blue-900/20";default:return"text-stone-300 border-stone-600 bg-stone-800/50"}},w0=c=>{switch(c.slot){case D.HEAD:return"";case D.BODY:return"";case D.LEGS:return"";case D.HANDS:return"";case D.FEET:return"";case D.BACK:return"";case D.ACCESSORY:case D.ACCESSORY_2:return"";case D.OFF_HAND:return c.weaponType===ae.CATALYST?"":c.weaponType===ae.SWORD_1H?"":c.weaponType===ae.DAGGER?"":"";case D.MAIN_HAND:return c.weaponType===ae.BOW?"":c.weaponType===ae.CROSSBOW?"":c.weaponType===ae.STAFF_1H?"":c.weaponType===ae.STAFF_2H?"":c.weaponType===ae.AXE_1H?"":c.weaponType===ae.AXE_2H?"":c.weaponType===ae.DAGGER?"":c.weaponType===ae.SWORD_2H?"":c.weaponType===ae.SWORD_1H?"":"";default:return""}},Sb=({player:c,gameState:f,onEquip:d,onUnequip:r,onSell:m,onSellAll:v,onSort:S,onToggleLock:z,onClose:N})=>{const[p,j]=C.useState(null),[_,G]=C.useState(!1),Q=(V,F)=>{V.preventDefault(),f!=="COMBAT"&&j({x:V.clientX,y:V.clientY,item:F})},ee=()=>{p&&(m(p.item),j(null))},K=()=>{p&&(z(p.item),j(null))},P=()=>{_?(v(),G(!1)):(G(!0),setTimeout(()=>G(!1),3e3))},se=V=>{const F=c.equipment[V];return i.jsx("div",{className:"w-20 h-20 relative group",children:i.jsx(v0,{item:F,playerClass:c.classType,children:i.jsxs("div",{onClick:()=>F&&r(V),className:`w-full h-full rounded-xl flex flex-col items-center justify-center relative transition-all duration-200 select-none
                          ${F?`border-2 cursor-pointer hover:scale-105 hover:shadow-lg hover:z-10 ${E0(F.rarity)}`:"bg-stone-900/30 border-2 border-dashed border-stone-800 cursor-default hover:bg-stone-900/50"}`,children:[i.jsx("span",{className:`text-[9px] uppercase tracking-wider font-bold absolute top-1.5 
                          ${F?"text-stone-400 opacity-80":"text-stone-600"}`,children:gb[V]}),i.jsx("div",{className:`text-3xl transition-all duration-300 mt-1
                          ${F?"filter drop-shadow-md scale-110 opacity-100":"opacity-20 grayscale scale-90"}`,children:F?w0(F):vb[V]}),F&&i.jsx("span",{className:"absolute bottom-1.5 px-1.5 max-w-[90%] text-[9px] bg-black/60 rounded text-stone-200 truncate backdrop-blur-[1px]",children:F.name}),F&&i.jsx("div",{className:"absolute inset-0 bg-black/70 hidden group-hover:flex items-center justify-center text-xs text-red-400 font-bold backdrop-blur-[1px] rounded-[10px] z-20",children:""})]})})},V)};return zt.createPortal(i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in",onClick:N,children:i.jsxs("div",{className:"w-full max-w-4xl bg-stone-950 border border-stone-600 rounded-xl shadow-2xl flex flex-col h-[85vh] overflow-hidden relative",onClick:V=>V.stopPropagation(),children:[i.jsxs("div",{className:"bg-stone-900 p-4 md:p-5 border-b border-stone-800 flex justify-between items-center shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xl text-amber-500",children:""}),i.jsx("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em]",children:""})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-1.5 bg-black/40 px-3 py-1 rounded border border-stone-800",children:[i.jsx("span",{className:"text-amber-500",children:""}),i.jsx("span",{className:"text-amber-100 font-bold",children:c.gold.toLocaleString()})]}),i.jsx("button",{onClick:N,className:"text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]})]}),i.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto scrollbar-hide space-y-6 flex-1 bg-stone-950 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')]",children:[i.jsx("div",{className:"bg-stone-900/60 rounded-xl p-4 border border-stone-800",children:i.jsx("div",{className:"flex flex-wrap justify-center items-start gap-8 md:gap-16",children:yb.map((V,F)=>i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-stone-500 font-fantasy text-[10px] uppercase tracking-[0.2em] mb-3 border-b border-stone-700/50 pb-1 w-full text-center",children:V.title}),i.jsx("div",{className:"flex flex-wrap justify-center gap-3 max-w-[260px]",children:V.slots.map(ce=>se(ce))})]},F))})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-3 px-1",children:[i.jsxs("h4",{className:"text-stone-400 font-bold text-sm flex items-center gap-2",children:[i.jsx("span",{children:""}),"",i.jsxs("span",{className:"text-stone-600 text-xs font-normal",children:["(",c.inventory.length,"/)"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:S,className:"text-[10px] md:text-xs px-3 py-1.5 bg-stone-800 rounded border border-stone-700 hover:text-amber-300 hover:border-amber-700 transition-colors",children:""}),i.jsx("button",{onClick:P,className:`text-[10px] md:text-xs px-3 py-1.5 bg-stone-800 rounded border border-stone-700 transition-colors ${_?"text-red-400 border-red-800 bg-red-900/20":"hover:text-red-300 hover:border-red-800"}`,children:_?"?":""})]})]}),i.jsxs("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-2",children:[c.inventory.map(V=>{const F=c.equipment[V.slot];return i.jsx(v0,{item:V,compareItem:F,playerClass:c.classType,children:i.jsxs("div",{onClick:()=>{d(V),j(null)},onContextMenu:ce=>Q(ce,V),className:`aspect-square border rounded-lg flex items-center justify-center cursor-pointer relative group hover:scale-105 transition-transform bg-stone-900 shadow-md ${E0(V.rarity)}`,children:[i.jsx("span",{className:"text-2xl filter drop-shadow-sm",children:w0(V)}),V.isLocked&&i.jsx("div",{className:"absolute top-0.5 right-0.5 w-4 h-4 bg-stone-950/80 rounded-full flex items-center justify-center border border-stone-700",children:i.jsx("span",{className:"text-[8px]",children:""})}),i.jsx("div",{className:"absolute inset-0 bg-black/60 hidden group-hover:flex items-center justify-center text-[10px] font-bold backdrop-blur-[1px] rounded-lg text-green-400",children:""})]})},V.id)}),Array.from({length:Math.max(0,40-c.inventory.length)}).map((V,F)=>i.jsx("div",{className:"aspect-square border border-stone-800/30 bg-stone-900/20 rounded-lg flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-stone-800/50"})},`empty-${F}`))]})]})]}),p&&zt.createPortal(i.jsxs("div",{className:"fixed bg-stone-800 border border-stone-600 rounded shadow-2xl py-1 z-[250] min-w-[140px] animate-fade-in",style:{top:p.y,left:p.x},onClick:V=>V.stopPropagation(),children:[i.jsx("div",{className:"px-3 py-1.5 border-b border-stone-700 mb-1 text-xs font-bold text-stone-400 truncate max-w-[150px]",children:p.item.name}),i.jsx("button",{onClick:K,className:"w-full text-left px-3 py-2 text-xs hover:bg-stone-700 text-stone-300 transition-colors",children:p.item.isLocked?"  (Unlock)":"  (Lock)"}),i.jsxs("button",{onClick:ee,disabled:p.item.isLocked,className:"w-full text-left px-3 py-2 text-xs hover:bg-stone-700 text-amber-400 disabled:opacity-50 transition-colors",children:["  (+",Io(p.item),")"]}),i.jsx("div",{className:"border-t border-stone-700 my-1"}),i.jsx("button",{onClick:()=>j(null),className:"w-full text-left px-3 py-2 text-xs hover:bg-stone-700 text-stone-500 transition-colors",children:"  (Cancel)"})]}),document.body)]})}),document.body)},Nb={damage:{label:"",color:"text-red-400 border-red-900/50 bg-red-900/10",icon:""},heal:{label:"",color:"text-green-400 border-green-900/50 bg-green-900/10",icon:""},buff:{label:"",color:"text-blue-400 border-blue-900/50 bg-blue-900/10",icon:""},debuff:{label:"",color:"text-purple-400 border-purple-900/50 bg-purple-900/10",icon:""},dot:{label:"",color:"text-orange-400 border-orange-900/50 bg-orange-900/10",icon:""},stun:{label:"",color:"text-yellow-400 border-yellow-900/50 bg-yellow-900/10",icon:""}},jb=({player:c,onClose:f})=>{const d=C.useMemo(()=>[...D0[c.classType]].sort((S,z)=>S.unlockLevel-z.unlockLevel),[c.classType]),r=S=>S.triggerChance<=.05?{label:"",color:"text-amber-500"}:S.unlockLevel===1?{label:"",color:"text-stone-400"}:{label:"",color:"text-stone-200"},m=S=>S.type!=="damage"&&S.type!=="heal"?null:S.damageType==="magic"?{attr:"INT",color:"text-blue-400",label:""}:{attr:"STR",color:"text-red-400",label:""},v=S=>{const z=c.level>=S.unlockLevel,N=Nb[S.type],p=r(S),j=m(S);return i.jsxs("div",{className:`relative p-4 rounded-xl border transition-all duration-300 group
              ${z?"bg-stone-900/60 border-stone-800 hover:border-amber-900/50 hover:bg-stone-900":"bg-stone-950/50 border-stone-900 opacity-50 grayscale"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-[9px] font-black uppercase tracking-[0.2em] ${p.color}`,children:p.label}),z&&j&&i.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded bg-black/40 border border-stone-800 ${j.color}`,children:i.jsxs("span",{className:"text-[8px] font-bold",children:[j.attr," ",j.label]})})]}),i.jsx("span",{className:`text-[10px] font-mono font-bold ${z?"text-amber-500":"text-stone-600"}`,children:z?`${(S.triggerChance*100).toFixed(0)}% `:`Lv.${S.unlockLevel} `})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:`w-14 h-14 shrink-0 rounded-lg flex items-center justify-center text-3xl border shadow-inner transition-transform group-hover:scale-105
                      ${z?"bg-black border-stone-700 text-white":"bg-stone-900 border-stone-800 text-stone-700"}`,children:N.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:`text-base font-bold truncate ${z?"text-stone-100":"text-stone-600"}`,children:S.name}),i.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded border font-bold uppercase ${N.color}`,children:N.label})]}),i.jsx("p",{className:`text-xs leading-relaxed mb-2 italic ${z?"text-stone-400":"text-stone-700"}`,children:S.description}),z&&i.jsxs("div",{className:"space-y-1 mt-2 pt-2 border-t border-stone-800/50",children:[i.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[i.jsx("span",{className:"text-stone-500 font-bold uppercase tracking-tighter",children:":"}),i.jsxs("span",{className:"text-stone-300",children:[S.power*100,"%",S.hits&&S.hits>1?`  ${S.hits} `:" "]})]}),j&&i.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[i.jsx("span",{className:"text-stone-500 font-bold uppercase tracking-tighter",children:":"}),i.jsxs("span",{className:j.color,children:["+",c.attributes[j.attr.toLowerCase()]*2.5,"  ( ",j.attr,")"]})]})]})]})]}),!z&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsxs("div",{className:"bg-black/80 px-4 py-2 rounded-lg border border-stone-800 text-stone-500 text-[10px] font-bold uppercase tracking-[0.3em]",children:["LOCKED AT LV.",S.unlockLevel]})})]},S.name)};return zt.createPortal(i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in",onClick:f,children:i.jsxs("div",{className:"w-full max-w-2xl bg-stone-950 border border-stone-600 rounded-2xl shadow-2xl flex flex-col h-[80vh] overflow-hidden relative animate-scale-in",onClick:S=>S.stopPropagation(),children:[i.jsxs("div",{className:"bg-stone-900 p-4 md:p-5 border-b border-stone-800 flex justify-between items-center shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xl text-amber-500",children:""}),i.jsx("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em]",children:""})]}),i.jsx("button",{onClick:f,className:"text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]}),i.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-hide space-y-4 flex-1 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')]",children:[i.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(S=>v(S))}),i.jsx("div",{className:"mt-8 p-4 bg-stone-900/40 rounded-lg border border-stone-800 border-dashed text-center",children:i.jsx("p",{className:"text-[10px] text-stone-500 italic",children:"  (Mastery)  v4.3.4 "})})]})]})}),document.body)},_b=c=>{switch(c){case"":return"text-red-500 border-red-600 bg-red-950/40 shadow-[0_0_20px_rgba(220,38,38,0.4)]";case"":return"text-amber-400 border-amber-600 bg-amber-900/30 shadow-[0_0_15px_rgba(245,158,11,0.3)]";case"":return"text-purple-400 border-purple-600 bg-purple-900/20 shadow-[0_0_10px_rgba(168,85,247,0.2)]";case"":return"text-blue-400 border-blue-600 bg-blue-900/20";default:return"text-stone-400 border-stone-700 bg-stone-800/30"}},Tb={:"#ef4444",:"#fbbf24",:"#a855f7",:"#3b82f6",:"#78716c"},M0={:5,:4,:3,:2,:1},Ab=c=>{switch(c.slot){case D.HEAD:return"";case D.BODY:return"";case D.LEGS:return"";case D.HANDS:return"";case D.FEET:return"";case D.BACK:return"";case D.ACCESSORY:case D.ACCESSORY_2:return"";case D.OFF_HAND:return c.weaponType===ae.CATALYST?"":c.weaponType===ae.SWORD_1H?"":c.weaponType===ae.DAGGER?"":"";case D.MAIN_HAND:return c.weaponType===ae.BOW?"":c.weaponType===ae.CROSSBOW?"":c.weaponType===ae.STAFF_1H?"":c.weaponType===ae.STAFF_2H?"":c.weaponType===ae.AXE_1H?"":c.weaponType===ae.AXE_2H?"":c.weaponType===ae.DAGGER?"":c.weaponType===ae.SWORD_2H?"":c.weaponType===ae.SWORD_1H?"":"";default:return""}},Eb=({items:c,onClose:f,onPullAgain:d,pullCount:r,canAfford:m})=>{const[v,S]=C.useState("chest"),{showTooltip:z,hideTooltip:N}=wi(),p=C.useMemo(()=>c.reduce((G,Q)=>{const ee=M0[G]||0;return(M0[Q.rarity]||0)>ee?Q.rarity:G},""),[c]),j=Tb[p];C.useEffect(()=>{if(v==="chest"){const G=setTimeout(()=>S("reveal"),1800);return()=>clearTimeout(G)}},[v]);const _=()=>{S("chest"),d()};return zt.createPortal(i.jsxs("div",{className:"fixed inset-0 z-[300] bg-black/95 flex flex-col items-center justify-center animate-fade-in px-4",onClick:G=>G.stopPropagation(),children:[i.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[200vw] h-[200vw] animate-gacha-rays opacity-20",style:{background:`conic-gradient(from 0deg, transparent 0deg, ${j}22 20deg, transparent 40deg)`}})}),v==="chest"&&i.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[0,72,144,216,288].map((G,Q)=>i.jsx("div",{className:"absolute h-[2px] animate-gacha-ray-burst rounded-full",style:{"--rotation":`${G}deg`,backgroundColor:j,boxShadow:`0 0 40px ${j}`,animationDelay:`${Q*100}ms`}},Q))}),i.jsx("div",{className:"text-[100px] md:text-[150px] animate-gacha-shake drop-shadow-[0_0_50px_rgba(0,0,0,0.8)] relative z-20",children:""})]}),v==="reveal"&&i.jsxs("div",{className:"relative z-10 w-full max-w-5xl flex flex-col items-center h-full justify-center py-8",children:[i.jsx("h2",{className:"text-xl md:text-3xl font-bold text-stone-200 mb-6 md:mb-10 drop-shadow-lg",children:""}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 md:gap-4 w-full overflow-y-auto max-h-[60vh] md:max-h-none scrollbar-hide px-2",children:c.map((G,Q)=>i.jsxs("div",{className:`relative group w-full aspect-[4/5] flex flex-col items-center justify-center bg-stone-900 border-2 rounded-xl shadow-2xl transition-transform hover:scale-105 cursor-help opacity-0 animate-item-pop ${_b(G.rarity)}`,style:{animationDelay:`${Q*80}ms`},onMouseEnter:ee=>z(G,ee.clientX,ee.clientY),onMouseLeave:N,children:[i.jsx("span",{className:"text-3xl md:text-5xl mb-2 drop-shadow-md",children:Ab(G)}),i.jsxs("div",{className:"text-center px-2",children:[i.jsx("div",{className:"text-[8px] md:text-[10px] uppercase font-bold tracking-wider opacity-70",children:G.rarity}),i.jsx("div",{className:"text-[10px] md:text-xs font-bold leading-tight line-clamp-2",children:G.name})]})]},G.id))}),i.jsxs("div",{className:"mt-8 md:mt-12 flex flex-wrap justify-center gap-4",children:[i.jsx("button",{onClick:f,className:"px-10 md:px-16 py-3 bg-stone-800 hover:bg-stone-700 border border-stone-600 rounded-full text-base md:text-xl font-bold text-stone-200 transition-all hover:scale-105 active:scale-95 shadow-[0_0_20px_rgba(0,0,0,0.5)]",children:""}),i.jsxs("button",{onClick:_,disabled:!m,className:`px-10 md:px-16 py-3 border rounded-full text-base md:text-xl font-bold transition-all hover:scale-105 active:scale-95 shadow-[0_0_20px_rgba(0,0,0,0.5)] 
                                ${m?"bg-amber-700 hover:bg-amber-600 border-amber-500 text-white":"bg-stone-900 border-stone-800 text-stone-600 opacity-50 cursor-not-allowed"}`,children:[" ",r===10?"10 ":"1 "]})]})]})]}),document.body)},wb=({player:c,onBuyItem:f,onClose:d})=>{const r=C.useMemo(()=>L0(c.towerFloor),[c.towerFloor]),[m,v]=C.useState(null),[S,z]=C.useState(null),[N,p]=C.useState(1),j=(K,P)=>{const se=f(K.id,P);K.type==="gacha_box"&&se.length>0&&(v(se),z(K.id),p(P))},_=()=>{if(S){const K=f(S,N);K.length>0&&v(K)}},G=C.useMemo(()=>{if(!S)return!1;const K=r.find(P=>P.id===S);return K?c.gold>=K.price*N:!1},[c.gold,S,N,r]),Q=K=>K==="potion_small"?c.consumables.healthPotion.count:Object.prototype.hasOwnProperty.call(c.consumables.inventory,K)?c.consumables.inventory[K]:null,ee=(K,P)=>K?P?"bg-amber-900/30 border-amber-700/50 text-amber-100 hover:bg-amber-800/40 hover:border-amber-500 shadow-[0_0_10px_rgba(251,191,36,0.1)]":"bg-stone-800 border-stone-700 text-stone-200 hover:bg-stone-700 hover:text-white":"bg-stone-950 border-stone-900 text-stone-700 cursor-not-allowed opacity-50";return zt.createPortal(i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/85 backdrop-blur-sm p-4 animate-fade-in",onClick:d,children:i.jsxs("div",{className:"w-full max-w-4xl bg-stone-950 border border-stone-600 rounded-2xl shadow-2xl flex flex-col h-fit max-h-[90dvh] overflow-hidden relative animate-scale-in",onClick:K=>K.stopPropagation(),children:[i.jsxs("div",{className:"bg-stone-900 p-4 md:p-5 border-b border-stone-800 flex justify-between items-center shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xl text-amber-500",children:""}),i.jsx("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em]",children:""})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-1.5 bg-black/40 px-3 py-1 rounded border border-stone-800",children:[i.jsx("span",{className:"text-amber-500",children:""}),i.jsx("span",{className:"text-amber-100 font-bold",children:c.gold.toLocaleString()})]}),i.jsx("button",{onClick:d,className:"text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]})]}),i.jsx("div",{className:"p-4 md:p-6 overflow-y-auto scrollbar-hide bg-stone-950 flex-1 min-h-0 relative",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 pb-4",children:r.map(K=>{const P=K.type==="gacha_box",se=Q(K.id),V=c.gold>=K.price,F=c.gold>=K.price*10;return i.jsxs("div",{className:`relative flex flex-col p-4 rounded-xl border transition-all duration-300 group
                                        ${P?"bg-stone-900/40 border-amber-900/30 hover:border-amber-500/60 shadow-lg":"bg-stone-900/20 border-stone-800 hover:border-stone-600"}`,children:[i.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[i.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center text-3xl shadow-inner border border-white/5 shrink-0
                                            ${P?"bg-amber-950/20":"bg-black/20"}`,children:K.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h3",{className:`font-bold text-sm md:text-base truncate ${P?"text-amber-200":"text-stone-200"}`,children:K.name}),se!==null&&i.jsxs("span",{className:"text-[9px] font-bold text-stone-500 bg-stone-800/50 px-1.5 py-0.5 rounded border border-stone-700/50",children:[": ",se]})]}),i.jsx("div",{className:"text-[10px] font-mono text-stone-400 bg-black/40 inline-block px-1.5 py-0.5 rounded-md mt-1 border border-stone-800",children:K.effectDisplay})]})]}),i.jsx("p",{className:"text-stone-500 text-xs italic mb-4 leading-relaxed flex-1",children:K.description}),i.jsxs("div",{className:"mt-auto flex flex-col gap-2",children:[i.jsxs("button",{onClick:()=>j(K,1),disabled:!V,className:`w-full py-2.5 px-3 rounded-lg flex items-center justify-between text-xs font-bold border transition-all active:scale-95 ${ee(V,P)}`,children:[i.jsx("div",{className:"flex items-center gap-1",children:i.jsx("span",{children:"  1x"})}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-amber-500",children:""}),i.jsx("span",{className:V?"text-amber-400 font-mono":"",children:K.price.toLocaleString()})]})]}),i.jsxs("button",{onClick:()=>j(K,10),disabled:!F,className:`w-full py-2.5 px-3 rounded-lg flex items-center justify-between text-xs font-bold border transition-all active:scale-95 ${ee(F,P)}`,children:[i.jsx("span",{children:P?" 10 ":"  10x"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-amber-500",children:""}),i.jsx("span",{className:F?"text-amber-400 font-mono":"",children:(K.price*10).toLocaleString()})]})]})]})]},K.id)})})}),i.jsxs("div",{className:"bg-stone-900/80 p-3 border-t border-stone-800 text-center flex items-center justify-center gap-4 text-[10px] text-stone-500 font-mono shrink-0",children:[i.jsxs("span",{className:"opacity-70",children:[": ",i.jsxs("span",{className:"text-amber-600/80",children:["+",((Math.pow(1.1,Math.max(1,c.towerFloor)-1)-1)*100).toFixed(0),"%"]})]}),i.jsx("span",{className:"w-1 h-1 rounded-full bg-stone-700"}),i.jsxs("span",{className:"opacity-70",children:[": ",i.jsxs("span",{className:"text-stone-400",children:[c.towerFloor,"F"]})]})]})]})}),m&&i.jsx(Eb,{items:m,onClose:()=>v(null),onPullAgain:_,pullCount:N,canAfford:G})]}),document.body)},Mb={[be.PLAINS]:"",[be.FOREST]:"",[be.DESERT]:"",[be.CAVE]:"",[be.TOWER]:""},Cb={[D.HEAD]:"",[D.BODY]:"",[D.LEGS]:"",[D.HANDS]:"",[D.FEET]:"",[D.BACK]:"",[D.MAIN_HAND]:"",[D.OFF_HAND]:"",[D.ACCESSORY]:"",[D.ACCESSORY_2]:""},tn=[be.PLAINS,be.FOREST,be.DESERT,be.CAVE,be.TOWER],Ob=({player:c,activeLocation:f,onSelect:d,onClose:r})=>{const m=f?tn.indexOf(f):0,[v,S]=C.useState(m>=0?m:0),[z,N]=C.useState(null),p=tn[v],j=ns[p],_=c.level<j.recommendedLevel,G=p===be.TOWER,Q=()=>{v<tn.length-1&&(N("right"),S(P=>P+1))},ee=()=>{v>0&&(N("left"),S(P=>P-1))},K=()=>{_||d(p)};return C.useEffect(()=>{const P=setTimeout(()=>N(null),300);return()=>clearTimeout(P)},[v]),zt.createPortal(i.jsx("div",{className:"fixed inset-0 z-[150] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",onClick:r,children:i.jsxs("div",{className:"w-full max-w-xl flex flex-col items-center relative",onClick:P=>P.stopPropagation(),children:[i.jsxs("h2",{className:"text-3xl font-fantasy text-stone-200 mb-8 flex items-center gap-3 drop-shadow-lg",children:[i.jsx("span",{className:"text-amber-500",children:""}),""]}),i.jsxs("div",{className:"flex items-center justify-between w-full gap-4",children:[i.jsx("button",{onClick:ee,disabled:v===0,className:`p-4 rounded-full border transition-all duration-200 text-2xl
                            ${v===0?"border-stone-800 text-stone-700 opacity-30 cursor-not-allowed":"bg-stone-900 border-stone-600 text-stone-400 hover:text-amber-400 hover:border-amber-500 hover:scale-110 shadow-lg"}`,children:""}),i.jsxs("div",{className:`relative w-full max-w-sm aspect-[3/4] md:aspect-[4/3] rounded-2xl border-2 transition-all duration-300 flex flex-col overflow-hidden shadow-[0_0_30px_rgba(0,0,0,0.5)] group
                            ${z==="right"?"animate-slide-in-right":z==="left"?"animate-slide-in-left":""}
                            ${G?"bg-gradient-to-br from-red-950 to-stone-950 border-red-800 shadow-[0_0_30px_rgba(220,38,38,0.15)]":"bg-gradient-to-br from-stone-900 to-stone-950 border-stone-700"}`,children:[i.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')]"}),G&&i.jsx("div",{className:"absolute inset-0 bg-red-900/10 animate-pulse pointer-events-none"}),i.jsxs("div",{className:"p-4 flex justify-between items-start z-10",children:[i.jsx("div",{className:`px-3 py-1 rounded text-xs font-bold font-mono border
                                ${_?"bg-stone-950 text-stone-500 border-stone-800":G?"bg-red-900/40 text-red-400 border-red-800":"bg-green-900/20 text-green-400 border-green-800"}`,children:_?`  Lv.${j.recommendedLevel}`:` Lv.${j.recommendedLevel}`}),f===p&&i.jsx("div",{className:"px-3 py-1 rounded text-xs font-bold bg-amber-600 text-white shadow-lg animate-pulse",children:""})]}),i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center z-10 -mt-8",children:[i.jsx("div",{className:`text-8xl md:text-9xl mb-4 transition-transform duration-500 group-hover:scale-110 drop-shadow-2xl grayscale-0
                                ${_?"grayscale opacity-30 blur-sm":""}`,children:Mb[p]}),i.jsx("h3",{className:`text-3xl font-fantasy font-bold tracking-widest uppercase text-center
                                ${G?"text-red-500 drop-shadow-[0_0_10px_rgba(220,38,38,0.5)]":"text-stone-200"}`,children:j.name})]}),i.jsxs("div",{className:"bg-black/80 backdrop-blur-md p-4 border-t border-white/10 z-10 flex flex-col items-center gap-1.5 text-center",children:[i.jsx("p",{className:"text-stone-300 font-serif italic text-sm leading-snug",children:j.description}),i.jsx("div",{className:"text-xs w-full border-t border-white/5 pt-1.5 mt-0.5",children:G?i.jsx("span",{className:"text-red-400 font-bold tracking-wider animate-pulse",children:"   "}):i.jsxs("span",{className:"text-stone-500 font-mono text-[10px] md:text-xs",children:[": ",i.jsx("span",{className:"text-amber-500 font-bold ml-1",children:j.dropSlots.map(P=>Cb[P]).join("")})]})})]}),_&&i.jsxs("div",{className:"absolute inset-0 z-20 bg-black/60 backdrop-blur-[2px] flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-6xl mb-2",children:""}),i.jsx("span",{className:"text-stone-400 font-bold tracking-widest uppercase",children:"Locked"})]})]}),i.jsx("button",{onClick:Q,disabled:v===tn.length-1,className:`p-4 rounded-full border transition-all duration-200 text-2xl
                            ${v===tn.length-1?"border-stone-800 text-stone-700 opacity-30 cursor-not-allowed":"bg-stone-900 border-stone-600 text-stone-400 hover:text-amber-400 hover:border-amber-500 hover:scale-110 shadow-lg"}`,children:""})]}),i.jsx("button",{onClick:K,disabled:_||f===p,className:`mt-8 px-12 py-4 rounded-lg font-bold text-lg tracking-[0.2em] uppercase transition-all shadow-xl
                        ${_?"bg-stone-900 text-stone-600 border border-stone-800 cursor-not-allowed":f===p?"bg-stone-800 text-stone-500 border border-stone-700 cursor-default":G?"bg-red-900 border border-red-700 text-red-100 hover:bg-red-800 hover:scale-105 hover:shadow-[0_0_20px_rgba(220,38,38,0.4)]":"bg-amber-700 border border-amber-600 text-amber-100 hover:bg-amber-600 hover:scale-105 hover:shadow-[0_0_20px_rgba(245,158,11,0.3)]"}`,children:f===p?"":""}),i.jsx("div",{className:"flex gap-2 mt-6",children:tn.map((P,se)=>i.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300
                                ${se===v?G?"bg-red-500 w-4":"bg-amber-500 w-4":"bg-stone-800"}`},se))})]})}),document.body)},kb={[oe.KNIGHT]:"text-blue-400",[oe.WARRIOR]:"text-red-400",[oe.ROGUE]:"text-stone-400",[oe.ARCHER]:"text-emerald-400",[oe.MAGE]:"text-purple-400",[oe.BEATER]:"text-indigo-400",[oe.KAYABA]:"text-white"},Rb={:"border-stone-800 text-stone-400",:"border-blue-800 text-blue-400 shadow-[0_0_10px_rgba(59,130,246,0.2)]",:"border-purple-800 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.2)]",:"border-amber-700 text-amber-400 shadow-[0_0_15px_rgba(251,191,36,0.3)]",:"border-red-700 text-red-500 shadow-[0_0_20px_rgba(239,68,68,0.4)] animate-pulse-slow"},Db=({legacy:c,onClaim:f,onSelectTitle:d,onClose:r})=>zt.createPortal(i.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in",onClick:r,children:i.jsxs("div",{className:"w-full max-w-4xl bg-stone-950/80 border border-stone-800 rounded-2xl shadow-2xl flex flex-col h-[85vh] overflow-hidden relative animate-scale-in",onClick:m=>m.stopPropagation(),children:[i.jsxs("div",{className:"bg-stone-900/50 p-6 border-b border-stone-800 flex justify-between items-center shrink-0",children:[i.jsx("div",{children:i.jsxs("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em] flex items-center gap-3",children:[i.jsx("span",{className:"text-xl",children:""})," "]})}),i.jsx("button",{onClick:r,className:"text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]}),i.jsx("div",{className:"p-6 overflow-y-auto scrollbar-hide flex-1 bg-stone-950/20 space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:as.map(m=>{const v=c.achievements[m.id],S=!!(v!=null&&v.unlockedAt),z=!!(v!=null&&v.claimed),N=c.selectedTitleId===m.id,p=m.targetClass?kb[m.targetClass]:"text-amber-500",j=Rb[m.rarity];return i.jsxs("div",{className:`p-4 rounded-xl border flex gap-4 transition-all duration-300 relative overflow-hidden
                    ${S?`bg-stone-900/60 ${j.split(" ")[0]} ${N?"ring-2 ring-white/20":""}`:"bg-stone-900/20 border-stone-800 opacity-40"}`,children:[i.jsx("div",{className:`w-14 h-14 md:w-16 md:h-16 rounded-xl border flex items-center justify-center text-3xl shrink-0
                    ${S?`bg-black/40 ${p}`:"bg-stone-950 border-stone-800 text-stone-700"}`,children:m.rarity===""?"":m.rarity===""?"":m.type==="class_level"?"":""}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h3",{className:`font-bold text-sm md:text-base truncate ${S?"text-stone-100":"text-stone-600"}`,children:m.title}),i.jsxs("span",{className:`text-[8px] font-black uppercase tracking-widest ${j.split(" ")[1]}`,children:["[",m.rarity,"]"]})]}),i.jsxs("div",{className:"flex gap-2",children:[S&&!z&&i.jsx("button",{onClick:()=>f(m.id),className:"px-3 py-1 bg-amber-600 hover:bg-amber-500 text-white text-[10px] font-black uppercase rounded-lg shadow-lg active:scale-95 transition-all",children:""}),S&&i.jsx("button",{onClick:()=>d(N?null:m.id),className:`px-3 py-1 text-[10px] font-black uppercase rounded-lg shadow-lg active:scale-95 transition-all
                                    ${N?"bg-stone-700 text-stone-300 hover:bg-stone-600":"bg-blue-600 text-white hover:bg-blue-500"}`,children:N?"":""})]})]}),i.jsx("p",{className:`text-[10px] md:text-xs leading-relaxed ${S?"text-stone-400":"text-stone-700"}`,children:m.description})]}),z&&i.jsx("div",{className:"absolute bottom-2 right-2 opacity-30 text-green-500 text-[8px] font-black uppercase",children:"Reward Claimed"})]},m.id)})})})]})}),document.body),zb={[be.PLAINS]:"",[be.FOREST]:"",[be.DESERT]:"",[be.CAVE]:"",[be.TOWER]:""},Hb=({floor:c,onConfirm:f,onCancel:d,onToggleSkip:r,skipVal:m})=>zt.createPortal(i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in",onClick:d,children:i.jsxs("div",{className:"w-full max-w-md bg-stone-950 border-2 border-red-900 rounded-xl shadow-[0_0_50px_rgba(127,29,29,0.4)] p-8 text-center animate-shake",onClick:v=>v.stopPropagation(),children:[i.jsx("div",{className:"text-6xl mb-6 filter drop-shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:""}),i.jsx("h3",{className:"text-3xl font-fantasy font-black text-red-600 mb-2 tracking-[0.2em] uppercase",children:"WARNING"}),i.jsx("div",{className:"h-px w-16 bg-red-900 mx-auto mb-6"}),i.jsxs("p",{className:"text-stone-300 text-sm mb-2 leading-relaxed",children:[" ",i.jsx("span",{className:"text-red-500 font-bold text-xl",children:c})," "]}),i.jsx("p",{className:"text-stone-500 text-xs mb-8 italic",children:"..."}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("button",{onClick:f,className:"w-full py-4 bg-red-950 border border-red-700 text-red-100 rounded-lg font-black uppercase tracking-[0.3em] hover:bg-red-900 transition-all shadow-lg active:scale-95",children:" (ENTER)"}),i.jsx("button",{onClick:d,className:"w-full py-3 bg-transparent text-stone-500 hover:text-stone-300 transition-colors uppercase font-bold tracking-widest text-[10px]",children:" (RETREAT)"}),i.jsxs("label",{className:"flex items-center justify-center gap-2 cursor-pointer mt-2 group",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:v=>r(v.target.checked),className:"w-3 h-3 bg-stone-900 border-stone-700 rounded focus:ring-red-900 text-red-600"}),i.jsx("span",{className:"text-[10px] text-stone-600 group-hover:text-stone-400 transition-colors uppercase tracking-widest font-bold",children:""})]})]})]})}),document.body),Bb=({onClose:c})=>zt.createPortal(i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/85 backdrop-blur-sm p-4 animate-fade-in",onClick:c,children:i.jsxs("div",{className:"w-full max-w-2xl bg-stone-950 border border-stone-700 rounded-xl shadow-2xl relative flex flex-col max-h-[85vh] animate-scale-in",onClick:f=>f.stopPropagation(),children:[i.jsxs("div",{className:"p-4 border-b border-stone-800 flex justify-between items-center bg-stone-900/50 rounded-t-xl",children:[i.jsxs("h3",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em] flex items-center gap-3",children:[i.jsx("span",{className:"text-xl text-amber-500",children:""}),""]}),i.jsx("button",{onClick:c,className:"text-stone-500 hover:text-white transition-colors p-1",children:""})]}),i.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-hide space-y-8 font-sans",children:[i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-1 h-4 bg-amber-500 rounded-full"}),i.jsx("h4",{className:"text-stone-200 font-bold text-lg uppercase tracking-wider",children:""})]}),i.jsx("p",{className:"text-stone-400 text-sm leading-relaxed italic",children:" 100 "})]}),i.jsxs("section",{className:"bg-stone-900/40 p-4 rounded-lg border border-stone-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"w-1 h-4 bg-red-500 rounded-full"}),i.jsx("h4",{className:"text-stone-200 font-bold text-lg uppercase tracking-wider",children:""})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-amber-500 font-bold",children:"  (Mastery Bonus)"}),i.jsx("p",{className:"text-stone-400 pl-4",children:"  2.5"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-amber-500 font-bold",children:" "}),i.jsxs("p",{className:"text-stone-400 pl-4",children:["",i.jsx("code",{className:"text-blue-400",children:"85% + ( - )%"})," AGI "]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-amber-500 font-bold",children:"  (Luck)"}),i.jsx("p",{className:"text-stone-400 pl-4",children:" LUK "})]})]})]}),i.jsxs("section",{className:"bg-amber-900/10 p-4 rounded-lg border border-amber-800/30",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-1 h-4 bg-amber-500 rounded-full"}),i.jsx("h4",{className:"text-stone-200 font-bold text-lg uppercase tracking-wider",children:""})]}),i.jsx("p",{className:"text-stone-400 text-xs mb-3 font-bold uppercase tracking-widest text-amber-200/50",children:"Death is just a new beginning"}),i.jsxs("ul",{className:"space-y-3 text-sm text-stone-400",children:[i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"text-amber-500 shrink-0",children:""}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-amber-200",children:""}),"  = ",i.jsx("code",{className:"text-amber-400",children:"x20 + x10 + /500"}),""]})]}),i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"text-amber-500 shrink-0",children:""}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-amber-200",children:""})," "]})]})]})]}),i.jsxs("section",{className:"bg-stone-900/30 p-4 rounded-lg border border-stone-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-1 h-4 bg-blue-500 rounded-full"}),i.jsx("h4",{className:"text-stone-200 font-bold text-lg uppercase tracking-wider",children:""})]}),i.jsxs("div",{className:"space-y-4 text-sm text-stone-400",children:[i.jsxs("p",{children:[" ",i.jsx("strong",{className:"text-stone-200",children:""}),"  ",i.jsx("code",{className:"text-amber-500",children:"1.10^n"})," "]}),i.jsxs("p",{children:[" ",i.jsx("strong",{className:"text-stone-200",children:""})," "]})]})]}),i.jsxs("section",{className:"border-t border-stone-800 pt-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-1 h-4 bg-red-600 rounded-full"}),i.jsx("h4",{className:"text-red-500 font-bold text-lg uppercase tracking-wider",children:""})]}),i.jsxs("div",{className:"p-4 bg-red-950/20 border border-red-900/50 rounded-lg",children:[i.jsx("p",{className:"text-red-400 text-sm font-bold animate-pulse mb-2",children:"  (Hardcore)"}),i.jsx("p",{className:"text-stone-400 text-xs leading-relaxed",children:" HP "})]})]})]}),i.jsx("div",{className:"p-4 border-t border-stone-800 bg-stone-900/30 flex justify-center shrink-0",children:i.jsx("button",{onClick:c,className:"px-12 py-3 bg-stone-800 hover:bg-stone-700 text-stone-200 font-bold rounded-lg border border-stone-600 transition-all uppercase tracking-widest text-xs",children:""})})]})}),document.body),Ub=({player:c,gameState:f,activeLocation:d,onChangeLocation:r,onReturnHome:m,onBuyItem:v,isAutoBattling:S,onToggleSkipBossWarning:z,onStartWork:N,onClaimWorkReward:p,onCancelWork:j,onOpenInventory:_,onOpenSkills:G,onOpenStats:Q,onOpenLegacy:ee,legacy:K,onClaimAchievement:P,onSelectTitle:se})=>{var te;const V=f==="COMBAT"||S,F=!!c.workStatus,[ce,he]=C.useState(!1),[H,w]=C.useState(!1),[Y,Z]=C.useState(!1),[ie,O]=C.useState(!1),[W,I]=C.useState(!1),[ne,le]=C.useState(!1),[h,B]=C.useState(!1),[J,re]=C.useState(null);C.useEffect(()=>{const L=()=>{if(!c.lastRestTime){re(null);return}const de=Date.now()-c.lastRestTime;if(de<Ei.REST_COOLDOWN_MS){const Se=Math.ceil((Ei.REST_COOLDOWN_MS-de)/1e3),Me=Math.floor(Se/60),We=Se%60;re(`${Me}m ${We}s`)}else re(null)};L();const k=setInterval(L,1e3);return()=>clearInterval(k)},[c.lastRestTime]);const me=L=>{L===be.TOWER?c.skipBossWarning?(r(be.TOWER),Z(!1)):(O(!0),Z(!1)):(r(L),Z(!1))},b=()=>{V||F||J||I(!0)},M=Object.values(K.achievements||{}).some(L=>L.unlockedAt&&!L.claimed),$=()=>i.jsxs("div",{className:`fixed z-50 pointer-events-auto flex p-1.5 md:p-2 bg-black/60 backdrop-blur-md rounded-xl border border-stone-800/50 shadow-2xl scale-95 md:scale-100 origin-bottom
          md:right-4 md:bottom-4 md:left-auto md:translate-x-0 md:flex-row md:items-end md:gap-1.5
          bottom-32 left-1/2 -translate-x-1/2 flex-row items-center gap-1
      `,children:[i.jsxs("button",{onClick:Q,className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg relative",children:[i.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),i.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""}),c.statPoints>0&&i.jsx("div",{className:"absolute top-1 right-1 w-1.5 h-1.5 md:w-2 md:h-2 bg-red-600 rounded-full shadow-sm"})]}),i.jsxs("button",{onClick:_,className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg",children:[i.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),i.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""})]}),i.jsxs("button",{onClick:G,className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg",children:[i.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),i.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""})]}),i.jsxs("button",{onClick:()=>B(!0),className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg relative",children:[i.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),i.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""}),M&&i.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-amber-500 rounded-full shadow-[0_0_5px_#fbbf24] animate-pulse"})]}),i.jsxs("button",{onClick:()=>le(!0),className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-blue-500 transition-all active:scale-95 shadow-lg",children:[i.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),i.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-blue-100 uppercase tracking-wide hidden md:block",children:""})]}),i.jsx("div",{className:"w-px h-6 md:h-10 bg-stone-700/50 mx-0.5 self-center"}),i.jsxs("button",{onClick:()=>Z(!0),disabled:V||F,className:`group w-9 h-9 md:w-16 md:h-16 rounded-lg border flex flex-col items-center justify-center gap-0 md:gap-0.5 transition-all active:scale-95 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed
                ${V||F?"bg-stone-950 border-stone-800 text-stone-700":"bg-stone-900/80 border-stone-700 hover:bg-stone-800 hover:border-amber-500"}`,children:[i.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:d?zb[d]:""}),i.jsx("span",{className:"text-[8px] md:text-[9px] font-bold uppercase tracking-wide hidden md:block text-stone-500 group-hover:text-amber-100",children:""})]}),i.jsxs("button",{onClick:b,disabled:V||F||!!J,className:`group w-9 h-9 md:w-16 md:h-16 rounded-lg border flex flex-col items-center justify-center gap-0 md:gap-0.5 transition-all active:scale-95 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed
                 ${J?"bg-stone-950 border-stone-800 text-stone-600":"bg-stone-900/80 border-stone-700 hover:bg-stone-800 hover:border-stone-500"}`,children:[i.jsx("span",{className:`text-lg md:text-2xl transition-transform ${!J&&"group-hover:scale-110"}`,children:J?"":""}),i.jsx("span",{className:`text-[8px] md:text-[9px] font-bold uppercase tracking-wide hidden md:block ${J?"text-stone-600":"text-stone-500"}`,children:J||""})]}),i.jsxs("button",{onClick:()=>w(!0),disabled:V,className:`group w-9 h-9 md:w-16 md:h-16 rounded-lg border flex flex-col items-center justify-center gap-0 md:gap-0.5 transition-all active:scale-95 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed
                ${F?"bg-amber-900/20 border-amber-500/50 text-amber-500 animate-pulse-slow":"bg-stone-900/80 border-stone-700 hover:bg-stone-800 hover:border-amber-500"}`,children:[i.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:F?"":""}),i.jsx("span",{className:`text-[8px] md:text-[9px] font-bold uppercase tracking-wide hidden md:block ${F?"text-amber-500":"text-stone-500 group-hover:text-amber-100"}`,children:""})]}),i.jsxs("button",{onClick:()=>he(!0),disabled:V,className:"group w-9 h-9 md:w-16 md:h-16 rounded-lg bg-stone-900/80 border border-stone-700 flex flex-col items-center justify-center gap-0 md:gap-0.5 hover:bg-stone-800 hover:border-amber-500 transition-all active:scale-95 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("span",{className:"text-lg md:text-2xl group-hover:scale-110 transition-transform",children:""}),i.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-stone-500 group-hover:text-amber-100 uppercase tracking-wide hidden md:block",children:""})]})]});return i.jsxs(i.Fragment,{children:[$(),Y&&i.jsx(Ob,{player:c,activeLocation:d,onSelect:me,onClose:()=>Z(!1)}),ce&&i.jsx(wb,{player:c,onBuyItem:v,onClose:()=>he(!1)}),h&&i.jsx(Db,{legacy:K,onClaim:P,onSelectTitle:se,onClose:()=>B(!1)}),ie&&i.jsx(Hb,{floor:c.towerFloor,skipVal:c.skipBossWarning,onToggleSkip:z,onConfirm:()=>{r(be.TOWER),O(!1)},onCancel:()=>O(!1)}),W&&zt.createPortal(i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in",onClick:()=>I(!1),children:i.jsxs("div",{className:"w-full max-w-md bg-stone-950 border border-stone-700 rounded-xl shadow-2xl p-6 text-center animate-scale-in",onClick:L=>L.stopPropagation(),children:[i.jsx("div",{className:"text-5xl mb-4",children:""}),i.jsx("h3",{className:"text-xl font-fantasy font-bold text-stone-200 mb-2 tracking-widest uppercase",children:""}),i.jsxs("p",{className:"text-stone-400 text-sm mb-6 leading-relaxed",children:["",i.jsx("br",{}),""]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>I(!1),className:"flex-1 py-3 bg-stone-900 border border-stone-800 text-stone-500 rounded-lg hover:text-stone-300 transition-colors uppercase font-bold tracking-widest text-xs",children:""}),i.jsx("button",{onClick:()=>{m(),I(!1)},className:"flex-1 py-3 bg-amber-600 border border-amber-500 text-white rounded-lg hover:bg-amber-500 transition-all uppercase font-bold tracking-widest text-xs shadow-lg",children:""})]})]})}),document.body),H&&zt.createPortal(i.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4 animate-fade-in",onClick:()=>w(!1),children:i.jsxs("div",{className:"w-full max-w-md bg-stone-950 border border-stone-600 rounded-xl shadow-2xl flex flex-col overflow-hidden relative animate-scale-in",onClick:L=>L.stopPropagation(),children:[i.jsxs("div",{className:"bg-stone-900 p-4 border-b border-stone-800 flex justify-between items-center shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xl text-amber-500",children:""}),i.jsx("h2",{className:"font-fantasy font-bold text-stone-200 text-xl uppercase tracking-[0.2em]",children:""})]}),i.jsx("button",{onClick:()=>w(!1),className:"text-stone-500 hover:text-white transition-colors text-xl px-2",children:""})]}),i.jsx("div",{className:"p-6",children:F?i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx("div",{className:"w-24 h-24 bg-stone-900 rounded-full border-4 border-amber-900/50 flex items-center justify-center text-5xl mb-6 animate-pulse shadow-[0_0_30px_rgba(245,158,11,0.15)]",children:""}),i.jsx("h3",{className:"text-2xl font-bold text-stone-200 mb-1",children:(te=c.workStatus)==null?void 0:te.jobName}),i.jsx("p",{className:"text-xs text-stone-500 mb-8 uppercase tracking-widest font-black",children:"Commission in Progress"}),i.jsx("div",{className:"w-full bg-stone-900 rounded-full h-5 mb-3 border border-stone-800 overflow-hidden relative shadow-inner",children:i.jsx("div",{className:"absolute inset-0 bg-stone-800/20 flex items-center justify-center z-10",children:i.jsx("span",{className:"text-[10px] font-mono text-white/50 font-bold",children:""})})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full mt-4",children:[i.jsx("button",{onClick:()=>{p==null||p(),w(!1)},className:"py-4 bg-amber-600 border border-amber-400 text-white rounded-lg font-black transition-all uppercase tracking-widest shadow-lg hover:bg-amber-500",children:""}),i.jsx("button",{onClick:()=>{j==null||j(),w(!1)},className:"py-4 bg-stone-800 border border-stone-700 text-stone-400 rounded-lg hover:bg-red-950/20 hover:border-red-800 hover:text-red-400 transition-colors uppercase font-bold tracking-widest",children:""})]})]}):i.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto scrollbar-hide pr-1",children:tr.map(L=>{const k=U0(L.baseGold,L.baseExp,L.durationMs,c.towerFloor);return i.jsxs("button",{onClick:()=>{N==null||N(L.id),w(!1)},className:"w-full p-4 bg-stone-900/60 border border-stone-800 rounded-xl hover:border-amber-500/50 hover:bg-stone-900 transition-all group relative overflow-hidden flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 bg-stone-950 border border-stone-800 rounded-lg flex items-center justify-center text-3xl group-hover:scale-110 transition-transform",children:L.icon}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("h4",{className:"text-stone-200 font-bold group-hover:text-amber-400 transition-colors",children:L.name}),i.jsx("span",{className:"text-[10px] font-mono text-stone-500",children:L.label})]}),i.jsxs("div",{className:"flex gap-4 mt-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"text-amber-500 text-xs",children:""}),i.jsx("span",{className:"text-amber-400 font-mono font-bold text-sm",children:k.gold.toLocaleString()})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"text-blue-400 text-[10px] font-black mr-0.5",children:"EXP"}),i.jsx("span",{className:"text-blue-300 font-mono font-bold text-sm",children:k.exp.toLocaleString()})]})]})]}),i.jsx("div",{className:"absolute inset-0 bg-amber-500/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]},L.id)})})})]})}),document.body),ne&&i.jsx(Bb,{onClose:()=>le(!1)})]})},Lb=C.memo(Ub),Gb=({legacy:c,onUpgrade:f,onClose:d})=>zt.createPortal(i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-2 md:p-4 animate-fade-in",onClick:d,children:i.jsxs("div",{className:"w-full max-w-4xl bg-stone-950 border border-amber-900/50 rounded-2xl shadow-2xl flex flex-col h-[92vh] md:h-[85vh] overflow-hidden relative animate-scale-in",onClick:r=>r.stopPropagation(),children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-10 pointer-events-none"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-amber-900/5 via-transparent to-transparent pointer-events-none"}),i.jsxs("div",{className:"bg-stone-900/80 p-4 md:p-6 border-b border-amber-900/30 flex flex-col md:flex-row justify-between items-center shrink-0 relative z-10 gap-4 md:gap-0",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4 w-full md:w-auto",children:[i.jsx("span",{className:"text-2xl md:text-3xl filter drop-shadow-[0_0_10px_rgba(251,191,36,0.5)]",children:""}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-fantasy font-black text-amber-500 text-lg md:text-2xl uppercase tracking-[0.15em] md:tracking-[0.2em] leading-tight",children:" (Hall of Legacy)"}),i.jsx("p",{className:"text-[8px] md:text-[10px] text-stone-500 uppercase font-bold tracking-[0.1em]",children:""})]}),i.jsx("button",{onClick:d,className:"md:hidden ml-auto text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]}),i.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto md:gap-6 border-t border-stone-800 md:border-none pt-3 md:pt-0",children:[i.jsxs("div",{className:"flex flex-col items-start md:items-end",children:[i.jsx("span",{className:"text-[8px] md:text-[10px] text-stone-500 font-bold uppercase tracking-widest",children:""}),i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[i.jsx("span",{className:"text-amber-500 text-lg md:text-xl animate-pulse",children:""}),i.jsx("span",{className:"text-amber-100 font-mono font-black text-xl md:text-2xl",children:c.soulShards.toLocaleString()})]})]}),i.jsx("button",{onClick:d,className:"hidden md:block text-stone-500 hover:text-white transition-colors text-2xl px-2",children:""})]})]}),i.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto scrollbar-hide flex-1 relative z-10 space-y-4 md:space-y-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:Jl.map(r=>{const m=c.upgrades[r.id]||0,v=m>=r.maxLevel,S=Bx(r.id,m),z=c.soulShards>=S,N=r.effectType==="percent"?`+${(r.effectValue*100*m).toFixed(1)}%`:`+${r.effectValue*m}`;return i.jsxs("div",{className:`p-4 rounded-xl border flex flex-col transition-all duration-300
                                    ${v?"bg-stone-900/20 border-stone-800 opacity-80":"bg-stone-900/40 border-stone-800 hover:border-amber-700/50"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-bold text-stone-200 text-sm md:text-base",children:r.name}),i.jsxs("span",{className:"text-[9px] md:text-[10px] font-mono font-bold text-stone-500 uppercase bg-black/40 px-1.5 md:px-2 py-0.5 rounded border border-stone-800",children:["LV.",m," / ",r.maxLevel]})]}),i.jsx("p",{className:"text-[10px] md:text-xs text-stone-500 mb-3 md:mb-4 h-auto md:h-8 leading-relaxed italic",children:r.description}),i.jsxs("div",{className:"flex items-center justify-between mt-auto bg-black/30 p-2 rounded-lg border border-stone-800/50 mb-3",children:[i.jsx("div",{className:"text-[9px] md:text-[10px] uppercase font-bold text-stone-600 tracking-wider",children:""}),i.jsx("div",{className:"text-xs md:text-sm font-mono font-black text-amber-500/80",children:N})]}),v?i.jsx("div",{className:"w-full py-2.5 bg-stone-950 border border-stone-800 rounded-lg text-center text-stone-700 text-[9px] md:text-[10px] font-bold uppercase tracking-[0.3em]",children:"MAXED OUT"}):i.jsxs("button",{onClick:()=>f(r.id,S),disabled:!z,className:`w-full py-2.5 rounded-lg flex items-center justify-between px-3 md:px-4 transition-all active:scale-95 group
                                            ${z?"bg-amber-700/80 hover:bg-amber-600 border border-amber-500 text-white shadow-lg":"bg-stone-900 border border-stone-800 text-stone-600 cursor-not-allowed"}`,children:[i.jsx("div",{className:"flex flex-col items-start",children:i.jsxs("span",{className:"text-[8px] md:text-[10px] font-bold uppercase tracking-widest opacity-70",children:[" LV.",m+1]})}),i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[i.jsx("span",{className:"text-xs",children:""}),i.jsx("span",{className:"font-mono font-bold text-sm md:text-base",children:S})]})]})]},r.id)})}),i.jsxs("div",{className:"mt-4 md:mt-8 p-4 md:p-6 bg-stone-900/20 border border-stone-800 border-dashed rounded-xl grid grid-cols-2 md:flex items-center justify-around gap-4 md:gap-6 text-center opacity-60",children:[i.jsxs("div",{className:"flex flex-col gap-0.5 md:gap-1",children:[i.jsx("span",{className:"text-[8px] md:text-[10px] text-stone-600 uppercase font-black tracking-widest",children:""}),i.jsx("span",{className:"text-lg md:text-2xl font-mono text-stone-400 font-bold",children:c.totalRuns})]}),i.jsxs("div",{className:"flex flex-col gap-0.5 md:gap-1",children:[i.jsx("span",{className:"text-[8px] md:text-[10px] text-stone-600 uppercase font-black tracking-widest",children:""}),i.jsx("span",{className:"text-lg md:text-2xl font-mono text-stone-400 font-bold",children:c.totalSoulShardsEarned.toLocaleString()})]})]})]}),i.jsx("div",{className:"p-3 md:p-4 bg-stone-900/50 border-t border-amber-900/20 text-center shrink-0 relative z-10",children:i.jsx("p",{className:"text-[9px] md:text-[10px] text-stone-600 italic font-serif",children:" "})})]})}),document.body),Yb=({player:c})=>{const f=C.useMemo(()=>!c.maxExp||c.maxExp===0?0:Math.min(100,c.exp/c.maxExp*100),[c.exp,c.maxExp]);return i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-4 bg-stone-950 border-t border-stone-800 z-[60] select-none pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-stone-900/50"}),i.jsxs("div",{className:"h-full bg-gradient-to-r from-amber-700 via-amber-600 to-amber-500 transition-all duration-500 ease-out relative overflow-hidden",style:{width:`${f}%`},children:[i.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-[1px] bg-amber-300 shadow-[0_0_8px_#fbbf24]"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/10 to-transparent"})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:i.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold text-stone-100 font-mono drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)] tracking-wider",children:["EXP ",Math.floor(c.exp).toLocaleString()," / ",Math.floor(c.maxExp).toLocaleString()," ",i.jsxs("span",{className:"text-amber-300 mx-1",children:["(",f.toFixed(2),"%)"]})]})})]})},qb=({messages:c,onClear:f})=>(C.useEffect(()=>{if(c.length>0){const d=setTimeout(f,4e3);return()=>clearTimeout(d)}},[c,f]),c.length===0?null:i.jsx("div",{className:"fixed top-12 left-1/2 -translate-x-1/2 z-[200] flex flex-col items-center gap-2 pointer-events-none",children:c.map((d,r)=>i.jsxs("div",{className:"bg-amber-600/90 backdrop-blur-md border border-amber-400 text-white px-6 py-2 rounded-full shadow-2xl animate-bounce text-xs md:text-sm font-black tracking-widest flex items-center gap-3",children:[i.jsx("span",{children:""}),i.jsxs("span",{children:["",d]})]},r))})),Vb=({isActive:c,onExit:f})=>(C.useEffect(()=>{if(!c)return;const d=r=>{r.deltaY<-30&&f()};return window.addEventListener("wheel",d),()=>window.removeEventListener("wheel",d)},[c,f]),c?i.jsxs("div",{className:"fixed inset-0 z-[10000] bg-white text-black font-serif p-8 cursor-default select-none flex flex-col items-start",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"404 Not Found"}),i.jsx("div",{className:"w-full h-px bg-gray-400 mb-2"}),i.jsx("address",{className:"text-sm md:text-base text-gray-600 not-italic",children:"nginx/1.18.0 (Ubuntu)"})]}):null),Xb=({stage:c})=>{const[f,d]=C.useState("");return C.useEffect(()=>{if(c==="entering"){const r=["..."];d(r[Math.floor(Math.random()*r.length)])}},[c]),c==="hidden"?null:i.jsx("div",{className:`fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-black transition-opacity duration-[1500ms] pointer-events-none ${c==="entering"?"opacity-100":"opacity-0"}`,children:i.jsxs("div",{className:"relative z-10 text-center",children:[i.jsx("h2",{className:"text-xl md:text-2xl font-fantasy font-bold tracking-[0.3em] text-stone-300 uppercase animate-pulse",children:f}),i.jsx("div",{className:"mt-4 h-0.5 w-32 bg-gradient-to-r from-transparent via-amber-600 to-transparent mx-auto"})]})})},Qb=({player:c,isDead:f,onRestart:d})=>{const[r,m]=C.useState(null),[v,S]=C.useState(!1);C.useEffect(()=>{f&&c&&!r?(m(c),setTimeout(()=>S(!0),50)):f||(m(null),S(!1))},[f,c,r]);const z=r||c,N=z?z0(z):0;return i.jsx("div",{className:`fixed inset-0 z-[100] flex items-center justify-center transition-all duration-[3000ms] ease-in-out ${f?"bg-black/95 backdrop-blur-sm pointer-events-auto":"bg-transparent pointer-events-none"}`,children:f&&z&&i.jsxs("div",{className:`text-center relative z-10 px-4 min-w-[300px] transition-opacity duration-[3000ms] ease-in-out ${v?"opacity-100":"opacity-0"}`,children:[i.jsxs("div",{className:"mb-10 relative",children:[i.jsx("div",{className:"h-px w-full max-w-[200px] bg-gradient-to-r from-transparent via-red-900 to-transparent mx-auto mb-6 opacity-50"}),i.jsx("h2",{className:"text-6xl md:text-8xl font-fantasy font-black text-red-700 tracking-[0.15em] uppercase drop-shadow-[0_10px_10px_rgba(0,0,0,1)] animate-float",children:"YOU DIED"}),i.jsx("div",{className:"h-px w-full max-w-[200px] bg-gradient-to-r from-transparent via-red-900 to-transparent mx-auto mt-6 opacity-50"})]}),i.jsx("div",{className:"space-y-4 mb-8 text-stone-500 font-serif italic text-lg md:text-xl",children:i.jsxs("p",{className:"tracking-wide",children:[" ",i.jsx("span",{className:"text-red-500 font-bold text-2xl mx-1 font-fantasy border-b border-red-900/30 pb-1",children:z.towerFloor})," "]})}),i.jsxs("div",{className:"mb-12 bg-amber-900/10 border border-amber-900/30 p-4 rounded-xl max-w-xs mx-auto animate-fade-in-slow",children:[i.jsx("p",{className:"text-[10px] text-amber-600 font-bold uppercase tracking-widest mb-1",children:""}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-amber-500 text-2xl",children:""}),i.jsxs("span",{className:"text-amber-100 font-mono font-black text-3xl",children:["+",N]})]}),i.jsx("p",{className:"text-[8px] text-stone-600 mt-2",children:""})]}),i.jsx("button",{onClick:d,className:"group relative px-12 py-4 bg-transparent text-stone-400 font-fantasy font-bold tracking-[0.2em] transition-all uppercase text-sm border border-stone-800 hover:border-red-800 hover:text-red-500 overflow-hidden rounded-sm mx-auto block hover:bg-red-950/10",children:i.jsx("span",{className:"relative z-10 group-hover:drop-shadow-[0_0_8px_rgba(220,38,38,0.5)] transition-all",children:" (Reincarnate)"})})]})})},Kb=({onHardReset:c})=>{const{gameState:f,heroName:d,setHeroName:r,inviteCode:m,setInviteCode:v,selectedClass:S,setSelectedClass:z,player:N,enemy:p,logs:j,activeLocation:_,setActiveLocation:G,isAutoBattling:Q,setIsAutoBattling:ee,startGame:K,resetGame:P,equipItem:se,unequipItem:V,sellItem:F,sellAllItems:ce,sortInventory:he,toggleItemLock:H,buyShopItem:w,configurePotion:Y,useConsumableItem:Z,startCombat:ie,processTurn:O,handleFlee:W,allocateAttribute:I,batchAllocateAttributes:ne,returnHome:le,toggleBossWarning:h,isTurnProcessing:B,startWork:J,claimWorkReward:re,cancelWork:me,legacy:b,buyLegacyUpgrade:M,claimAchievement:$,selectTitle:te,unlockedAchievements:L,setUnlockedAchievements:k}=Wx(),[de,Se]=C.useState("hidden"),[Me,We]=C.useState(!1),[dt,it]=C.useState(null);C.useEffect(()=>{const Ht=_e=>{_e.altKey&&(_e.key==="s"||_e.key==="S")&&(_e.preventDefault(),We(Re=>!Re))};return window.addEventListener("keydown",Ht),()=>window.removeEventListener("keydown",Ht)},[]);const Ft=async()=>{Se("entering"),await new Promise(Ht=>setTimeout(Ht,1200)),K(),await new Promise(Ht=>setTimeout(Ht,800)),Se("exiting"),setTimeout(()=>Se("hidden"),1500)},Tt=()=>{P(!0),setTimeout(()=>{c()},50)},Fl=C.useMemo(()=>f==="MENU"||!N?i.jsx(Px,{heroName:d,setHeroName:r,inviteCode:m,setInviteCode:v,selectedClass:S,setSelectedClass:z,onStartGame:Ft,onOpenLegacy:()=>it("legacy")}):i.jsxs("div",{className:"h-screen w-screen bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-800 via-stone-900 to-black text-stone-200 overflow-hidden relative font-sans selection:bg-amber-900/50",children:[i.jsx("div",{className:"fixed top-0 right-0 w-[100vw] h-[100vh] bg-gradient-to-bl from-indigo-900/15 via-transparent to-transparent pointer-events-none z-0"}),i.jsx("div",{className:"fixed bottom-0 left-0 w-[100vw] h-[60vh] bg-gradient-to-tr from-amber-950/20 via-transparent to-transparent pointer-events-none z-0"}),i.jsx("div",{className:"fixed inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-10 z-0 pointer-events-none mix-blend-overlay"}),i.jsx(qb,{messages:L,onClear:()=>k([])}),i.jsx(Qb,{player:N,isDead:f==="GAME_OVER",onRestart:()=>P()}),i.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-8 pointer-events-none",children:i.jsx(eb,{player:N,onHardReset:Tt,onToggleStealth:()=>We(!0)})}),i.jsx("div",{className:"absolute inset-0 z-0",children:i.jsx(ob,{gameState:f,player:N,enemy:p,logs:j,activeLocation:_,isAutoBattling:Q,setIsAutoBattling:ee,onAttack:O,onFlee:W,onRestart:()=>P(),isTurnProcessing:B,onUseConsumable:Z,onConfigurePotion:Y,onStartCombat:()=>_&&ie(_),onCancelWork:me,onClaimWorkReward:re})}),i.jsx("div",{className:"fixed top-12 left-2 md:top-10 md:left-4 z-40",children:i.jsx(hb,{player:N,legacy:b})}),i.jsx("div",{className:"fixed inset-y-0 right-0 z-30 pointer-events-none",children:i.jsx(Lb,{player:N,gameState:f,activeLocation:_,onChangeLocation:G,onReturnHome:le,onBuyItem:w,isAutoBattling:Q,onToggleSkipBossWarning:h,onStartWork:J,onClaimWorkReward:re,onCancelWork:me,onOpenInventory:()=>it("inventory"),onOpenSkills:()=>it("skills"),onOpenStats:()=>it("stats"),onOpenLegacy:()=>it("legacy"),legacy:b,onClaimAchievement:$,onSelectTitle:te})}),dt==="stats"&&i.jsx(pb,{player:N,legacy:b,onAllocate:I,onBatchAllocate:ne,onConfigurePotion:Y,onClose:()=>it(null)}),dt==="inventory"&&i.jsx(Sb,{player:N,gameState:f,onEquip:se,onUnequip:V,onSell:F,onSellAll:ce,onSort:he,onToggleLock:H,onClose:()=>it(null)}),dt==="skills"&&i.jsx(jb,{player:N,onClose:()=>it(null)}),i.jsx(Yb,{player:N})]}),[f,N,d,m,S,p,j,_,Q,B,dt,b,P,M,w,Y,Z,ie,O,W,I,ne,le,h,J,re,me,se,V,F,ce,H,he,L]);return i.jsxs(i.Fragment,{children:[i.jsx(Vb,{isActive:Me,onExit:()=>We(!1)}),i.jsx(Xb,{stage:de}),Fl,dt==="legacy"&&i.jsx(Gb,{legacy:b,onUpgrade:M,onClose:()=>it(null)})]})},Zb=()=>{const[c,f]=C.useState(0),d=()=>f(r=>r+1);return i.jsx(Mx,{children:i.jsx(Kb,{onHardReset:d},c)},c)},G0=document.getElementById("root");if(!G0)throw new Error("Could not find root element to mount to");const $b=px.createRoot(G0);$b.render(i.jsx(ux.StrictMode,{children:i.jsx(Zb,{})}));
